/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/layout"],{

/***/ "(app-pages-browser)/./app/components/AchievementTriggerManager.tsx":
/*!******************************************************!*\
  !*** ./app/components/AchievementTriggerManager.tsx ***!
  \******************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ AchievementTriggerManager)\n/* harmony export */ });\n/* harmony import */ var _hooks_useShameAchievements__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../hooks/useShameAchievements */ \"(app-pages-browser)/./app/hooks/useShameAchievements.ts\");\n/* harmony import */ var _hooks_useDungeonAchievements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../hooks/useDungeonAchievements */ \"(app-pages-browser)/./app/hooks/useDungeonAchievements.ts\");\n/* harmony import */ var _hooks_useCompanionAchievements__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useCompanionAchievements */ \"(app-pages-browser)/./app/hooks/useCompanionAchievements.ts\");\n/* harmony import */ var _hooks_useRitualAchievements__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useRitualAchievements */ \"(app-pages-browser)/./app/hooks/useRitualAchievements.ts\");\n/* harmony import */ var _hooks_useMapAchievements__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../hooks/useMapAchievements */ \"(app-pages-browser)/./app/hooks/useMapAchievements.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ var _s = $RefreshSig$();\n\n\n\n\n\n/**\r\n * This is a client-side component that exists only to instantiate the achievement trigger hooks.\r\n * These hooks listen to various state changes in the application and trigger achievements accordingly.\r\n * It renders no UI and has no direct effect on the component tree otherwise.\r\n */ function AchievementTriggerManager() {\n    _s();\n    (0,_hooks_useShameAchievements__WEBPACK_IMPORTED_MODULE_0__.useShameAchievements)();\n    (0,_hooks_useDungeonAchievements__WEBPACK_IMPORTED_MODULE_1__.useDungeonAchievements)();\n    (0,_hooks_useCompanionAchievements__WEBPACK_IMPORTED_MODULE_2__.useCompanionAchievements)();\n    (0,_hooks_useRitualAchievements__WEBPACK_IMPORTED_MODULE_3__.useRitualAchievements)();\n    (0,_hooks_useMapAchievements__WEBPACK_IMPORTED_MODULE_4__.useMapAchievements)();\n    return null;\n}\n_s(AchievementTriggerManager, \"N6CxQbuLxR96DXmAkfnRf6yxsko=\", false, function() {\n    return [\n        _hooks_useShameAchievements__WEBPACK_IMPORTED_MODULE_0__.useShameAchievements,\n        _hooks_useDungeonAchievements__WEBPACK_IMPORTED_MODULE_1__.useDungeonAchievements,\n        _hooks_useCompanionAchievements__WEBPACK_IMPORTED_MODULE_2__.useCompanionAchievements,\n        _hooks_useRitualAchievements__WEBPACK_IMPORTED_MODULE_3__.useRitualAchievements,\n        _hooks_useMapAchievements__WEBPACK_IMPORTED_MODULE_4__.useMapAchievements\n    ];\n});\n_c = AchievementTriggerManager;\nvar _c;\n$RefreshReg$(_c, \"AchievementTriggerManager\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL0FjaGlldmVtZW50VHJpZ2dlck1hbmFnZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFcUU7QUFDSTtBQUNJO0FBQ047QUFDTjtBQUVqRTs7OztDQUlDLEdBQ2MsU0FBU0s7O0lBQ3RCTCxpRkFBb0JBO0lBQ3BCQyxxRkFBc0JBO0lBQ3RCQyx5RkFBd0JBO0lBQ3hCQyxtRkFBcUJBO0lBQ3JCQyw2RUFBa0JBO0lBRWxCLE9BQU87QUFDVDtHQVJ3QkM7O1FBQ3RCTCw2RUFBb0JBO1FBQ3BCQyxpRkFBc0JBO1FBQ3RCQyxxRkFBd0JBO1FBQ3hCQywrRUFBcUJBO1FBQ3JCQyx5RUFBa0JBOzs7S0FMSUMiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcY29tcG9uZW50c1xcQWNoaWV2ZW1lbnRUcmlnZ2VyTWFuYWdlci50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlU2hhbWVBY2hpZXZlbWVudHMgfSBmcm9tIFwiLi4vaG9va3MvdXNlU2hhbWVBY2hpZXZlbWVudHNcIjtcclxuaW1wb3J0IHsgdXNlRHVuZ2VvbkFjaGlldmVtZW50cyB9IGZyb20gXCIuLi9ob29rcy91c2VEdW5nZW9uQWNoaWV2ZW1lbnRzXCI7XHJcbmltcG9ydCB7IHVzZUNvbXBhbmlvbkFjaGlldmVtZW50cyB9IGZyb20gXCIuLi9ob29rcy91c2VDb21wYW5pb25BY2hpZXZlbWVudHNcIjtcclxuaW1wb3J0IHsgdXNlUml0dWFsQWNoaWV2ZW1lbnRzIH0gZnJvbSBcIi4uL2hvb2tzL3VzZVJpdHVhbEFjaGlldmVtZW50c1wiO1xyXG5pbXBvcnQgeyB1c2VNYXBBY2hpZXZlbWVudHMgfSBmcm9tIFwiLi4vaG9va3MvdXNlTWFwQWNoaWV2ZW1lbnRzXCI7XHJcblxyXG4vKipcclxuICogVGhpcyBpcyBhIGNsaWVudC1zaWRlIGNvbXBvbmVudCB0aGF0IGV4aXN0cyBvbmx5IHRvIGluc3RhbnRpYXRlIHRoZSBhY2hpZXZlbWVudCB0cmlnZ2VyIGhvb2tzLlxyXG4gKiBUaGVzZSBob29rcyBsaXN0ZW4gdG8gdmFyaW91cyBzdGF0ZSBjaGFuZ2VzIGluIHRoZSBhcHBsaWNhdGlvbiBhbmQgdHJpZ2dlciBhY2hpZXZlbWVudHMgYWNjb3JkaW5nbHkuXHJcbiAqIEl0IHJlbmRlcnMgbm8gVUkgYW5kIGhhcyBubyBkaXJlY3QgZWZmZWN0IG9uIHRoZSBjb21wb25lbnQgdHJlZSBvdGhlcndpc2UuXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBY2hpZXZlbWVudFRyaWdnZXJNYW5hZ2VyKCkge1xyXG4gIHVzZVNoYW1lQWNoaWV2ZW1lbnRzKCk7XHJcbiAgdXNlRHVuZ2VvbkFjaGlldmVtZW50cygpO1xyXG4gIHVzZUNvbXBhbmlvbkFjaGlldmVtZW50cygpO1xyXG4gIHVzZVJpdHVhbEFjaGlldmVtZW50cygpO1xyXG4gIHVzZU1hcEFjaGlldmVtZW50cygpO1xyXG5cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlU2hhbWVBY2hpZXZlbWVudHMiLCJ1c2VEdW5nZW9uQWNoaWV2ZW1lbnRzIiwidXNlQ29tcGFuaW9uQWNoaWV2ZW1lbnRzIiwidXNlUml0dWFsQWNoaWV2ZW1lbnRzIiwidXNlTWFwQWNoaWV2ZW1lbnRzIiwiQWNoaWV2ZW1lbnRUcmlnZ2VyTWFuYWdlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/AchievementTriggerManager.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/components/ThemeController.tsx":
/*!********************************************!*\
  !*** ./app/components/ThemeController.tsx ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   isBrightTheme: () => (/* binding */ isBrightTheme)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ isBrightTheme,default auto */ var _s = $RefreshSig$();\n\n// Helper: detect bright themes by name or computed body background\nconst isBrightTheme = (theme)=>[\n        \"Femboy Peach\",\n        \"Lucid Pink\",\n        \"Candy Vibe\",\n        \"Bubblegirl\"\n    ].includes(theme) ||  true && getComputedStyle(document.body).backgroundColor.includes(\"255\");\nfunction ThemeController() {\n    _s();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"ThemeController.useEffect\": ()=>{\n            const apply = {\n                \"ThemeController.useEffect.apply\": ()=>{\n                    if (typeof document === \"undefined\") return;\n                    const root = document.documentElement;\n                    const body = document.body;\n                    try {\n                        const theme = localStorage.getItem(\"lucid_theme\") || localStorage.getItem(\"theme\") || \"peach\";\n                        const brightness = (localStorage.getItem(\"lucid_brightness\") || \"bright\").toLowerCase();\n                        const autoDim = (localStorage.getItem(\"autoDimBrightThemes\") || \"off\").toLowerCase();\n                        root.setAttribute(\"data-theme\", theme);\n                        body.setAttribute(\"data-theme\", theme);\n                        body.setAttribute(\"data-brightness\", brightness === \"low\" ? \"low\" : \"bright\");\n                        root.setAttribute(\"data-auto-dim\", autoDim === \"on\" || autoDim === \"true\" ? \"on\" : \"off\");\n                        body.setAttribute(\"data-auto-dim\", autoDim === \"on\" || autoDim === \"true\" ? \"on\" : \"off\");\n                    } catch (e) {}\n                }\n            }[\"ThemeController.useEffect.apply\"];\n            apply();\n            const onStorage = {\n                \"ThemeController.useEffect.onStorage\": (e)=>{\n                    if (!e.key || [\n                        \"lucid_theme\",\n                        \"theme\",\n                        \"lucid_brightness\",\n                        \"autoDimBrightThemes\"\n                    ].includes(e.key)) apply();\n                }\n            }[\"ThemeController.useEffect.onStorage\"];\n            window.addEventListener(\"storage\", onStorage);\n            return ({\n                \"ThemeController.useEffect\": ()=>window.removeEventListener(\"storage\", onStorage)\n            })[\"ThemeController.useEffect\"];\n        }\n    }[\"ThemeController.useEffect\"], []);\n    return null;\n}\n_s(ThemeController, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ThemeController;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ThemeController);\nvar _c;\n$RefreshReg$(_c, \"ThemeController\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jb21wb25lbnRzL1RoZW1lQ29udHJvbGxlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDa0M7QUFFbEMsbUVBQW1FO0FBQzVELE1BQU1DLGdCQUFnQixDQUFDQyxRQUM1QjtRQUFDO1FBQWdCO1FBQWM7UUFBYztLQUFhLENBQUNDLFFBQVEsQ0FBQ0QsVUFDbkUsS0FBNkIsSUFBSUUsaUJBQWlCQyxTQUFTQyxJQUFJLEVBQUVDLGVBQWUsQ0FBQ0osUUFBUSxDQUFDLE9BQVE7QUFFckcsU0FBU0s7O0lBQ1BSLGdEQUFTQTtxQ0FBQztZQUNSLE1BQU1TO21EQUFRO29CQUNaLElBQUksT0FBT0osYUFBYSxhQUFhO29CQUNyQyxNQUFNSyxPQUFPTCxTQUFTTSxlQUFlO29CQUNyQyxNQUFNTCxPQUFPRCxTQUFTQyxJQUFJO29CQUMxQixJQUFJO3dCQUNSLE1BQU1KLFFBQVFVLGFBQWFDLE9BQU8sQ0FBQyxrQkFBa0JELGFBQWFDLE9BQU8sQ0FBQyxZQUFZO3dCQUNoRixNQUFNQyxhQUFhLENBQUNGLGFBQWFDLE9BQU8sQ0FBQyx1QkFBdUIsUUFBTyxFQUFHRSxXQUFXO3dCQUNyRixNQUFNQyxVQUFVLENBQUNKLGFBQWFDLE9BQU8sQ0FBQywwQkFBMEIsS0FBSSxFQUFHRSxXQUFXO3dCQUVsRkwsS0FBS08sWUFBWSxDQUFDLGNBQWNmO3dCQUNoQ0ksS0FBS1csWUFBWSxDQUFDLGNBQWNmO3dCQUNoQ0ksS0FBS1csWUFBWSxDQUFDLG1CQUFtQkgsZUFBZSxRQUFRLFFBQVE7d0JBQ3BFSixLQUFLTyxZQUFZLENBQUMsaUJBQWlCRCxZQUFZLFFBQVFBLFlBQVksU0FBUyxPQUFPO3dCQUNuRlYsS0FBS1csWUFBWSxDQUFDLGlCQUFpQkQsWUFBWSxRQUFRQSxZQUFZLFNBQVMsT0FBTztvQkFDckYsRUFBRSxVQUFNLENBQUM7Z0JBQ1g7O1lBRUFQO1lBQ0EsTUFBTVM7dURBQVksQ0FBQ0M7b0JBQ2pCLElBQUksQ0FBQ0EsRUFBRUMsR0FBRyxJQUFJO3dCQUFDO3dCQUFlO3dCQUFTO3dCQUFvQjtxQkFBc0IsQ0FBQ2pCLFFBQVEsQ0FBQ2dCLEVBQUVDLEdBQUcsR0FBR1g7Z0JBQ3JHOztZQUNBWSxPQUFPQyxnQkFBZ0IsQ0FBQyxXQUFXSjtZQUNuQzs2Q0FBTyxJQUFNRyxPQUFPRSxtQkFBbUIsQ0FBQyxXQUFXTDs7UUFDckQ7b0NBQUcsRUFBRTtJQUVMLE9BQU87QUFDVDtHQTVCU1Y7S0FBQUE7QUE4QlQsaUVBQWVBLGVBQWVBLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcY29tcG9uZW50c1xcVGhlbWVDb250cm9sbGVyLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBIZWxwZXI6IGRldGVjdCBicmlnaHQgdGhlbWVzIGJ5IG5hbWUgb3IgY29tcHV0ZWQgYm9keSBiYWNrZ3JvdW5kXG5leHBvcnQgY29uc3QgaXNCcmlnaHRUaGVtZSA9ICh0aGVtZTogc3RyaW5nKSA9PlxuICBbXCJGZW1ib3kgUGVhY2hcIiwgXCJMdWNpZCBQaW5rXCIsIFwiQ2FuZHkgVmliZVwiLCBcIkJ1YmJsZWdpcmxcIl0uaW5jbHVkZXModGhlbWUpIHx8XG4gICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIGdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuYmFja2dyb3VuZENvbG9yLmluY2x1ZGVzKFwiMjU1XCIpKTtcblxuZnVuY3Rpb24gVGhlbWVDb250cm9sbGVyKCkge1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFwcGx5ID0gKCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgdHJ5IHtcbiAgY29uc3QgdGhlbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImx1Y2lkX3RoZW1lXCIpIHx8IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidGhlbWVcIikgfHwgXCJwZWFjaFwiO1xuICAgICAgICBjb25zdCBicmlnaHRuZXNzID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibHVjaWRfYnJpZ2h0bmVzc1wiKSB8fCBcImJyaWdodFwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBhdXRvRGltID0gKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYXV0b0RpbUJyaWdodFRoZW1lc1wiKSB8fCBcIm9mZlwiKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHJvb3Quc2V0QXR0cmlidXRlKFwiZGF0YS10aGVtZVwiLCB0aGVtZSk7XG4gICAgICAgIGJvZHkuc2V0QXR0cmlidXRlKFwiZGF0YS10aGVtZVwiLCB0aGVtZSk7XG4gICAgICAgIGJvZHkuc2V0QXR0cmlidXRlKFwiZGF0YS1icmlnaHRuZXNzXCIsIGJyaWdodG5lc3MgPT09IFwibG93XCIgPyBcImxvd1wiIDogXCJicmlnaHRcIik7XG4gICAgICAgIHJvb3Quc2V0QXR0cmlidXRlKFwiZGF0YS1hdXRvLWRpbVwiLCBhdXRvRGltID09PSBcIm9uXCIgfHwgYXV0b0RpbSA9PT0gXCJ0cnVlXCIgPyBcIm9uXCIgOiBcIm9mZlwiKTtcbiAgICAgICAgYm9keS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWF1dG8tZGltXCIsIGF1dG9EaW0gPT09IFwib25cIiB8fCBhdXRvRGltID09PSBcInRydWVcIiA/IFwib25cIiA6IFwib2ZmXCIpO1xuICAgICAgfSBjYXRjaCB7fVxuICAgIH07XG5cbiAgICBhcHBseSgpO1xuICAgIGNvbnN0IG9uU3RvcmFnZSA9IChlOiBTdG9yYWdlRXZlbnQpID0+IHtcbiAgICAgIGlmICghZS5rZXkgfHwgW1wibHVjaWRfdGhlbWVcIiwgXCJ0aGVtZVwiLCBcImx1Y2lkX2JyaWdodG5lc3NcIiwgXCJhdXRvRGltQnJpZ2h0VGhlbWVzXCJdLmluY2x1ZGVzKGUua2V5KSkgYXBwbHkoKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBvblN0b3JhZ2UpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgb25TdG9yYWdlKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBUaGVtZUNvbnRyb2xsZXI7XG5cbiJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJpc0JyaWdodFRoZW1lIiwidGhlbWUiLCJpbmNsdWRlcyIsImdldENvbXB1dGVkU3R5bGUiLCJkb2N1bWVudCIsImJvZHkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJUaGVtZUNvbnRyb2xsZXIiLCJhcHBseSIsInJvb3QiLCJkb2N1bWVudEVsZW1lbnQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiYnJpZ2h0bmVzcyIsInRvTG93ZXJDYXNlIiwiYXV0b0RpbSIsInNldEF0dHJpYnV0ZSIsIm9uU3RvcmFnZSIsImUiLCJrZXkiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/components/ThemeController.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"7156a8a15427\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nbG9iYWxzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcZ2xvYmFscy5jc3MiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI3MTU2YThhMTU0MjdcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useAchievements.ts":
/*!**************************************!*\
  !*** ./app/hooks/useAchievements.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAchievements: () => (/* binding */ useAchievements)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _data_achievements_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/achievements.json */ \"(app-pages-browser)/./data/achievements.json\");\n/* harmony import */ var _useShame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useShame */ \"(app-pages-browser)/./app/hooks/useShame.ts\");\n/* harmony import */ var _useDungeons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useDungeons */ \"(app-pages-browser)/./app/hooks/useDungeons.ts\");\n/* harmony import */ var _useCompanions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useCompanions */ \"(app-pages-browser)/./app/hooks/useCompanions.ts\");\n/* harmony import */ var _useDreamJournal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useDreamJournal */ \"(app-pages-browser)/./app/hooks/useDreamJournal.ts\");\n/* harmony import */ var _useRitualsEngine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useRitualsEngine */ \"(app-pages-browser)/./app/hooks/useRitualsEngine.ts\");\n/* harmony import */ var _usePunishments__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./usePunishments */ \"(app-pages-browser)/./app/hooks/usePunishments.ts\");\n/* harmony import */ var _useInventory__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useInventory */ \"(app-pages-browser)/./app/hooks/useInventory.ts\");\n/* __next_internal_client_entry_do_not_use__ useAchievements auto */ \n\n\n\n\n\n\n\n\n\n// This would be a real toast library\nconst showToast = (message)=>{\n    console.log(\"TOAST: \".concat(message));\n// In a real app, you'd integrate a library like react-hot-toast here\n};\nfunction useAchievements() {\n    const [achievements, setAchievements] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('achievements', {\n        \"useAchievements.usePersistentState\": ()=>_data_achievements_json__WEBPACK_IMPORTED_MODULE_2__\n    }[\"useAchievements.usePersistentState\"]);\n    const { shame } = (0,_useShame__WEBPACK_IMPORTED_MODULE_3__.useShame)();\n    const { dungeons } = (0,_useDungeons__WEBPACK_IMPORTED_MODULE_4__.useDungeons)();\n    const { companions } = (0,_useCompanions__WEBPACK_IMPORTED_MODULE_5__.useCompanions)();\n    const { entries } = (0,_useDreamJournal__WEBPACK_IMPORTED_MODULE_6__.useDreamJournal)();\n    const { progressById: ritualProgressById } = (0,_useRitualsEngine__WEBPACK_IMPORTED_MODULE_7__.useRitualsEngine)();\n    const { activePunishments } = (0,_usePunishments__WEBPACK_IMPORTED_MODULE_8__.usePunishments)();\n    const { awardXp, awardTokens } = (0,_useInventory__WEBPACK_IMPORTED_MODULE_9__.useInventory)();\n    const unlockAchievement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAchievements.useCallback[unlockAchievement]\": (achievementId)=>{\n            setAchievements({\n                \"useAchievements.useCallback[unlockAchievement]\": (prev)=>{\n                    const achievement = prev.find({\n                        \"useAchievements.useCallback[unlockAchievement].achievement\": (a)=>a.id === achievementId\n                    }[\"useAchievements.useCallback[unlockAchievement].achievement\"]);\n                    if (achievement && !achievement.unlocked) {\n                        showToast(\"\\uD83C\\uDFC6 Achievement Unlocked: \".concat(achievement.title, \"!\"));\n                        // Grant rewards\n                        if (achievement.reward.xp) {\n                            awardXp(achievement.reward.xp);\n                        }\n                        if (achievement.reward.tokens) {\n                            awardTokens(achievement.reward.tokens);\n                        }\n                        // TODO: Add title reward logic\n                        return prev.map({\n                            \"useAchievements.useCallback[unlockAchievement]\": (a)=>a.id === achievementId ? {\n                                    ...a,\n                                    unlocked: true,\n                                    date: new Date().toISOString()\n                                } : a\n                        }[\"useAchievements.useCallback[unlockAchievement]\"]);\n                    }\n                    return prev;\n                }\n            }[\"useAchievements.useCallback[unlockAchievement]\"]);\n        }\n    }[\"useAchievements.useCallback[unlockAchievement]\"], [\n        setAchievements,\n        awardXp,\n        awardTokens\n    ]);\n    const triggerAchievement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAchievements.useCallback[triggerAchievement]\": (type, value)=>{\n            achievements.forEach({\n                \"useAchievements.useCallback[triggerAchievement]\": (achievement)=>{\n                    if (achievement.unlocked) return;\n                    const { trigger } = achievement;\n                    let conditionMet = false;\n                    if (trigger.type === type) {\n                        switch(trigger.type){\n                            case 'MAP_NODE_UNLOCKED':\n                                if (trigger.value === value) {\n                                    conditionMet = true;\n                                }\n                                break;\n                            case 'MAP_ALL_NODES_UNLOCKED':\n                                conditionMet = true; // The check is now done in the calling hook\n                                break;\n                        }\n                    }\n                    if (conditionMet) {\n                        unlockAchievement(achievement.id);\n                    }\n                }\n            }[\"useAchievements.useCallback[triggerAchievement]\"]);\n        }\n    }[\"useAchievements.useCallback[triggerAchievement]\"], [\n        achievements,\n        unlockAchievement\n    ]);\n    const checkTriggers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useAchievements.useCallback[checkTriggers]\": ()=>{\n            if (!achievements) return;\n            achievements.forEach({\n                \"useAchievements.useCallback[checkTriggers]\": (achievement)=>{\n                    if (achievement.unlocked) return;\n                    const { trigger } = achievement;\n                    let conditionMet = false;\n                    switch(trigger.type){\n                        case 'SHAME_COUNTER':\n                            if (shame[trigger.counter] >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'DUNGEON_CLEARED':\n                            const clearedDungeons = dungeons.filter({\n                                \"useAchievements.useCallback[checkTriggers]\": (d)=>d.completed\n                            }[\"useAchievements.useCallback[checkTriggers]\"]).length;\n                            if (clearedDungeons >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'COMPANION_EVOLVED':\n                            const evolvedCompanions = companions.filter({\n                                \"useAchievements.useCallback[checkTriggers]\": (c)=>(c.evolutionTree || c.forms || []).length > 1\n                            }[\"useAchievements.useCallback[checkTriggers]\"]).length; // Simplified\n                            if (evolvedCompanions >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'DREAM_TAG':\n                            const hasTag = entries.some({\n                                \"useAchievements.useCallback[checkTriggers].hasTag\": (e)=>e.tags.includes(trigger.value)\n                            }[\"useAchievements.useCallback[checkTriggers].hasTag\"]);\n                            if (hasTag) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'CONFESSION_LOGGED':\n                            if (shame.confessions.length >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'RITUAL_COMPLETED':\n                            const completedRituals = Object.values(ritualProgressById).filter({\n                                \"useAchievements.useCallback[checkTriggers]\": (p)=>p.completed\n                            }[\"useAchievements.useCallback[checkTriggers]\"]).length;\n                            if (completedRituals >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'PUNISHMENT_TIER_REACHED':\n                            // Assuming tier is the number of active punishments\n                            if (activePunishments.length >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                    }\n                    if (conditionMet) {\n                        unlockAchievement(achievement.id);\n                    }\n                }\n            }[\"useAchievements.useCallback[checkTriggers]\"]);\n        }\n    }[\"useAchievements.useCallback[checkTriggers]\"], [\n        achievements,\n        shame,\n        dungeons,\n        companions,\n        entries,\n        ritualProgressById,\n        activePunishments,\n        unlockAchievement\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAchievements.useEffect\": ()=>{\n            // Debounce or throttle this in a real app if it becomes expensive\n            checkTriggers();\n        }\n    }[\"useAchievements.useEffect\"], [\n        checkTriggers\n    ]);\n    const addAchievement = (newAchievement)=>{\n        const achievementToAdd = {\n            ...newAchievement,\n            unlocked: false,\n            date: null\n        };\n        setAchievements((prev)=>[\n                ...prev,\n                achievementToAdd\n            ]);\n    };\n    const resetAchievements = ()=>{\n        setAchievements(_data_achievements_json__WEBPACK_IMPORTED_MODULE_2__);\n    };\n    return {\n        achievements,\n        unlockAchievement,\n        addAchievement,\n        resetAchievements,\n        checkTriggers,\n        triggerAchievement\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VBY2hpZXZlbWVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O3FFQUUrQztBQUNXO0FBQ0s7QUFFekI7QUFDTTtBQUNJO0FBQ0k7QUFDRTtBQUNKO0FBQ0o7QUFFOUMscUNBQXFDO0FBQ3JDLE1BQU1XLFlBQVksQ0FBQ0M7SUFDakJDLFFBQVFDLEdBQUcsQ0FBQyxVQUFrQixPQUFSRjtBQUN0QixxRUFBcUU7QUFDdkU7QUFFTyxTQUFTRztJQUNkLE1BQU0sQ0FBQ0MsY0FBY0MsZ0JBQWdCLEdBQUdmLHVFQUFrQkEsQ0FBZ0I7OENBQWdCLElBQU1DLG9EQUFtQkE7O0lBQ25ILE1BQU0sRUFBRWUsS0FBSyxFQUFFLEdBQUdkLG1EQUFRQTtJQUMxQixNQUFNLEVBQUVlLFFBQVEsRUFBRSxHQUFHZCx5REFBV0E7SUFDaEMsTUFBTSxFQUFFZSxVQUFVLEVBQUUsR0FBR2QsNkRBQWFBO0lBQ3BDLE1BQU0sRUFBRWUsT0FBTyxFQUFFLEdBQUdkLGlFQUFlQTtJQUNuQyxNQUFNLEVBQUVlLGNBQWNDLGtCQUFrQixFQUFFLEdBQUdmLG1FQUFnQkE7SUFDN0QsTUFBTSxFQUFFZ0IsaUJBQWlCLEVBQUUsR0FBR2YsK0RBQWNBO0lBQzVDLE1BQU0sRUFBRWdCLE9BQU8sRUFBRUMsV0FBVyxFQUFFLEdBQUdoQiwyREFBWUE7SUFFN0MsTUFBTWlCLG9CQUFvQjNCLGtEQUFXQTswREFBQyxDQUFDNEI7WUFDckNYO2tFQUFnQlksQ0FBQUE7b0JBQ2QsTUFBTUMsY0FBY0QsS0FBS0UsSUFBSTtzRkFBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsRUFBRSxLQUFLTDs7b0JBQzVDLElBQUlFLGVBQWUsQ0FBQ0EsWUFBWUksUUFBUSxFQUFFO3dCQUN4Q3ZCLFVBQVUsc0NBQThDLE9BQWxCbUIsWUFBWUssS0FBSyxFQUFDO3dCQUV4RCxnQkFBZ0I7d0JBQ2hCLElBQUlMLFlBQVlNLE1BQU0sQ0FBQ0MsRUFBRSxFQUFFOzRC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UUYsS0FBSyxFQUFFO2dDQUNuQ0csZUFBZTs0QkFDbkI7NEJBQ0E7d0JBQ0osS0FBSzs0QkFDRCxvREFBb0Q7NEJBQ3BELElBQUl4QixrQkFBa0IrQixNQUFNLElBQUlSLFFBQVFGLEtBQUssRUFBRTtnQ0FDM0NHLGVBQWU7NEJBQ25COzRCQUNBO29CQUNOO29CQUVBLElBQUlBLGNBQWM7d0JBQ2hCckIsa0JBQWtCRyxZQUFZRyxFQUFFO29CQUNsQztnQkFDRjs7UUFDRjtxREFBRztRQUFDakI7UUFBY0U7UUFBT0M7UUFBVUM7UUFBWUM7UUFBU0U7UUFBb0JDO1FBQW1CRztLQUFrQjtJQUVqSDFCLGdEQUFTQTtxQ0FBQztZQUNSLGtFQUFrRTtZQUNsRWdEO1FBQ0Y7b0NBQUc7UUFBQ0E7S0FBYztJQUVsQixNQUFNcUIsaUJBQWlCLENBQUNDO1FBQ3RCLE1BQU1DLG1CQUFnQztZQUNwQyxHQUFHRCxjQUFjO1lBQ2pCckMsVUFBVTtZQUNWTSxNQUFNO1FBQ1I7UUFDQXZCLGdCQUFnQlksQ0FBQUEsT0FBUTttQkFBSUE7Z0JBQU0yQzthQUFpQjtJQUNyRDtJQUVBLE1BQU1DLG9CQUFvQjtRQUN4QnhELGdCQUFnQmQsb0RBQW1CQTtJQUNyQztJQUVBLE9BQU87UUFBRWE7UUFBY1c7UUFBbUIyQztRQUFnQkc7UUFBbUJ4QjtRQUFlTjtJQUFtQjtBQUNqSCIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlQWNoaWV2ZW1lbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZVBlcnNpc3RlbnRTdGF0ZSB9IGZyb20gJy4vdXNlUGVyc2lzdGVudFN0YXRlJztcclxuaW1wb3J0IGRlZmF1bHRBY2hpZXZlbWVudHMgZnJvbSAnLi4vLi4vZGF0YS9hY2hpZXZlbWVudHMuanNvbic7XHJcbmltcG9ydCB7IHR5cGUgQWNoaWV2ZW1lbnQgfSBmcm9tICcuLi9saWIvYWNoaWV2ZW1lbnRzJztcclxuaW1wb3J0IHsgdXNlU2hhbWUgfSBmcm9tICcuL3VzZVNoYW1lJztcclxuaW1wb3J0IHsgdXNlRHVuZ2VvbnMgfSBmcm9tICcuL3VzZUR1bmdlb25zJztcclxuaW1wb3J0IHsgdXNlQ29tcGFuaW9ucyB9IGZyb20gJy4vdXNlQ29tcGFuaW9ucyc7XHJcbmltcG9ydCB7IHVzZURyZWFtSm91cm5hbCB9IGZyb20gJy4vdXNlRHJlYW1Kb3VybmFsJztcclxuaW1wb3J0IHsgdXNlUml0dWFsc0VuZ2luZSB9IGZyb20gJy4vdXNlUml0dWFsc0VuZ2luZSc7XHJcbmltcG9ydCB7IHVzZVB1bmlzaG1lbnRzIH0gZnJvbSAnLi91c2VQdW5pc2htZW50cyc7XHJcbmltcG9ydCB7IHVzZUludmVudG9yeSB9IGZyb20gJy4vdXNlSW52ZW50b3J5JztcclxuXHJcbi8vIFRoaXMgd291bGQgYmUgYSByZWFsIHRvYXN0IGxpYnJhcnlcclxuY29uc3Qgc2hvd1RvYXN0ID0gKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGBUT0FTVDogJHttZXNzYWdlfWApO1xyXG4gIC8vIEluIGEgcmVhbCBhcHAsIHlvdSdkIGludGVncmF0ZSBhIGxpYnJhcnkgbGlrZSByZWFjdC1ob3QtdG9hc3QgaGVyZVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjaGlldmVtZW50cygpIHtcclxuICBjb25zdCBbYWNoaWV2ZW1lbnRzLCBzZXRBY2hpZXZlbWVudHNdID0gdXNlUGVyc2lzdGVudFN0YXRlPEFjaGlldmVtZW50W10+KCdhY2hpZXZlbWVudHMnLCAoKSA9PiBkZWZhdWx0QWNoaWV2ZW1lbnRzIGFzIEFjaGlldmVtZW50W10pO1xyXG4gIGNvbnN0IHsgc2hhbWUgfSA9IHVzZVNoYW1lKCk7XHJcbiAgY29uc3QgeyBkdW5nZW9ucyB9ID0gdXNlRHVuZ2VvbnMoKTtcclxuICBjb25zdCB7IGNvbXBhbmlvbnMgfSA9IHVzZUNvbXBhbmlvbnMoKTtcclxuICBjb25zdCB7IGVudHJpZXMgfSA9IHVzZURyZWFtSm91cm5hbCgpO1xyXG4gIGNvbnN0IHsgcHJvZ3Jlc3NCeUlkOiByaXR1YWxQcm9ncmVzc0J5SWQgfSA9IHVzZVJpdHVhbHNFbmdpbmUoKTtcclxuICBjb25zdCB7IGFjdGl2ZVB1bmlzaG1lbnRzIH0gPSB1c2VQdW5pc2htZW50cygpO1xyXG4gIGNvbnN0IHsgYXdhcmRYcCwgYXdhcmRUb2tlbnMgfSA9IHVzZUludmVudG9yeSgpO1xyXG5cclxuICBjb25zdCB1bmxvY2tBY2hpZXZlbWVudCA9IHVzZUNhbGxiYWNrKChhY2hpZXZlbWVudElkOiBzdHJpbmcpID0+IHtcclxuICAgIHNldEFjaGlldmVtZW50cyhwcmV2ID0+IHtcclxuICAgICAgY29uc3QgYWNoaWV2ZW1lbnQgPSBwcmV2LmZpbmQoYSA9PiBhLmlkID09PSBhY2hpZXZlbWVudElkKTtcclxuICAgICAgaWYgKGFjaGlldmVtZW50ICYmICFhY2hpZXZlbWVudC51bmxvY2tlZCkge1xyXG4gICAgICAgIHNob3dUb2FzdChg8J+PhiBBY2hpZXZlbWVudCBVbmxvY2tlZDogJHthY2hpZXZlbWVudC50aXRsZX0hYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gR3JhbnQgcmV3YXJkc1xyXG4gICAgICAgIGlmIChhY2hpZXZlbWVudC5yZXdhcmQueHApIHtcclxuICAgICAgICAgIGF3YXJkWHAoYWNoaWV2ZW1lbnQucmV3YXJkLnhwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFjaGlldmVtZW50LnJld2FyZC50b2tlbnMpIHtcclxuICAgICAgICAgIGF3YXJkVG9rZW5zKGFjaGlldmVtZW50LnJld2FyZC50b2tlbnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiBBZGQgdGl0bGUgcmV3YXJkIGxvZ2ljXHJcblxyXG4gICAgICAgIHJldHVybiBwcmV2Lm1hcChhID0+XHJcbiAgICAgICAgICBhLmlkID09PSBhY2hpZXZlbWVudElkXHJcbiAgICAgICAgICAgID8geyAuLi5hLCB1bmxvY2tlZDogdHJ1ZSwgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH1cclxuICAgICAgICAgICAgOiBhXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcHJldjtcclxuICAgIH0pO1xyXG4gIH0sIFtzZXRBY2hpZXZlbWVudHMsIGF3YXJkWHAsIGF3YXJkVG9rZW5zXSk7XHJcblxyXG4gIGNvbnN0IHRyaWdnZXJBY2hpZXZlbWVudCA9IHVzZUNhbGxiYWNrKCh0eXBlOiBzdHJpbmcsIHZhbHVlPzogYW55KSA9PiB7XHJcbiAgICBhY2hpZXZlbWVudHMuZm9yRWFjaChhY2hpZXZlbWVudCA9PiB7XHJcbiAgICAgIGlmIChhY2hpZXZlbWVudC51bmxvY2tlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgeyB0cmlnZ2VyIH0gPSBhY2hpZXZlbWVudDtcclxuICAgICAgbGV0IGNvbmRpdGlvbk1ldCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKHRyaWdnZXIudHlwZSA9PT0gdHlwZSkge1xyXG4gICAgICAgIHN3aXRjaCAodHJpZ2dlci50eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdNQVBfTk9ERV9VTkxPQ0tFRCc6XHJcbiAgICAgICAgICAgIGlmICh0cmlnZ2VyLnZhbHVlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdNQVBfQUxMX05PREVTX1VOTE9DS0VEJzpcclxuICAgICAgICAgICAgY29uZGl0aW9uTWV0ID0gdHJ1ZTsgLy8gVGhlIGNoZWNrIGlzIG5vdyBkb25lIGluIHRoZSBjYWxsaW5nIGhvb2tcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAvLyBvdGhlciBjYXNlcyBjYW4gYmUgYWRkZWQgaGVyZSBpZiBuZWVkZWQgZm9yIGRpcmVjdCB0cmlnZ2VyaW5nXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uZGl0aW9uTWV0KSB7XHJcbiAgICAgICAgdW5sb2NrQWNoaWV2ZW1lbnQoYWNoaWV2ZW1lbnQuaWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LCBbYWNoaWV2ZW1lbnRzLCB1bmxvY2tBY2hpZXZlbWVudF0pO1xyXG5cclxuICBjb25zdCBjaGVja1RyaWdnZXJzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFhY2hpZXZlbWVudHMpIHJldHVybjtcclxuICAgIGFjaGlldmVtZW50cy5mb3JFYWNoKGFjaGlldmVtZW50ID0+IHtcclxuICAgICAgaWYgKGFjaGlldmVtZW50LnVubG9ja2VkKSByZXR1cm47XHJcblxyXG4gICAgICBjb25zdCB7IHRyaWdnZXIgfSA9IGFjaGlldmVtZW50O1xyXG4gICAgICBsZXQgY29uZGl0aW9uTWV0ID0gZmFsc2U7XHJcblxyXG4gICAgICBzd2l0Y2ggKHRyaWdnZXIudHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ1NIQU1FX0NPVU5URVInOlxyXG4gICAgICAgICAgaWYgKHNoYW1lW3RyaWdnZXIuY291bnRlcl0gPj0gdHJpZ2dlci52YWx1ZSkge1xyXG4gICAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnRFVOR0VPTl9DTEVBUkVEJzpcclxuICAgICAgICAgIGNvbnN0IGNsZWFyZWREdW5nZW9ucyA9IGR1bmdlb25zLmZpbHRlcihkID0+IGQuY29tcGxldGVkKS5sZW5ndGg7XHJcbiAgICAgICAgICBpZiAoY2xlYXJlZER1bmdlb25zID49IHRyaWdnZXIudmFsdWUpIHtcclxuICAgICAgICAgICAgY29uZGl0aW9uTWV0ID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0NPTVBBTklPTl9FVk9MVkVEJzpcclxuICAgICAgICAgICAgY29uc3QgZXZvbHZlZENvbXBhbmlvbnMgPSBjb21wYW5pb25zLmZpbHRlcihjID0+IChjLmV2b2x1dGlvblRyZWUgfHwgYy5mb3JtcyB8fCBbXSkubGVuZ3RoID4gMSkubGVuZ3RoOyAvLyBTaW1wbGlmaWVkXHJcbiAgICAgICAgICAgIGlmIChldm9sdmVkQ29tcGFuaW9ucyA+PSB0cmlnZ2VyLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0RSRUFNX1RBRyc6XHJcbiAgICAgICAgICAgIGNvbnN0IGhhc1RhZyA9IGVudHJpZXMuc29tZShlID0+IGUudGFncy5pbmNsdWRlcyh0cmlnZ2VyLnZhbHVlKSk7XHJcbiAgICAgICAgICAgIGlmIChoYXNUYWcpIHtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQ09ORkVTU0lPTl9MT0dHRUQnOlxyXG4gICAgICAgICAgICBpZiAoc2hhbWUuY29uZmVzc2lvbnMubGVuZ3RoID49IHRyaWdnZXIudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnUklUVUFMX0NPTVBMRVRFRCc6XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZFJpdHVhbHMgPSBPYmplY3QudmFsdWVzKHJpdHVhbFByb2dyZXNzQnlJZCkuZmlsdGVyKHAgPT4gcC5jb21wbGV0ZWQpLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZFJpdHVhbHMgPj0gdHJpZ2dlci52YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgY29uZGl0aW9uTWV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdQVU5JU0hNRU5UX1RJRVJfUkVBQ0hFRCc6XHJcbiAgICAgICAgICAgIC8vIEFzc3VtaW5nIHRpZXIgaXMgdGhlIG51bWJlciBvZiBhY3RpdmUgcHVuaXNobWVudHNcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVB1bmlzaG1lbnRzLmxlbmd0aCA+PSB0cmlnZ2VyLnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uZGl0aW9uTWV0KSB7XHJcbiAgICAgICAgdW5sb2NrQWNoaWV2ZW1lbnQoYWNoaWV2ZW1lbnQuaWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9LCBbYWNoaWV2ZW1lbnRzLCBzaGFtZSwgZHVuZ2VvbnMsIGNvbXBhbmlvbnMsIGVudHJpZXMsIHJpdHVhbFByb2dyZXNzQnlJZCwgYWN0aXZlUHVuaXNobWVudHMsIHVubG9ja0FjaGlldmVtZW50XSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBEZWJvdW5jZSBvciB0aHJvdHRsZSB0aGlzIGluIGEgcmVhbCBhcHAgaWYgaXQgYmVjb21lcyBleHBlbnNpdmVcclxuICAgIGNoZWNrVHJpZ2dlcnMoKTtcclxuICB9LCBbY2hlY2tUcmlnZ2Vyc10pO1xyXG5cclxuICBjb25zdCBhZGRBY2hpZXZlbWVudCA9IChuZXdBY2hpZXZlbWVudDogT21pdDxBY2hpZXZlbWVudCwgJ3VubG9ja2VkJyB8ICdkYXRlJz4pID0+IHtcclxuICAgIGNvbnN0IGFjaGlldmVtZW50VG9BZGQ6IEFjaGlldmVtZW50ID0ge1xyXG4gICAgICAuLi5uZXdBY2hpZXZlbWVudCxcclxuICAgICAgdW5sb2NrZWQ6IGZhbHNlLFxyXG4gICAgICBkYXRlOiBudWxsLFxyXG4gICAgfTtcclxuICAgIHNldEFjaGlldmVtZW50cyhwcmV2ID0+IFsuLi5wcmV2LCBhY2hpZXZlbWVudFRvQWRkXSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVzZXRBY2hpZXZlbWVudHMgPSAoKSA9PiB7XHJcbiAgICBzZXRBY2hpZXZlbWVudHMoZGVmYXVsdEFjaGlldmVtZW50cyBhcyBBY2hpZXZlbWVudFtdKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4geyBhY2hpZXZlbWVudHMsIHVubG9ja0FjaGlldmVtZW50LCBhZGRBY2hpZXZlbWVudCwgcmVzZXRBY2hpZXZlbWVudHMsIGNoZWNrVHJpZ2dlcnMsIHRyaWdnZXJBY2hpZXZlbWVudCB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVBlcnNpc3RlbnRTdGF0ZSIsImRlZmF1bHRBY2hpZXZlbWVudHMiLCJ1c2VTaGFtZSIsInVzZUR1bmdlb25zIiwidXNlQ29tcGFuaW9ucyIsInVzZURyZWFtSm91cm5hbCIsInVzZVJpdHVhbHNFbmdpbmUiLCJ1c2VQdW5pc2htZW50cyIsInVzZUludmVudG9yeSIsInNob3dUb2FzdCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXNlQWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRzIiwic2V0QWNoaWV2ZW1lbnRzIiwic2hhbWUiLCJkdW5nZW9ucyIsImNvbXBhbmlvbnMiLCJlbnRyaWVzIiwicHJvZ3Jlc3NCeUlkIiwicml0dWFsUHJvZ3Jlc3NCeUlkIiwiYWN0aXZlUHVuaXNobWVudHMiLCJhd2FyZFhwIiwiYXdhcmRUb2tlbnMiLCJ1bmxvY2tBY2hpZXZlbWVudCIsImFjaGlldmVtZW50SWQiLCJwcmV2IiwiYWNoaWV2ZW1lbnQiLCJmaW5kIiwiYSIsImlkIiwidW5sb2NrZWQiLCJ0aXRsZSIsInJld2FyZCIsInhwIiwidG9rZW5zIiwibWFwIiwiZGF0ZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInRyaWdnZXJBY2hpZXZlbWVudCIsInR5cGUiLCJ2YWx1ZSIsImZvckVhY2giLCJ0cmlnZ2VyIiwiY29uZGl0aW9uTWV0IiwiY2hlY2tUcmlnZ2VycyIsImNvdW50ZXIiLCJjbGVhcmVkRHVuZ2VvbnMiLCJmaWx0ZXIiLCJkIiwiY29tcGxldGVkIiwibGVuZ3RoIiwiZXZvbHZlZENvbXBhbmlvbnMiLCJjIiwiZXZvbHV0aW9uVHJlZSIsImZvcm1zIiwiaGFzVGFnIiwic29tZSIsImUiLCJ0YWdzIiwiaW5jbHVkZXMiLCJjb25mZXNzaW9ucyIsImNvbXBsZXRlZFJpdHVhbHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJwIiwiYWRkQWNoaWV2ZW1lbnQiLCJuZXdBY2hpZXZlbWVudCIsImFjaGlldmVtZW50VG9BZGQiLCJyZXNldEFjaGlldmVtZW50cyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useAchievements.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useBuffs.ts":
/*!*******************************!*\
  !*** ./app/hooks/useBuffs.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useBuffs: () => (/* binding */ useBuffs)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _data_buffs_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/buffs.json */ \"(app-pages-browser)/./data/buffs.json\");\n/* __next_internal_client_entry_do_not_use__ useBuffs auto */ \n\n// Load initial data from JSON\n\nconst defaultBuffData = _data_buffs_json__WEBPACK_IMPORTED_MODULE_2__;\nfunction useBuffs() {\n    var _buffData_active, _buffData_history;\n    const [buffData, setBuffData] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('buffData_v2', {\n        \"useBuffs.usePersistentState\": ()=>defaultBuffData\n    }[\"useBuffs.usePersistentState\"]);\n    const [currentTime, setCurrentTime] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Date.now());\n    console.log('useBuffs Debug:', {\n        buffData,\n        defaultBuffData,\n        activeCount: (buffData === null || buffData === void 0 ? void 0 : (_buffData_active = buffData.active) === null || _buffData_active === void 0 ? void 0 : _buffData_active.length) || 0,\n        historyCount: (buffData === null || buffData === void 0 ? void 0 : (_buffData_history = buffData.history) === null || _buffData_history === void 0 ? void 0 : _buffData_history.length) || 0\n    });\n    // Update current time every second for real-time countdown\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useBuffs.useEffect\": ()=>{\n            const interval = setInterval({\n                \"useBuffs.useEffect.interval\": ()=>{\n                    setCurrentTime(Date.now());\n                }\n            }[\"useBuffs.useEffect.interval\"], 1000);\n            return ({\n                \"useBuffs.useEffect\": ()=>clearInterval(interval)\n            })[\"useBuffs.useEffect\"];\n        }\n    }[\"useBuffs.useEffect\"], []);\n    // Auto-expire buffs when they expire\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useBuffs.useEffect\": ()=>{\n            const now = Date.now();\n            const expired = buffData.active.filter({\n                \"useBuffs.useEffect.expired\": (buff)=>buff.expiresAt <= now\n            }[\"useBuffs.useEffect.expired\"]);\n            if (expired.length > 0) {\n                const stillActive = buffData.active.filter({\n                    \"useBuffs.useEffect.stillActive\": (buff)=>buff.expiresAt > now\n                }[\"useBuffs.useEffect.stillActive\"]);\n                const expiredHistory = expired.map({\n                    \"useBuffs.useEffect.expiredHistory\": (buff)=>({\n                            id: buff.id,\n                            name: buff.name,\n                            type: buff.type,\n                            desc: buff.desc,\n                            duration: buff.duration,\n                            source: buff.source,\n                            icon: buff.icon,\n                            rarity: buff.rarity,\n                            effects: buff.effects,\n                            expiredAt: now\n                        })\n                }[\"useBuffs.useEffect.expiredHistory\"]);\n                setBuffData({\n                    active: stillActive,\n                    history: [\n                        ...expiredHistory,\n                        ...buffData.history\n                    ].slice(0, 50) // Keep last 50 history entries\n                });\n            }\n        }\n    }[\"useBuffs.useEffect\"], [\n        currentTime,\n        buffData.active,\n        setBuffData,\n        buffData.history\n    ]);\n    // Calculate combined effects from all active buffs\n    const calculateEffects = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[calculateEffects]\": ()=>{\n            const effects = {};\n            buffData.active.forEach({\n                \"useBuffs.useCallback[calculateEffects]\": (buff)=>{\n                    Object.entries(buff.effects).forEach({\n                        \"useBuffs.useCallback[calculateEffects]\": (param)=>{\n                            let [key, value] = param;\n                            const effectKey = key;\n                            if (typeof value === 'number') {\n                                if (effectKey.includes('Multiplier')) {\n                                    // For multipliers, multiply them together\n                                    effects[effectKey] = (effects[effectKey] || 1) * value;\n                                } else {\n                                    // For additive effects, add them together\n                                    effects[effectKey] = (effects[effectKey] || 0) + value;\n                                }\n                            }\n                        }\n                    }[\"useBuffs.useCallback[calculateEffects]\"]);\n                }\n            }[\"useBuffs.useCallback[calculateEffects]\"]);\n            return effects;\n        }\n    }[\"useBuffs.useCallback[calculateEffects]\"], [\n        buffData.active\n    ]);\n    // Add a new buff\n    const addBuff = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[addBuff]\": (buffInput)=>{\n            const now = Date.now();\n            const newBuff = {\n                ...buffInput,\n                id: \"\".concat(buffInput.type[0]).concat(now),\n                createdAt: now,\n                expiresAt: now + buffInput.durationMs\n            };\n            setBuffData({\n                \"useBuffs.useCallback[addBuff]\": (prev)=>({\n                        ...prev,\n                        active: [\n                            ...prev.active,\n                            newBuff\n                        ]\n                    })\n            }[\"useBuffs.useCallback[addBuff]\"]);\n            return newBuff.id;\n        }\n    }[\"useBuffs.useCallback[addBuff]\"], [\n        setBuffData\n    ]);\n    // Remove an active buff manually\n    const removeBuff = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[removeBuff]\": (buffId)=>{\n            const buffToRemove = buffData.active.find({\n                \"useBuffs.useCallback[removeBuff].buffToRemove\": (b)=>b.id === buffId\n            }[\"useBuffs.useCallback[removeBuff].buffToRemove\"]);\n            if (!buffToRemove) return false;\n            const now = Date.now();\n            const expiredBuff = {\n                id: buffToRemove.id,\n                name: buffToRemove.name,\n                type: buffToRemove.type,\n                desc: buffToRemove.desc,\n                duration: buffToRemove.duration,\n                source: buffToRemove.source,\n                icon: buffToRemove.icon,\n                rarity: buffToRemove.rarity,\n                effects: buffToRemove.effects,\n                expiredAt: now\n            };\n            setBuffData({\n                \"useBuffs.useCallback[removeBuff]\": (prev)=>({\n                        active: prev.active.filter({\n                            \"useBuffs.useCallback[removeBuff]\": (b)=>b.id !== buffId\n                        }[\"useBuffs.useCallback[removeBuff]\"]),\n                        history: [\n                            expiredBuff,\n                            ...prev.history\n                        ].slice(0, 50)\n                    })\n            }[\"useBuffs.useCallback[removeBuff]\"]);\n            return true;\n        }\n    }[\"useBuffs.useCallback[removeBuff]\"], [\n        buffData.active,\n        setBuffData\n    ]);\n    // Clear all expired buffs from history\n    const clearHistory = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[clearHistory]\": ()=>{\n            setBuffData({\n                \"useBuffs.useCallback[clearHistory]\": (prev)=>({\n                        ...prev,\n                        history: []\n                    })\n            }[\"useBuffs.useCallback[clearHistory]\"]);\n        }\n    }[\"useBuffs.useCallback[clearHistory]\"], [\n        setBuffData\n    ]);\n    // Get time remaining for a buff\n    const getTimeRemaining = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[getTimeRemaining]\": (buff)=>{\n            return Math.max(0, buff.expiresAt - currentTime);\n        }\n    }[\"useBuffs.useCallback[getTimeRemaining]\"], [\n        currentTime\n    ]);\n    // Get formatted time remaining\n    const getFormattedTimeRemaining = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[getFormattedTimeRemaining]\": (buff)=>{\n            const remaining = getTimeRemaining(buff);\n            if (remaining === 0) return 'Expired';\n            const seconds = Math.floor(remaining / 1000);\n            const minutes = Math.floor(seconds / 60);\n            const hours = Math.floor(minutes / 60);\n            const days = Math.floor(hours / 24);\n            if (days > 0) return \"\".concat(days, \"d \").concat(hours % 24, \"h\");\n            if (hours > 0) return \"\".concat(hours, \"h \").concat(minutes % 60, \"m\");\n            if (minutes > 0) return \"\".concat(minutes, \"m \").concat(seconds % 60, \"s\");\n            return \"\".concat(seconds, \"s\");\n        }\n    }[\"useBuffs.useCallback[getFormattedTimeRemaining]\"], [\n        getTimeRemaining\n    ]);\n    // Get active buffs by type\n    const getActiveBuffs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[getActiveBuffs]\": ()=>{\n            return buffData.active.filter({\n                \"useBuffs.useCallback[getActiveBuffs]\": (b)=>b.type === 'buff'\n            }[\"useBuffs.useCallback[getActiveBuffs]\"]);\n        }\n    }[\"useBuffs.useCallback[getActiveBuffs]\"], [\n        buffData.active\n    ]);\n    const getActiveCurses = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[getActiveCurses]\": ()=>{\n            return buffData.active.filter({\n                \"useBuffs.useCallback[getActiveCurses]\": (b)=>b.type === 'curse'\n            }[\"useBuffs.useCallback[getActiveCurses]\"]);\n        }\n    }[\"useBuffs.useCallback[getActiveCurses]\"], [\n        buffData.active\n    ]);\n    // Get effect multiplier for specific effect type\n    const getEffectMultiplier = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[getEffectMultiplier]\": (effectType)=>{\n            const effects = calculateEffects();\n            return effects[effectType] || (effectType.includes('Multiplier') ? 1 : 0);\n        }\n    }[\"useBuffs.useCallback[getEffectMultiplier]\"], [\n        calculateEffects\n    ]);\n    // Legacy compatibility methods for existing code\n    const applyEvent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useBuffs.useCallback[applyEvent]\": (event, baseValue)=>{\n            const effects = calculateEffects();\n            let multiplier = 1;\n            switch(event){\n                case 'xp':\n                    multiplier = effects.xpMultiplier || 1;\n                    break;\n                case 'obedience':\n                    multiplier = effects.obedienceGain || 1;\n                    break;\n                case 'tokens':\n                    multiplier = effects.tokenMultiplier || 1;\n                    break;\n                case 'clarity':\n                    multiplier = effects.dreamClarity || 1;\n                    break;\n            }\n            return Math.round(baseValue * multiplier);\n        }\n    }[\"useBuffs.useCallback[applyEvent]\"], [\n        calculateEffects\n    ]);\n    return {\n        // New API\n        activeBuffs: getActiveBuffs(),\n        activeCurses: getActiveCurses(),\n        allActive: buffData.active,\n        history: buffData.history,\n        effects: calculateEffects(),\n        getEffectMultiplier,\n        addBuff,\n        removeBuff,\n        clearHistory,\n        getTimeRemaining,\n        getFormattedTimeRemaining,\n        currentTime,\n        totalActive: buffData.active.length,\n        buffCount: getActiveBuffs().length,\n        curseCount: getActiveCurses().length,\n        historyCount: buffData.history.length,\n        // Legacy compatibility for existing code\n        buffs: buffData.active,\n        applyEvent\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VCdWZmcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs4REFFa0U7QUFDUjtBQXFDMUQsOEJBQThCO0FBQ21CO0FBQ2pELE1BQU1LLGtCQUE0QkQsNkNBQVlBO0FBRXZDLFNBQVNFO1FBT0NDLGtCQUNDQTtJQVBoQixNQUFNLENBQUNBLFVBQVVDLFlBQVksR0FBR0wsdUVBQWtCQSxDQUFXO3VDQUFlLElBQU1FOztJQUNsRixNQUFNLENBQUNJLGFBQWFDLGVBQWUsR0FBR1IsK0NBQVFBLENBQUNTLEtBQUtDLEdBQUc7SUFFdkRDLFFBQVFDLEdBQUcsQ0FBQyxtQkFBbUI7UUFDN0JQO1FBQ0FGO1FBQ0FVLGFBQWFSLENBQUFBLHFCQUFBQSxnQ0FBQUEsbUJBQUFBLFNBQVVTLE1BQU0sY0FBaEJULHVDQUFBQSxpQkFBa0JVLE1BQU0sS0FBSTtRQUN6Q0MsY0FBY1gsQ0FBQUEscUJBQUFBLGdDQUFBQSxvQkFBQUEsU0FBVVksT0FBTyxjQUFqQlosd0NBQUFBLGtCQUFtQlUsTUFBTSxLQUFJO0lBQzdDO0lBRUEsMkRBQTJEO0lBQzNEaEIsZ0RBQVNBOzhCQUFDO1lBQ1IsTUFBTW1CLFdBQVdDOytDQUFZO29CQUMzQlgsZUFBZUMsS0FBS0MsR0FBRztnQkFDekI7OENBQUc7WUFFSDtzQ0FBTyxJQUFNVSxjQUFjRjs7UUFDN0I7NkJBQUcsRUFBRTtJQUVMLHFDQUFxQztJQUNyQ25CLGdEQUFTQTs4QkFBQztZQUNSLE1BQU1XLE1BQU1ELEtBQUtDLEdBQUc7WUFDcEIsTUFBTVcsVUFBVWhCLFNBQVNTLE1BQU0sQ0FBQ1EsTUFBTTs4Q0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsU0FBUyxJQUFJZDs7WUFFakUsSUFBSVcsUUFBUU4sTUFBTSxHQUFHLEdBQUc7Z0JBQ3RCLE1BQU1VLGNBQWNwQixTQUFTUyxNQUFNLENBQUNRLE1BQU07c0RBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFNBQVMsR0FBR2Q7O2dCQUNwRSxNQUFN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QUFZLElBQUk7b0JBQ3JDO1lBQ0o7WUFFQSxPQUFPcEIsS0FBS3FCLEtBQUssQ0FBQ04sWUFBWUM7UUFDaEM7MkNBQUc7UUFBQ3RDO0tBQWlCO0lBRXJCLE9BQU87UUFDTCxVQUFVO1FBQ1Y0QyxhQUFhYjtRQUNiYyxjQUFjYjtRQUNkYyxXQUFXaEYsU0FBU1MsTUFBTTtRQUMxQkcsU0FBU1osU0FBU1ksT0FBTztRQUN6Qm1CLFNBQVNHO1FBQ1RpQztRQUNBekI7UUFDQU07UUFDQU07UUFDQUM7UUFDQUc7UUFDQXhEO1FBQ0ErRSxhQUFhakYsU0FBU1MsTUFBTSxDQUFDQyxNQUFNO1FBQ25Dd0UsV0FBV2pCLGlCQUFpQnZELE1BQU07UUFDbEN5RSxZQUFZakIsa0JBQWtCeEQsTUFBTTtRQUNwQ0MsY0FBY1gsU0FBU1ksT0FBTyxDQUFDRixNQUFNO1FBRXJDLHlDQUF5QztRQUN6QzBFLE9BQU9wRixTQUFTUyxNQUFNO1FBQ3RCNEQ7SUFDRjtBQUNGIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXEx1Y2lkIERyZWFtXFxhcHBcXGhvb2tzXFx1c2VCdWZmcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VQZXJzaXN0ZW50U3RhdGUgfSBmcm9tIFwiLi91c2VQZXJzaXN0ZW50U3RhdGVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBCdWZmRWZmZWN0IHtcbiAgeHBNdWx0aXBsaWVyPzogbnVtYmVyO1xuICBib25kTXVsdGlwbGllcj86IG51bWJlcjtcbiAgZHJlYW1DbGFyaXR5PzogbnVtYmVyO1xuICBtb3ZlbWVudFNwZWVkPzogbnVtYmVyO1xuICBsdWNpZFhwTXVsdGlwbGllcj86IG51bWJlcjtcbiAgcml0dWFsU3VjY2Vzc1JhdGU/OiBudW1iZXI7XG4gIG9iZWRpZW5jZUdhaW4/OiBudW1iZXI7XG4gIHRva2VuTXVsdGlwbGllcj86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdWZmIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiAnYnVmZicgfCAnY3Vyc2UnO1xuICBkZXNjOiBzdHJpbmc7XG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIGR1cmF0aW9uTXM6IG51bWJlcjtcbiAgY3JlYXRlZEF0OiBudW1iZXI7XG4gIGV4cGlyZXNBdDogbnVtYmVyO1xuICBzb3VyY2U6IHN0cmluZztcbiAgaWNvbjogc3RyaW5nO1xuICByYXJpdHk6ICdjb21tb24nIHwgJ3VuY29tbW9uJyB8ICdyYXJlJyB8ICdlcGljJyB8ICdsZWdlbmRhcnknO1xuICBlZmZlY3RzOiBCdWZmRWZmZWN0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4cGlyZWRCdWZmIGV4dGVuZHMgT21pdDxCdWZmLCAnZHVyYXRpb25NcycgfCAnY3JlYXRlZEF0JyB8ICdleHBpcmVzQXQnPiB7XG4gIGV4cGlyZWRBdDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJ1ZmZEYXRhIHtcbiAgYWN0aXZlOiBCdWZmW107XG4gIGhpc3Rvcnk6IEV4cGlyZWRCdWZmW107XG59XG5cbi8vIExvYWQgaW5pdGlhbCBkYXRhIGZyb20gSlNPTlxuaW1wb3J0IGJ1ZmZEYXRhSnNvbiBmcm9tIFwiLi4vLi4vZGF0YS9idWZmcy5qc29uXCI7XG5jb25zdCBkZWZhdWx0QnVmZkRhdGE6IEJ1ZmZEYXRhID0gYnVmZkRhdGFKc29uIGFzIEJ1ZmZEYXRhO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQnVmZnMoKSB7XG4gIGNvbnN0IFtidWZmRGF0YSwgc2V0QnVmZkRhdGFdID0gdXNlUGVyc2lzdGVudFN0YXRlPEJ1ZmZEYXRhPignYnVmZkRhdGFfdjInLCAoKSA9PiBkZWZhdWx0QnVmZkRhdGEpO1xuICBjb25zdCBbY3VycmVudFRpbWUsIHNldEN1cnJlbnRUaW1lXSA9IHVzZVN0YXRlKERhdGUubm93KCkpO1xuXG4gIGNvbnNvbGUubG9nKCd1c2VCdWZmcyBEZWJ1ZzonLCB7XG4gICAgYnVmZkRhdGEsXG4gICAgZGVmYXVsdEJ1ZmZEYXRhLFxuICAgIGFjdGl2ZUNvdW50OiBidWZmRGF0YT8uYWN0aXZlPy5sZW5ndGggfHwgMCxcbiAgICBoaXN0b3J5Q291bnQ6IGJ1ZmZEYXRhPy5oaXN0b3J5Py5sZW5ndGggfHwgMFxuICB9KTtcblxuICAvLyBVcGRhdGUgY3VycmVudCB0aW1lIGV2ZXJ5IHNlY29uZCBmb3IgcmVhbC10aW1lIGNvdW50ZG93blxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgc2V0Q3VycmVudFRpbWUoRGF0ZS5ub3coKSk7XG4gICAgfSwgMTAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0sIFtdKTtcblxuICAvLyBBdXRvLWV4cGlyZSBidWZmcyB3aGVuIHRoZXkgZXhwaXJlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBleHBpcmVkID0gYnVmZkRhdGEuYWN0aXZlLmZpbHRlcihidWZmID0+IGJ1ZmYuZXhwaXJlc0F0IDw9IG5vdyk7XG4gICAgXG4gICAgaWYgKGV4cGlyZWQubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc3RpbGxBY3RpdmUgPSBidWZmRGF0YS5hY3RpdmUuZmlsdGVyKGJ1ZmYgPT4gYnVmZi5leHBpcmVzQXQgPiBub3cpO1xuICAgICAgY29uc3QgZXhwaXJlZEhpc3Rvcnk6IEV4cGlyZWRCdWZmW10gPSBleHBpcmVkLm1hcChidWZmID0+ICh7XG4gICAgICAgIGlkOiBidWZmLmlkLFxuICAgICAgICBuYW1lOiBidWZmLm5hbWUsXG4gICAgICAgIHR5cGU6IGJ1ZmYudHlwZSxcbiAgICAgICAgZGVzYzogYnVmZi5kZXNjLFxuICAgICAgICBkdXJhdGlvbjogYnVmZi5kdXJhdGlvbixcbiAgICAgICAgc291cmNlOiBidWZmLnNvdXJjZSxcbiAgICAgICAgaWNvbjogYnVmZi5pY29uLFxuICAgICAgICByYXJpdHk6IGJ1ZmYucmFyaXR5LFxuICAgICAgICBlZmZlY3RzOiBidWZmLmVmZmVjdHMsXG4gICAgICAgIGV4cGlyZWRBdDogbm93XG4gICAgICB9KSk7XG5cbiAgICAgIHNldEJ1ZmZEYXRhKHtcbiAgICAgICAgYWN0aXZlOiBzdGlsbEFjdGl2ZSxcbiAgICAgICAgaGlzdG9yeTogWy4uLmV4cGlyZWRIaXN0b3J5LCAuLi5idWZmRGF0YS5oaXN0b3J5XS5zbGljZSgwLCA1MCkgLy8gS2VlcCBsYXN0IDUwIGhpc3RvcnkgZW50cmllc1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbY3VycmVudFRpbWUsIGJ1ZmZEYXRhLmFjdGl2ZSwgc2V0QnVmZkRhdGEsIGJ1ZmZEYXRhLmhpc3RvcnldKTtcblxuICAvLyBDYWxjdWxhdGUgY29tYmluZWQgZWZmZWN0cyBmcm9tIGFsbCBhY3RpdmUgYnVmZnNcbiAgY29uc3QgY2FsY3VsYXRlRWZmZWN0cyA9IHVzZUNhbGxiYWNrKCgpOiBCdWZmRWZmZWN0ID0+IHtcbiAgICBjb25zdCBlZmZlY3RzOiBCdWZmRWZmZWN0ID0ge307XG4gICAgXG4gICAgYnVmZkRhdGEuYWN0aXZlLmZvckVhY2goYnVmZiA9PiB7XG4gICAgICBPYmplY3QuZW50cmllcyhidWZmLmVmZmVjdHMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBjb25zdCBlZmZlY3RLZXkgPSBrZXkgYXMga2V5b2YgQnVmZkVmZmVjdDtcbiAgICAgICAgXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgaWYgKGVmZmVjdEtleS5pbmNsdWRlcygnTXVsdGlwbGllcicpKSB7XG4gICAgICAgICAgICAvLyBGb3IgbXVsdGlwbGllcnMsIG11bHRpcGx5IHRoZW0gdG9nZXRoZXJcbiAgICAgICAgICAgIGVmZmVjdHNbZWZmZWN0S2V5XSA9IChlZmZlY3RzW2VmZmVjdEtleV0gfHwgMSkgKiB2YWx1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRm9yIGFkZGl0aXZlIGVmZmVjdHMsIGFkZCB0aGVtIHRvZ2V0aGVyXG4gICAgICAgICAgICBlZmZlY3RzW2VmZmVjdEtleV0gPSAoZWZmZWN0c1tlZmZlY3RLZXldIHx8IDApICsgdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBlZmZlY3RzO1xuICB9LCBbYnVmZkRhdGEuYWN0aXZlXSk7XG5cbiAgLy8gQWRkIGEgbmV3IGJ1ZmZcbiAgY29uc3QgYWRkQnVmZiA9IHVzZUNhbGxiYWNrKChidWZmSW5wdXQ6IE9taXQ8QnVmZiwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ2V4cGlyZXNBdCc+KSA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBuZXdCdWZmOiBCdWZmID0ge1xuICAgICAgLi4uYnVmZklucHV0LFxuICAgICAgaWQ6IGAke2J1ZmZJbnB1dC50eXBlWzBdfSR7bm93fWAsIC8vIEdlbmVyYXRlIHVuaXF1ZSBJRFxuICAgICAgY3JlYXRlZEF0OiBub3csXG4gICAgICBleHBpcmVzQXQ6IG5vdyArIGJ1ZmZJbnB1dC5kdXJhdGlvbk1zXG4gICAgfTtcblxuICAgIHNldEJ1ZmZEYXRhKHByZXYgPT4gKHtcbiAgICAgIC4uLnByZXYsXG4gICAgICBhY3RpdmU6IFsuLi5wcmV2LmFjdGl2ZSwgbmV3QnVmZl1cbiAgICB9KSk7XG5cbiAgICByZXR1cm4gbmV3QnVmZi5pZDtcbiAgfSwgW3NldEJ1ZmZEYXRhXSk7XG5cbiAgLy8gUmVtb3ZlIGFuIGFjdGl2ZSBidWZmIG1hbnVhbGx5XG4gIGNvbnN0IHJlbW92ZUJ1ZmYgPSB1c2VDYWxsYmFjaygoYnVmZklkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBidWZmVG9SZW1vdmUgPSBidWZmRGF0YS5hY3RpdmUuZmluZChiID0+IGIuaWQgPT09IGJ1ZmZJZCk7XG4gICAgaWYgKCFidWZmVG9SZW1vdmUpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZXhwaXJlZEJ1ZmY6IEV4cGlyZWRCdWZmID0ge1xuICAgICAgaWQ6IGJ1ZmZUb1JlbW92ZS5pZCxcbiAgICAgIG5hbWU6IGJ1ZmZUb1JlbW92ZS5uYW1lLFxuICAgICAgdHlwZTogYnVmZlRvUmVtb3ZlLnR5cGUsXG4gICAgICBkZXNjOiBidWZmVG9SZW1vdmUuZGVzYyxcbiAgICAgIGR1cmF0aW9uOiBidWZmVG9SZW1vdmUuZHVyYXRpb24sXG4gICAgICBzb3VyY2U6IGJ1ZmZUb1JlbW92ZS5zb3VyY2UsXG4gICAgICBpY29uOiBidWZmVG9SZW1vdmUuaWNvbixcbiAgICAgIHJhcml0eTogYnVmZlRvUmVtb3ZlLnJhcml0eSxcbiAgICAgIGVmZmVjdHM6IGJ1ZmZUb1JlbW92ZS5lZmZlY3RzLFxuICAgICAgZXhwaXJlZEF0OiBub3dcbiAgICB9O1xuXG4gICAgc2V0QnVmZkRhdGEocHJldiA9PiAoe1xuICAgICAgYWN0aXZlOiBwcmV2LmFjdGl2ZS5maWx0ZXIoYiA9PiBiLmlkICE9PSBidWZmSWQpLFxuICAgICAgaGlzdG9yeTogW2V4cGlyZWRCdWZmLCAuLi5wcmV2Lmhpc3RvcnldLnNsaWNlKDAsIDUwKVxuICAgIH0pKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9LCBbYnVmZkRhdGEuYWN0aXZlLCBzZXRCdWZmRGF0YV0pO1xuXG4gIC8vIENsZWFyIGFsbCBleHBpcmVkIGJ1ZmZzIGZyb20gaGlzdG9yeVxuICBjb25zdCBjbGVhckhpc3RvcnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0QnVmZkRhdGEocHJldiA9PiAoe1xuICAgICAgLi4ucHJldixcbiAgICAgIGhpc3Rvcnk6IFtdXG4gICAgfSkpO1xuICB9LCBbc2V0QnVmZkRhdGFdKTtcblxuICAvLyBHZXQgdGltZSByZW1haW5pbmcgZm9yIGEgYnVmZlxuICBjb25zdCBnZXRUaW1lUmVtYWluaW5nID0gdXNlQ2FsbGJhY2soKGJ1ZmY6IEJ1ZmYpOiBudW1iZXIgPT4ge1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBidWZmLmV4cGlyZXNBdCAtIGN1cnJlbnRUaW1lKTtcbiAgfSwgW2N1cnJlbnRUaW1lXSk7XG5cbiAgLy8gR2V0IGZvcm1hdHRlZCB0aW1lIHJlbWFpbmluZ1xuICBjb25zdCBnZXRGb3JtYXR0ZWRUaW1lUmVtYWluaW5nID0gdXNlQ2FsbGJhY2soKGJ1ZmY6IEJ1ZmYpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IHJlbWFpbmluZyA9IGdldFRpbWVSZW1haW5pbmcoYnVmZik7XG4gICAgXG4gICAgaWYgKHJlbWFpbmluZyA9PT0gMCkgcmV0dXJuICdFeHBpcmVkJztcbiAgICBcbiAgICBjb25zdCBzZWNvbmRzID0gTWF0aC5mbG9vcihyZW1haW5pbmcgLyAxMDAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gNjApO1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihtaW51dGVzIC8gNjApO1xuICAgIGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgaWYgKGRheXMgPiAwKSByZXR1cm4gYCR7ZGF5c31kICR7aG91cnMgJSAyNH1oYDtcbiAgICBpZiAoaG91cnMgPiAwKSByZXR1cm4gYCR7aG91cnN9aCAke21pbnV0ZXMgJSA2MH1tYDtcbiAgICBpZiAobWludXRlcyA+IDApIHJldHVybiBgJHttaW51dGVzfW0gJHtzZWNvbmRzICUgNjB9c2A7XG4gICAgcmV0dXJuIGAke3NlY29uZHN9c2A7XG4gIH0sIFtnZXRUaW1lUmVtYWluaW5nXSk7XG5cbiAgLy8gR2V0IGFjdGl2ZSBidWZmcyBieSB0eXBlXG4gIGNvbnN0IGdldEFjdGl2ZUJ1ZmZzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBidWZmRGF0YS5hY3RpdmUuZmlsdGVyKGIgPT4gYi50eXBlID09PSAnYnVmZicpO1xuICB9LCBbYnVmZkRhdGEuYWN0aXZlXSk7XG5cbiAgY29uc3QgZ2V0QWN0aXZlQ3Vyc2VzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBidWZmRGF0YS5hY3RpdmUuZmlsdGVyKGIgPT4gYi50eXBlID09PSAnY3Vyc2UnKTtcbiAgfSwgW2J1ZmZEYXRhLmFjdGl2ZV0pO1xuXG4gIC8vIEdldCBlZmZlY3QgbXVsdGlwbGllciBmb3Igc3BlY2lmaWMgZWZmZWN0IHR5cGVcbiAgY29uc3QgZ2V0RWZmZWN0TXVsdGlwbGllciA9IHVzZUNhbGxiYWNrKChlZmZlY3RUeXBlOiBrZXlvZiBCdWZmRWZmZWN0KTogbnVtYmVyID0+IHtcbiAgICBjb25zdCBlZmZlY3RzID0gY2FsY3VsYXRlRWZmZWN0cygpO1xuICAgIHJldHVybiBlZmZlY3RzW2VmZmVjdFR5cGVdIHx8IChlZmZlY3RUeXBlLmluY2x1ZGVzKCdNdWx0aXBsaWVyJykgPyAxIDogMCk7XG4gIH0sIFtjYWxjdWxhdGVFZmZlY3RzXSk7XG5cbiAgLy8gTGVnYWN5IGNvbXBhdGliaWxpdHkgbWV0aG9kcyBmb3IgZXhpc3RpbmcgY29kZVxuICBjb25zdCBhcHBseUV2ZW50ID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBzdHJpbmcsIGJhc2VWYWx1ZTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgZWZmZWN0cyA9IGNhbGN1bGF0ZUVmZmVjdHMoKTtcbiAgICBsZXQgbXVsdGlwbGllciA9IDE7XG4gICAgXG4gICAgc3dpdGNoIChldmVudCkge1xuICAgICAgY2FzZSAneHAnOlxuICAgICAgICBtdWx0aXBsaWVyID0gZWZmZWN0cy54cE11bHRpcGxpZXIgfHwgMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvYmVkaWVuY2UnOlxuICAgICAgICBtdWx0aXBsaWVyID0gZWZmZWN0cy5vYmVkaWVuY2VHYWluIHx8IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9rZW5zJzpcbiAgICAgICAgbXVsdGlwbGllciA9IGVmZmVjdHMudG9rZW5NdWx0aXBsaWVyIHx8IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY2xhcml0eSc6XG4gICAgICAgIG11bHRpcGxpZXIgPSBlZmZlY3RzLmRyZWFtQ2xhcml0eSB8fCAxO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIE1hdGgucm91bmQoYmFzZVZhbHVlICogbXVsdGlwbGllcik7XG4gIH0sIFtjYWxjdWxhdGVFZmZlY3RzXSk7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBOZXcgQVBJXG4gICAgYWN0aXZlQnVmZnM6IGdldEFjdGl2ZUJ1ZmZzKCksXG4gICAgYWN0aXZlQ3Vyc2VzOiBnZXRBY3RpdmVDdXJzZXMoKSxcbiAgICBhbGxBY3RpdmU6IGJ1ZmZEYXRhLmFjdGl2ZSxcbiAgICBoaXN0b3J5OiBidWZmRGF0YS5oaXN0b3J5LFxuICAgIGVmZmVjdHM6IGNhbGN1bGF0ZUVmZmVjdHMoKSxcbiAgICBnZXRFZmZlY3RNdWx0aXBsaWVyLFxuICAgIGFkZEJ1ZmYsXG4gICAgcmVtb3ZlQnVmZixcbiAgICBjbGVhckhpc3RvcnksXG4gICAgZ2V0VGltZVJlbWFpbmluZyxcbiAgICBnZXRGb3JtYXR0ZWRUaW1lUmVtYWluaW5nLFxuICAgIGN1cnJlbnRUaW1lLFxuICAgIHRvdGFsQWN0aXZlOiBidWZmRGF0YS5hY3RpdmUubGVuZ3RoLFxuICAgIGJ1ZmZDb3VudDogZ2V0QWN0aXZlQnVmZnMoKS5sZW5ndGgsXG4gICAgY3Vyc2VDb3VudDogZ2V0QWN0aXZlQ3Vyc2VzKCkubGVuZ3RoLFxuICAgIGhpc3RvcnlDb3VudDogYnVmZkRhdGEuaGlzdG9yeS5sZW5ndGgsXG4gICAgXG4gICAgLy8gTGVnYWN5IGNvbXBhdGliaWxpdHkgZm9yIGV4aXN0aW5nIGNvZGVcbiAgICBidWZmczogYnVmZkRhdGEuYWN0aXZlLFxuICAgIGFwcGx5RXZlbnRcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUGVyc2lzdGVudFN0YXRlIiwiYnVmZkRhdGFKc29uIiwiZGVmYXVsdEJ1ZmZEYXRhIiwidXNlQnVmZnMiLCJidWZmRGF0YSIsInNldEJ1ZmZEYXRhIiwiY3VycmVudFRpbWUiLCJzZXRDdXJyZW50VGltZSIsIkRhdGUiLCJub3ciLCJjb25zb2xlIiwibG9nIiwiYWN0aXZlQ291bnQiLCJhY3RpdmUiLCJsZW5ndGgiLCJoaXN0b3J5Q291bnQiLCJoaXN0b3J5IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJleHBpcmVkIiwiZmlsdGVyIiwiYnVmZiIsImV4cGlyZXNBdCIsInN0aWxsQWN0aXZlIiwiZXhwaXJlZEhpc3RvcnkiLCJtYXAiLCJpZCIsIm5hbWUiLCJ0eXBlIiwiZGVzYyIsImR1cmF0aW9uIiwic291cmNlIiwiaWNvbiIsInJhcml0eSIsImVmZmVjdHMiLCJleHBpcmVkQXQiLCJzbGljZSIsImNhbGN1bGF0ZUVmZmVjdHMiLCJmb3JFYWNoIiwiT2JqZWN0IiwiZW50cmllcyIsImtleSIsInZhbHVlIiwiZWZmZWN0S2V5IiwiaW5jbHVkZXMiLCJhZGRCdWZmIiwiYnVmZklucHV0IiwibmV3QnVmZiIsImNyZWF0ZWRBdCIsImR1cmF0aW9uTXMiLCJwcmV2IiwicmVtb3ZlQnVmZiIsImJ1ZmZJZCIsImJ1ZmZUb1JlbW92ZSIsImZpbmQiLCJiIiwiZXhwaXJlZEJ1ZmYiLCJjbGVhckhpc3RvcnkiLCJnZXRUaW1lUmVtYWluaW5nIiwiTWF0aCIsIm1heCIsImdldEZvcm1hdHRlZFRpbWVSZW1haW5pbmciLCJyZW1haW5pbmciLCJzZWNvbmRzIiwiZmxvb3IiLCJtaW51dGVzIiwiaG91cnMiLCJkYXlzIiwiZ2V0QWN0aXZlQnVmZnMiLCJnZXRBY3RpdmVDdXJzZXMiLCJnZXRFZmZlY3RNdWx0aXBsaWVyIiwiZWZmZWN0VHlwZSIsImFwcGx5RXZlbnQiLCJldmVudCIsImJhc2VWYWx1ZSIsIm11bHRpcGxpZXIiLCJ4cE11bHRpcGxpZXIiLCJvYmVkaWVuY2VHYWluIiwidG9rZW5NdWx0aXBsaWVyIiwiZHJlYW1DbGFyaXR5Iiwicm91bmQiLCJhY3RpdmVCdWZmcyIsImFjdGl2ZUN1cnNlcyIsImFsbEFjdGl2ZSIsInRvdGFsQWN0aXZlIiwiYnVmZkNvdW50IiwiY3Vyc2VDb3VudCIsImJ1ZmZzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useBuffs.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useCompanionAchievements.ts":
/*!***********************************************!*\
  !*** ./app/hooks/useCompanionAchievements.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCompanionAchievements: () => (/* binding */ useCompanionAchievements)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useAchievements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAchievements */ \"(app-pages-browser)/./app/hooks/useAchievements.ts\");\n/* harmony import */ var _useCompanions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useCompanions */ \"(app-pages-browser)/./app/hooks/useCompanions.ts\");\n/* __next_internal_client_entry_do_not_use__ useCompanionAchievements auto */ \n\n\n/**\r\n * A custom hook to manage companion-related achievements.\r\n * It listens to changes in companion state and unlocks achievements when their triggers are met.\r\n */ function useCompanionAchievements() {\n    const { achievements, unlockAchievement } = (0,_useAchievements__WEBPACK_IMPORTED_MODULE_1__.useAchievements)();\n    const { companions } = (0,_useCompanions__WEBPACK_IMPORTED_MODULE_2__.useCompanions)();\n    const evolvedCompanionsCount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useCompanionAchievements.useMemo[evolvedCompanionsCount]\": ()=>{\n            const list = companions !== null && companions !== void 0 ? companions : [];\n            // A companion is considered \"evolved\" if it has more than one form in the evolution tree.\n            return list.filter({\n                \"useCompanionAchievements.useMemo[evolvedCompanionsCount]\": (c)=>Array.isArray(c.evolutionTree) && c.evolutionTree.length > 1\n            }[\"useCompanionAchievements.useMemo[evolvedCompanionsCount]\"]).length;\n        }\n    }[\"useCompanionAchievements.useMemo[evolvedCompanionsCount]\"], [\n        companions\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useCompanionAchievements.useEffect\": ()=>{\n            if (!achievements || achievements.length === 0) return;\n            const companionAchievements = achievements.filter({\n                \"useCompanionAchievements.useEffect.companionAchievements\": (a)=>!a.unlocked && a.category === 'Companion'\n            }[\"useCompanionAchievements.useEffect.companionAchievements\"]);\n            if (companionAchievements.length === 0) return;\n            companionAchievements.forEach({\n                \"useCompanionAchievements.useEffect\": (achievement)=>{\n                    const { trigger } = achievement;\n                    let conditionMet = false;\n                    var _trigger_value;\n                    if ((trigger === null || trigger === void 0 ? void 0 : trigger.type) === 'COMPANION_EVOLVED' && evolvedCompanionsCount >= ((_trigger_value = trigger.value) !== null && _trigger_value !== void 0 ? _trigger_value : 1)) {\n                        conditionMet = true;\n                    }\n                    if (conditionMet) {\n                        unlockAchievement(achievement.id);\n                    }\n                }\n            }[\"useCompanionAchievements.useEffect\"]);\n        }\n    }[\"useCompanionAchievements.useEffect\"], [\n        evolvedCompanionsCount,\n        achievements,\n        unlockAchievement\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VDb21wYW5pb25BY2hpZXZlbWVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OEVBRTJDO0FBQ1M7QUFDSjtBQUVoRDs7O0NBR0MsR0FDTSxTQUFTSTtJQUNkLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHSixpRUFBZUE7SUFDM0QsTUFBTSxFQUFFSyxVQUFVLEVBQUUsR0FBR0osNkRBQWFBO0lBRXBDLE1BQU1LLHlCQUF5QlAsOENBQU9BO29FQUFDO1lBQ3JDLE1BQU1RLE9BQU9GLHVCQUFBQSx3QkFBQUEsYUFBYyxFQUFFO1lBQzdCLDBGQUEwRjtZQUMxRixPQUFPRSxLQUFLQyxNQUFNOzRFQUFDLENBQUNDLElBQVdDLE1BQU1DLE9BQU8sQ0FBQyxFQUFXQyxhQUFhLEtBQUssRUFBV0EsYUFBYSxDQUFDQyxNQUFNLEdBQUc7MkVBQUdBLE1BQU07UUFDdkg7bUVBQUc7UUFBQ1I7S0FBVztJQUVmUCxnREFBU0E7OENBQUM7WUFDUixJQUFJLENBQUNLLGdCQUFnQkEsYUFBYVUsTUFBTSxLQUFLLEdBQUc7WUFFaEQsTUFBTUMsd0JBQXdCWCxhQUFhSyxNQUFNOzRFQUMvQyxDQUFDTyxJQUFNLENBQUNBLEVBQUVDLFFBQVEsSUFBSUQsRUFBRUUsUUFBUSxLQUFLOztZQUd2QyxJQUFJSCxzQkFBc0JELE1BQU0sS0FBSyxHQUFHO1lBRXhDQyxzQkFBc0JJLE9BQU87c0RBQUMsQ0FBQ0M7b0JBQzdCLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdEO29CQUNwQixJQUFJRSxlQUFlO3dCQUVxREQ7b0JBQXhFLElBQUlBLENBQUFBLG9CQUFBQSw4QkFBQUEsUUFBU0UsSUFBSSxNQUFLLHVCQUF1QmhCLDBCQUEyQmMsQ0FBQUEsQ0FBQUEsaUJBQUFBLFFBQVFHLEtBQUssY0FBYkgsNEJBQUFBLGlCQUFpQixJQUFJO3dCQUMzRkMsZUFBZTtvQkFDakI7b0JBRUEsSUFBSUEsY0FBYzt3QkFDaEJqQixrQkFBa0JlLFlBQVlLLEVBQUU7b0JBQ2xDO2dCQUNGOztRQUNGOzZDQUFHO1FBQUNsQjtRQUF3Qkg7UUFBY0M7S0FBa0I7QUFDOUQiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcaG9va3NcXHVzZUNvbXBhbmlvbkFjaGlldmVtZW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZUFjaGlldmVtZW50cyB9IGZyb20gJy4vdXNlQWNoaWV2ZW1lbnRzJztcclxuaW1wb3J0IHsgdXNlQ29tcGFuaW9ucyB9IGZyb20gJy4vdXNlQ29tcGFuaW9ucyc7XHJcblxyXG4vKipcclxuICogQSBjdXN0b20gaG9vayB0byBtYW5hZ2UgY29tcGFuaW9uLXJlbGF0ZWQgYWNoaWV2ZW1lbnRzLlxyXG4gKiBJdCBsaXN0ZW5zIHRvIGNoYW5nZXMgaW4gY29tcGFuaW9uIHN0YXRlIGFuZCB1bmxvY2tzIGFjaGlldmVtZW50cyB3aGVuIHRoZWlyIHRyaWdnZXJzIGFyZSBtZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGFuaW9uQWNoaWV2ZW1lbnRzKCkge1xyXG4gIGNvbnN0IHsgYWNoaWV2ZW1lbnRzLCB1bmxvY2tBY2hpZXZlbWVudCB9ID0gdXNlQWNoaWV2ZW1lbnRzKCk7XHJcbiAgY29uc3QgeyBjb21wYW5pb25zIH0gPSB1c2VDb21wYW5pb25zKCk7XHJcblxyXG4gIGNvbnN0IGV2b2x2ZWRDb21wYW5pb25zQ291bnQgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIGNvbnN0IGxpc3QgPSBjb21wYW5pb25zID8/IFtdO1xyXG4gICAgLy8gQSBjb21wYW5pb24gaXMgY29uc2lkZXJlZCBcImV2b2x2ZWRcIiBpZiBpdCBoYXMgbW9yZSB0aGFuIG9uZSBmb3JtIGluIHRoZSBldm9sdXRpb24gdHJlZS5cclxuICAgIHJldHVybiBsaXN0LmZpbHRlcigoYzogYW55KSA9PiBBcnJheS5pc0FycmF5KChjIGFzIGFueSkuZXZvbHV0aW9uVHJlZSkgJiYgKGMgYXMgYW55KS5ldm9sdXRpb25UcmVlLmxlbmd0aCA+IDEpLmxlbmd0aDtcclxuICB9LCBbY29tcGFuaW9uc10pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKCFhY2hpZXZlbWVudHMgfHwgYWNoaWV2ZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGNvbXBhbmlvbkFjaGlldmVtZW50cyA9IGFjaGlldmVtZW50cy5maWx0ZXIoXHJcbiAgICAgIChhKSA9PiAhYS51bmxvY2tlZCAmJiBhLmNhdGVnb3J5ID09PSAnQ29tcGFuaW9uJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoY29tcGFuaW9uQWNoaWV2ZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbXBhbmlvbkFjaGlldmVtZW50cy5mb3JFYWNoKChhY2hpZXZlbWVudCkgPT4ge1xyXG4gICAgICBjb25zdCB7IHRyaWdnZXIgfSA9IGFjaGlldmVtZW50IGFzIGFueTtcclxuICAgICAgbGV0IGNvbmRpdGlvbk1ldCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKHRyaWdnZXI/LnR5cGUgPT09ICdDT01QQU5JT05fRVZPTFZFRCcgJiYgZXZvbHZlZENvbXBhbmlvbnNDb3VudCA+PSAodHJpZ2dlci52YWx1ZSA/PyAxKSkge1xyXG4gICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChjb25kaXRpb25NZXQpIHtcclxuICAgICAgICB1bmxvY2tBY2hpZXZlbWVudChhY2hpZXZlbWVudC5pZCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sIFtldm9sdmVkQ29tcGFuaW9uc0NvdW50LCBhY2hpZXZlbWVudHMsIHVubG9ja0FjaGlldmVtZW50XSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VBY2hpZXZlbWVudHMiLCJ1c2VDb21wYW5pb25zIiwidXNlQ29tcGFuaW9uQWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRzIiwidW5sb2NrQWNoaWV2ZW1lbnQiLCJjb21wYW5pb25zIiwiZXZvbHZlZENvbXBhbmlvbnNDb3VudCIsImxpc3QiLCJmaWx0ZXIiLCJjIiwiQXJyYXkiLCJpc0FycmF5IiwiZXZvbHV0aW9uVHJlZSIsImxlbmd0aCIsImNvbXBhbmlvbkFjaGlldmVtZW50cyIsImEiLCJ1bmxvY2tlZCIsImNhdGVnb3J5IiwiZm9yRWFjaCIsImFjaGlldmVtZW50IiwidHJpZ2dlciIsImNvbmRpdGlvbk1ldCIsInR5cGUiLCJ2YWx1ZSIsImlkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useCompanionAchievements.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useCompanions.ts":
/*!************************************!*\
  !*** ./app/hooks/useCompanions.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCompanions: () => (/* binding */ useCompanions)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _useBuffs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useBuffs */ \"(app-pages-browser)/./app/hooks/useBuffs.ts\");\n/* harmony import */ var _lib_companions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/companions */ \"(app-pages-browser)/./app/lib/companions.ts\");\n/* __next_internal_client_entry_do_not_use__ useCompanions auto */ \n\n\n\nfunction useCompanions() {\n    const [companions, setCompanions] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('companions', _lib_companions__WEBPACK_IMPORTED_MODULE_3__.cloneDefaultCompanions);\n    const gainXp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCompanions.useCallback[gainXp]\": (companionId, source, amount)=>{\n            const { applyEvent } = (0,_useBuffs__WEBPACK_IMPORTED_MODULE_2__.useBuffs)();\n            // Apply buff effects to XP gain\n            const buffedAmount = applyEvent('xp', amount);\n            setCompanions({\n                \"useCompanions.useCallback[gainXp]\": (prev)=>{\n                    const companionIndex = prev.findIndex({\n                        \"useCompanions.useCallback[gainXp].companionIndex\": (c)=>c.id === companionId\n                    }[\"useCompanions.useCallback[gainXp].companionIndex\"]);\n                    if (companionIndex === -1) return prev;\n                    const updatedCompanions = [\n                        ...prev\n                    ];\n                    const companion = {\n                        ...updatedCompanions[companionIndex]\n                    };\n                    let newXp = companion.xp + buffedAmount;\n                    let newLevel = companion.level;\n                    let neededXp = (0,_lib_companions__WEBPACK_IMPORTED_MODULE_3__.xpNeededForLevel)(newLevel + 1);\n                    while(newXp >= neededXp){\n                        newXp -= neededXp;\n                        newLevel++;\n                        neededXp = (0,_lib_companions__WEBPACK_IMPORTED_MODULE_3__.xpNeededForLevel)(newLevel + 1);\n                    }\n                    companion.xp = newXp;\n                    companion.level = newLevel;\n                    // Check for auto-evolution\n                    if (companion.autoEvolve) {\n                        const nextForm = (0,_lib_companions__WEBPACK_IMPORTED_MODULE_3__.getNextForm)(companion);\n                        if (nextForm && (0,_lib_companions__WEBPACK_IMPORTED_MODULE_3__.canEvolve)(companion)) {\n                            companion.currentForm = nextForm.id;\n                        }\n                    }\n                    updatedCompanions[companionIndex] = companion;\n                    return updatedCompanions;\n                }\n            }[\"useCompanions.useCallback[gainXp]\"]);\n        }\n    }[\"useCompanions.useCallback[gainXp]\"], [\n        setCompanions\n    ]);\n    const changeForm = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCompanions.useCallback[changeForm]\": (companionId, formId)=>{\n            setCompanions({\n                \"useCompanions.useCallback[changeForm]\": (prev)=>prev.map({\n                        \"useCompanions.useCallback[changeForm]\": (c)=>{\n                            if (c.id === companionId) {\n                                const targetForm = c.evolutionTree.find({\n                                    \"useCompanions.useCallback[changeForm].targetForm\": (f)=>f.id === formId\n                                }[\"useCompanions.useCallback[changeForm].targetForm\"]);\n                                // Only allow changing to an unlocked form\n                                if (targetForm && c.level >= targetForm.unlockLevel) {\n                                    return {\n                                        ...c,\n                                        currentForm: formId\n                                    };\n                                }\n                            }\n                            return c;\n                        }\n                    }[\"useCompanions.useCallback[changeForm]\"])\n            }[\"useCompanions.useCallback[changeForm]\"]);\n        }\n    }[\"useCompanions.useCallback[changeForm]\"], [\n        setCompanions\n    ]);\n    const adjustBond = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCompanions.useCallback[adjustBond]\": (companionId, amount)=>{\n            const { getEffectMultiplier } = (0,_useBuffs__WEBPACK_IMPORTED_MODULE_2__.useBuffs)();\n            // Apply bond multiplier from buffs\n            const bondMultiplier = getEffectMultiplier('bondMultiplier');\n            const buffedAmount = amount * bondMultiplier;\n            setCompanions({\n                \"useCompanions.useCallback[adjustBond]\": (prev)=>prev.map({\n                        \"useCompanions.useCallback[adjustBond]\": (c)=>{\n                            if (c.id === companionId) {\n                                const newBond = Math.max(0, Math.min(100, c.bond + buffedAmount));\n                                return {\n                                    ...c,\n                                    bond: newBond\n                                };\n                            }\n                            return c;\n                        }\n                    }[\"useCompanions.useCallback[adjustBond]\"])\n            }[\"useCompanions.useCallback[adjustBond]\"]);\n        }\n    }[\"useCompanions.useCallback[adjustBond]\"], [\n        setCompanions\n    ]);\n    const gainXpForCompanions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useCompanions.useCallback[gainXpForCompanions]\": (source, amount)=>{\n            companions.forEach({\n                \"useCompanions.useCallback[gainXpForCompanions]\": (c)=>gainXp(c.id, source, amount)\n            }[\"useCompanions.useCallback[gainXpForCompanions]\"]);\n        }\n    }[\"useCompanions.useCallback[gainXpForCompanions]\"], [\n        companions,\n        gainXp\n    ]);\n    return {\n        companions: companions !== null && companions !== void 0 ? companions : [],\n        gainXp,\n        gainXpForCompanions,\n        changeForm,\n        adjustBond\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VDb21wYW5pb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OzttRUFFb0M7QUFDc0I7QUFDcEI7QUFRWDtBQUVwQixTQUFTTztJQUNkLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHUix1RUFBa0JBLENBQ3BELGNBQ0FFLG1FQUFzQkE7SUFHeEIsTUFBTU8sU0FBU1Ysa0RBQVdBOzZDQUN4QixDQUFDVyxhQUFxQkMsUUFBMEJDO1lBQzlDLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdaLG1EQUFRQTtZQUUvQixnQ0FBZ0M7WUFDaEMsTUFBTWEsZUFBZUQsV0FBVyxNQUFNRDtZQUV0Q0o7cURBQWMsQ0FBQ087b0JBQ2IsTUFBTUMsaUJBQWlCRCxLQUFLRSxTQUFTOzRFQUFDLENBQUNDLElBQU1BLEVBQUVDLEVBQUUsS0FBS1Q7O29CQUN0RCxJQUFJTSxtQkFBbUIsQ0FBQyxHQUFHLE9BQU9EO29CQUVsQyxNQUFNSyxvQkFBb0I7MkJBQUlMO3FCQUFLO29CQUNuQyxNQUFNTSxZQUFZO3dCQUFFLEdBQUdELGlCQUFpQixDQUFDSixlQUFlO29CQUFDO29CQUV6RCxJQUFJTSxRQUFRRCxVQUFVRSxFQUFFLEdBQUdUO29CQUMzQixJQUFJVSxXQUFXSCxVQUFVSSxLQUFLO29CQUM5QixJQUFJQyxXQUFXdkIsaUVBQWdCQSxDQUFDcUIsV0FBVztvQkFFM0MsTUFBT0YsU0FBU0ksU0FBVTt3QkFDeEJKLFNBQVNJO3dCQUNURjt3QkFDQUUsV0FBV3ZCLGlFQUFnQkEsQ0FBQ3FCLFdBQVc7b0JBQ3pDO29CQUVBSCxVQUFVRSxFQUFFLEdBQUdEO29CQUNmRCxVQUFVSSxLQUFLLEdBQUdEO29CQUVsQiwyQkFBMkI7b0JBQzNCLElBQUlILFVBQVVNLFVBQVUsRUFBRTt3QkFDeEIsTUFBTUMsV0FBV3ZCLDREQUFXQSxDQUFDZ0I7d0JBQzdCLElBQUlPLFlBQVl4QiwwREFBU0EsQ0FBQ2lCLFlBQVk7NEJBQ3BDQSxVQUFVUSxXQUFXLEdBQUdELFNBQVNULEVBQUU7d0JBQ3JDO29CQUNGO29CQUVBQyxpQkFBaUIsQ0FBQ0osZUFBZSxHQUFHSztvQkFDcEMsT0FBT0Q7Z0JBQ1Q7O1FBQ0Y7NENBQ0E7UUFBQ1o7S0FBYztJQUdqQixNQUFNc0IsYUFBYS9CLGtEQUFXQTtpREFDNUIsQ0FBQ1csYUFBcUJxQjtZQUNwQnZCO3lEQUFjLENBQUNPLE9BQ2JBLEtBQUtpQixHQUFHO2lFQUFDLENBQUNkOzRCQUNSLElBQUlBLEVBQUVDLEVBQUUsS0FBS1QsYUFBYTtnQ0FDeEIsTUFBTXVCLGFBQWFmLEVBQUVnQixhQUFhLENBQUNDLElBQUk7d0ZBQUMsQ0FBQ0MsSUFBTUEsRUFBRWpCLEVBQUUsS0FBS1k7O2dDQUN4RCwwQ0FBMEM7Z0NBQzFDLElBQUlFLGNBQWNmLEVBQUVPLEtBQUssSUFBSVEsV0FBV0ksV0FBVyxFQUFFO29DQUNuRCxPQUFPO3dDQUFFLEdBQUduQixDQUFDO3dDQUFFVyxhQUFhRTtvQ0FBTztnQ0FDckM7NEJBQ0Y7NEJBQ0EsT0FBT2I7d0JBQ1Q7OztRQUVKO2dEQUNBO1FBQUNWO0tBQWM7SUFHakIsTUFBTThCLGFBQWF2QyxrREFBV0E7aURBQzVCLENBQUNXLGFBQXFCRTtZQUNwQixNQUFNLEVBQUUyQixtQkFBbUIsRUFBRSxHQUFHdEMsbURBQVFBO1lBRXhDLG1DQUFtQztZQUNuQyxNQUFNdUMsaUJBQWlCRCxvQkFBb0I7WUFDM0MsTUFBTXpCLGVBQWVGLFNBQVM0QjtZQUU5QmhDO3lEQUFjLENBQUNPLE9BQ2JBLEtBQUtpQixHQUFHO2lFQUFDLENBQUNkOzRCQUNSLElBQUlBLEVBQUVDLEVBQUUsS0FBS1QsYUFBYTtnQ0FDeEIsTUFBTStCLFVBQVVDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLRSxHQUFHLENBQUMsS0FBSzFCLEVBQUUyQixJQUFJLEdBQUcvQjtnQ0FDbkQsT0FBTztvQ0FBRSxHQUFHSSxDQUFDO29DQUFFMkIsTUFBTUo7Z0NBQVE7NEJBQy9COzRCQUNBLE9BQU92Qjt3QkFDVDs7O1FBRUo7Z0RBQ0E7UUFBQ1Y7S0FBYztJQUdqQixNQUFNc0Msc0JBQXNCL0Msa0RBQVdBOzBEQUNyQyxDQUFDWSxRQUEwQkM7WUFDekJMLFdBQVd3QyxPQUFPO2tFQUFDLENBQUM3QixJQUFNVCxPQUFPUyxFQUFFQyxFQUFFLEVBQUVSLFFBQVFDOztRQUNqRDt5REFDQTtRQUFDTDtRQUFZRTtLQUFPO0lBR3RCLE9BQU87UUFDTEYsWUFBWUEsdUJBQUFBLHdCQUFBQSxhQUFjLEVBQUU7UUFDNUJFO1FBQ0FxQztRQUNBaEI7UUFDQVE7SUFDRjtBQUNGIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXEx1Y2lkIERyZWFtXFxhcHBcXGhvb2tzXFx1c2VDb21wYW5pb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VQZXJzaXN0ZW50U3RhdGUgfSBmcm9tICcuL3VzZVBlcnNpc3RlbnRTdGF0ZSc7XG5pbXBvcnQgeyB1c2VCdWZmcyB9IGZyb20gJy4vdXNlQnVmZnMnO1xuaW1wb3J0IHtcbiAgY2xvbmVEZWZhdWx0Q29tcGFuaW9ucyxcbiAgeHBOZWVkZWRGb3JMZXZlbCxcbiAgY2FuRXZvbHZlLFxuICBnZXROZXh0Rm9ybSxcbiAgdHlwZSBDb21wYW5pb24sXG4gIHR5cGUgQ29tcGFuaW9uWHBFdmVudCxcbn0gZnJvbSAnLi4vbGliL2NvbXBhbmlvbnMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGFuaW9ucygpIHtcbiAgY29uc3QgW2NvbXBhbmlvbnMsIHNldENvbXBhbmlvbnNdID0gdXNlUGVyc2lzdGVudFN0YXRlPENvbXBhbmlvbltdPihcbiAgICAnY29tcGFuaW9ucycsXG4gICAgY2xvbmVEZWZhdWx0Q29tcGFuaW9uc1xuICApO1xuXG4gIGNvbnN0IGdhaW5YcCA9IHVzZUNhbGxiYWNrKFxuICAgIChjb21wYW5pb25JZDogc3RyaW5nLCBzb3VyY2U6IENvbXBhbmlvblhwRXZlbnQsIGFtb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCB7IGFwcGx5RXZlbnQgfSA9IHVzZUJ1ZmZzKCk7XG4gICAgICBcbiAgICAgIC8vIEFwcGx5IGJ1ZmYgZWZmZWN0cyB0byBYUCBnYWluXG4gICAgICBjb25zdCBidWZmZWRBbW91bnQgPSBhcHBseUV2ZW50KCd4cCcsIGFtb3VudCk7XG4gICAgICBcbiAgICAgIHNldENvbXBhbmlvbnMoKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgY29tcGFuaW9uSW5kZXggPSBwcmV2LmZpbmRJbmRleCgoYykgPT4gYy5pZCA9PT0gY29tcGFuaW9uSWQpO1xuICAgICAgICBpZiAoY29tcGFuaW9uSW5kZXggPT09IC0xKSByZXR1cm4gcHJldjtcblxuICAgICAgICBjb25zdCB1cGRhdGVkQ29tcGFuaW9ucyA9IFsuLi5wcmV2XTtcbiAgICAgICAgY29uc3QgY29tcGFuaW9uID0geyAuLi51cGRhdGVkQ29tcGFuaW9uc1tjb21wYW5pb25JbmRleF0gfTtcblxuICAgICAgICBsZXQgbmV3WHAgPSBjb21wYW5pb24ueHAgKyBidWZmZWRBbW91bnQ7XG4gICAgICAgIGxldCBuZXdMZXZlbCA9IGNvbXBhbmlvbi5sZXZlbDtcbiAgICAgICAgbGV0IG5lZWRlZFhwID0geHBOZWVkZWRGb3JMZXZlbChuZXdMZXZlbCArIDEpO1xuXG4gICAgICAgIHdoaWxlIChuZXdYcCA+PSBuZWVkZWRYcCkge1xuICAgICAgICAgIG5ld1hwIC09IG5lZWRlZFhwO1xuICAgICAgICAgIG5ld0xldmVsKys7XG4gICAgICAgICAgbmVlZGVkWHAgPSB4cE5lZWRlZEZvckxldmVsKG5ld0xldmVsICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wYW5pb24ueHAgPSBuZXdYcDtcbiAgICAgICAgY29tcGFuaW9uLmxldmVsID0gbmV3TGV2ZWw7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGF1dG8tZXZvbHV0aW9uXG4gICAgICAgIGlmIChjb21wYW5pb24uYXV0b0V2b2x2ZSkge1xuICAgICAgICAgIGNvbnN0IG5leHRGb3JtID0gZ2V0TmV4dEZvcm0oY29tcGFuaW9uKTtcbiAgICAgICAgICBpZiAobmV4dEZvcm0gJiYgY2FuRXZvbHZlKGNvbXBhbmlvbikpIHtcbiAgICAgICAgICAgIGNvbXBhbmlvbi5jdXJyZW50Rm9ybSA9IG5leHRGb3JtLmlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHVwZGF0ZWRDb21wYW5pb25zW2NvbXBhbmlvbkluZGV4XSA9IGNvbXBhbmlvbjtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRDb21wYW5pb25zO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbc2V0Q29tcGFuaW9uc11cbiAgKTtcblxuICBjb25zdCBjaGFuZ2VGb3JtID0gdXNlQ2FsbGJhY2soXG4gICAgKGNvbXBhbmlvbklkOiBzdHJpbmcsIGZvcm1JZDogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRDb21wYW5pb25zKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgoYykgPT4ge1xuICAgICAgICAgIGlmIChjLmlkID09PSBjb21wYW5pb25JZCkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Rm9ybSA9IGMuZXZvbHV0aW9uVHJlZS5maW5kKChmKSA9PiBmLmlkID09PSBmb3JtSWQpO1xuICAgICAgICAgICAgLy8gT25seSBhbGxvdyBjaGFuZ2luZyB0byBhbiB1bmxvY2tlZCBmb3JtXG4gICAgICAgICAgICBpZiAodGFyZ2V0Rm9ybSAmJiBjLmxldmVsID49IHRhcmdldEZvcm0udW5sb2NrTGV2ZWwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgY3VycmVudEZvcm06IGZvcm1JZCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbc2V0Q29tcGFuaW9uc11cbiAgKTtcblxuICBjb25zdCBhZGp1c3RCb25kID0gdXNlQ2FsbGJhY2soXG4gICAgKGNvbXBhbmlvbklkOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCB7IGdldEVmZmVjdE11bHRpcGxpZXIgfSA9IHVzZUJ1ZmZzKCk7XG4gICAgICBcbiAgICAgIC8vIEFwcGx5IGJvbmQgbXVsdGlwbGllciBmcm9tIGJ1ZmZzXG4gICAgICBjb25zdCBib25kTXVsdGlwbGllciA9IGdldEVmZmVjdE11bHRpcGxpZXIoJ2JvbmRNdWx0aXBsaWVyJyk7XG4gICAgICBjb25zdCBidWZmZWRBbW91bnQgPSBhbW91bnQgKiBib25kTXVsdGlwbGllcjtcbiAgICAgIFxuICAgICAgc2V0Q29tcGFuaW9ucygocHJldikgPT5cbiAgICAgICAgcHJldi5tYXAoKGMpID0+IHtcbiAgICAgICAgICBpZiAoYy5pZCA9PT0gY29tcGFuaW9uSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0JvbmQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAsIGMuYm9uZCArIGJ1ZmZlZEFtb3VudCkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4uYywgYm9uZDogbmV3Qm9uZCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBbc2V0Q29tcGFuaW9uc11cbiAgKTtcblxuICBjb25zdCBnYWluWHBGb3JDb21wYW5pb25zID0gdXNlQ2FsbGJhY2soXG4gICAgKHNvdXJjZTogQ29tcGFuaW9uWHBFdmVudCwgYW1vdW50OiBudW1iZXIpID0+IHtcbiAgICAgIGNvbXBhbmlvbnMuZm9yRWFjaCgoYykgPT4gZ2FpblhwKGMuaWQsIHNvdXJjZSwgYW1vdW50KSk7XG4gICAgfSxcbiAgICBbY29tcGFuaW9ucywgZ2FpblhwXVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgY29tcGFuaW9uczogY29tcGFuaW9ucyA/PyBbXSxcbiAgICBnYWluWHAsXG4gICAgZ2FpblhwRm9yQ29tcGFuaW9ucyxcbiAgICBjaGFuZ2VGb3JtLFxuICAgIGFkanVzdEJvbmQsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VQZXJzaXN0ZW50U3RhdGUiLCJ1c2VCdWZmcyIsImNsb25lRGVmYXVsdENvbXBhbmlvbnMiLCJ4cE5lZWRlZEZvckxldmVsIiwiY2FuRXZvbHZlIiwiZ2V0TmV4dEZvcm0iLCJ1c2VDb21wYW5pb25zIiwiY29tcGFuaW9ucyIsInNldENvbXBhbmlvbnMiLCJnYWluWHAiLCJjb21wYW5pb25JZCIsInNvdXJjZSIsImFtb3VudCIsImFwcGx5RXZlbnQiLCJidWZmZWRBbW91bnQiLCJwcmV2IiwiY29tcGFuaW9uSW5kZXgiLCJmaW5kSW5kZXgiLCJjIiwiaWQiLCJ1cGRhdGVkQ29tcGFuaW9ucyIsImNvbXBhbmlvbiIsIm5ld1hwIiwieHAiLCJuZXdMZXZlbCIsImxldmVsIiwibmVlZGVkWHAiLCJhdXRvRXZvbHZlIiwibmV4dEZvcm0iLCJjdXJyZW50Rm9ybSIsImNoYW5nZUZvcm0iLCJmb3JtSWQiLCJtYXAiLCJ0YXJnZXRGb3JtIiwiZXZvbHV0aW9uVHJlZSIsImZpbmQiLCJmIiwidW5sb2NrTGV2ZWwiLCJhZGp1c3RCb25kIiwiZ2V0RWZmZWN0TXVsdGlwbGllciIsImJvbmRNdWx0aXBsaWVyIiwibmV3Qm9uZCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJib25kIiwiZ2FpblhwRm9yQ29tcGFuaW9ucyIsImZvckVhY2giXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useCompanions.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useDreamJournal.ts":
/*!**************************************!*\
  !*** ./app/hooks/useDreamJournal.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDreamJournal: () => (/* binding */ useDreamJournal)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _useInventory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useInventory */ \"(app-pages-browser)/./app/hooks/useInventory.ts\");\n/* harmony import */ var _useCompanions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useCompanions */ \"(app-pages-browser)/./app/hooks/useCompanions.ts\");\n/* harmony import */ var _types_journal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../types/journal */ \"(app-pages-browser)/./app/types/journal.ts\");\n/* harmony import */ var _data_journal_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/journal.json */ \"(app-pages-browser)/./data/journal.json\");\n/* __next_internal_client_entry_do_not_use__ useDreamJournal auto */ \n\n\n\n\n\nconst JOURNAL_KEY = 'dreamJournal';\nconst STREAK_KEY = 'journalStreak';\nconst XP_CONFIG_KEY = 'journalXpConfig';\nconst ACHIEVEMENTS_KEY = 'journalAchievements';\nfunction useDreamJournal() {\n    const [entries, setEntries] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(JOURNAL_KEY, {\n        \"useDreamJournal.usePersistentState\": ()=>_data_journal_json__WEBPACK_IMPORTED_MODULE_5__\n    }[\"useDreamJournal.usePersistentState\"]);\n    const [streak, setStreak] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(STREAK_KEY, {\n        \"useDreamJournal.usePersistentState\": ()=>({\n                current: 0,\n                longest: 0,\n                lastEntryDate: null\n            })\n    }[\"useDreamJournal.usePersistentState\"]);\n    const [xpConfig, setXpConfig] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(XP_CONFIG_KEY, {\n        \"useDreamJournal.usePersistentState\": ()=>_types_journal__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_XP_CONFIG\n    }[\"useDreamJournal.usePersistentState\"]);\n    const [achievements, setAchievements] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(ACHIEVEMENTS_KEY, {\n        \"useDreamJournal.usePersistentState\": ()=>[]\n    }[\"useDreamJournal.usePersistentState\"]);\n    const { awardXp } = (0,_useInventory__WEBPACK_IMPORTED_MODULE_2__.useInventory)();\n    const { gainXpForCompanions } = (0,_useCompanions__WEBPACK_IMPORTED_MODULE_3__.useCompanions)();\n    const calculateEntryXp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[calculateEntryXp]\": (entry)=>{\n            let xp = xpConfig.baseEntry;\n            entry.tags.forEach({\n                \"useDreamJournal.useCallback[calculateEntryXp]\": (tag)=>{\n                    switch(tag.toLowerCase()){\n                        case 'lucid':\n                            xp += xpConfig.lucidTag;\n                            break;\n                        case 'ritual':\n                            xp += xpConfig.ritualTag;\n                            break;\n                        case 'panty':\n                            xp += xpConfig.pantyTag;\n                            break;\n                        case 'temple':\n                            xp += xpConfig.templeTag;\n                            break;\n                        case 'quest':\n                            xp += xpConfig.questTag;\n                            break;\n                    }\n                }\n            }[\"useDreamJournal.useCallback[calculateEntryXp]\"]);\n            return xp;\n        }\n    }[\"useDreamJournal.useCallback[calculateEntryXp]\"], [\n        xpConfig\n    ]);\n    const updateStreak = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[updateStreak]\": (entryDate)=>{\n            const today = new Date().toISOString().split('T')[0];\n            const yesterday = new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n            setStreak({\n                \"useDreamJournal.useCallback[updateStreak]\": (prev)=>{\n                    let newCurrent = prev.current;\n                    let newLongest = prev.longest;\n                    if (prev.lastEntryDate === yesterday || prev.lastEntryDate === null) {\n                        newCurrent = prev.current + 1;\n                    } else if (prev.lastEntryDate !== today) {\n                        newCurrent = 1;\n                    }\n                    if (newCurrent > newLongest) {\n                        newLongest = newCurrent;\n                    }\n                    return {\n                        current: newCurrent,\n                        longest: newLongest,\n                        lastEntryDate: entryDate\n                    };\n                }\n            }[\"useDreamJournal.useCallback[updateStreak]\"]);\n            // Award streak bonus XP\n            if (streak.current > 0) {\n                const streakBonus = xpConfig.streakBonus * Math.min(streak.current, 10); // Cap bonus at 10 days\n                awardXp(streakBonus);\n                gainXpForCompanions('dream', streakBonus);\n            }\n        }\n    }[\"useDreamJournal.useCallback[updateStreak]\"], [\n        streak.current,\n        xpConfig.streakBonus,\n        awardXp,\n        setStreak,\n        gainXpForCompanions\n    ]);\n    const checkAchievements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[checkAchievements]\": (newEntries)=>{\n            const newAchievements = [];\n            // First Entry\n            if (newEntries.length === 1 && !achievements.includes('First Entry')) {\n                newAchievements.push('First Entry');\n                awardXp(50);\n            }\n            // 10-Day Streak\n            if (streak.current >= 10 && !achievements.includes('10-Day Streak')) {\n                newAchievements.push('10-Day Streak');\n            }\n            // 100 Dreams Logged\n            if (newEntries.length >= 100 && !achievements.includes('100 Dreams Logged')) {\n                newAchievements.push('100 Dreams Logged');\n            }\n            // Panty Dream Lord\n            const pantyEntries = newEntries.filter({\n                \"useDreamJournal.useCallback[checkAchievements].pantyEntries\": (e)=>e.tags.includes('panty')\n            }[\"useDreamJournal.useCallback[checkAchievements].pantyEntries\"]);\n            if (pantyEntries.length >= 50 && !achievements.includes('Panty Dream Lord')) {\n                newAchievements.push('Panty Dream Lord');\n            }\n            if (newAchievements.length > 0) {\n                setAchievements({\n                    \"useDreamJournal.useCallback[checkAchievements]\": (prev)=>[\n                            ...prev,\n                            ...newAchievements\n                        ]\n                }[\"useDreamJournal.useCallback[checkAchievements]\"]);\n            }\n        }\n    }[\"useDreamJournal.useCallback[checkAchievements]\"], [\n        achievements,\n        streak.current,\n        awardXp,\n        setAchievements\n    ]);\n    const addEntry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[addEntry]\": (entry)=>{\n            const newEntry = {\n                ...entry,\n                id: \"d\".concat(Date.now(), \"-\").concat(Math.random().toString(36).slice(2, 7)),\n                xpEarned: 0,\n                createdAt: new Date().toISOString(),\n                updatedAt: new Date().toISOString()\n            };\n            newEntry.xpEarned = calculateEntryXp(newEntry);\n            const updatedEntries = [\n                ...entries,\n                newEntry\n            ].sort({\n                \"useDreamJournal.useCallback[addEntry].updatedEntries\": (a, b)=>new Date(b.date).getTime() - new Date(a.date).getTime()\n            }[\"useDreamJournal.useCallback[addEntry].updatedEntries\"]);\n            setEntries(updatedEntries);\n            updateStreak(newEntry.date);\n            awardXp(newEntry.xpEarned);\n            gainXpForCompanions('dream', newEntry.xpEarned);\n            checkAchievements(updatedEntries);\n            return newEntry;\n        }\n    }[\"useDreamJournal.useCallback[addEntry]\"], [\n        entries,\n        calculateEntryXp,\n        setEntries,\n        updateStreak,\n        awardXp,\n        checkAchievements,\n        gainXpForCompanions\n    ]);\n    const updateEntry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[updateEntry]\": (id, updates)=>{\n            let xpDifference = 0;\n            setEntries({\n                \"useDreamJournal.useCallback[updateEntry]\": (prev)=>prev.map({\n                        \"useDreamJournal.useCallback[updateEntry]\": (entry)=>{\n                            if (entry.id === id) {\n                                const originalXp = entry.xpEarned;\n                                const updated = {\n                                    ...entry,\n                                    ...updates,\n                                    updatedAt: new Date().toISOString()\n                                };\n                                updated.xpEarned = calculateEntryXp(updated);\n                                xpDifference = updated.xpEarned - originalXp;\n                                return updated;\n                            }\n                            return entry;\n                        }\n                    }[\"useDreamJournal.useCallback[updateEntry]\"])\n            }[\"useDreamJournal.useCallback[updateEntry]\"]);\n            if (xpDifference !== 0) {\n                awardXp(xpDifference);\n                gainXpForCompanions('dream', xpDifference);\n            }\n        }\n    }[\"useDreamJournal.useCallback[updateEntry]\"], [\n        setEntries,\n        calculateEntryXp,\n        awardXp,\n        gainXpForCompanions\n    ]);\n    const deleteEntry = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[deleteEntry]\": (id)=>{\n            const entryToDelete = entries.find({\n                \"useDreamJournal.useCallback[deleteEntry].entryToDelete\": (entry)=>entry.id === id\n            }[\"useDreamJournal.useCallback[deleteEntry].entryToDelete\"]);\n            if (entryToDelete) {\n                awardXp(-entryToDelete.xpEarned);\n                gainXpForCompanions('dream', -entryToDelete.xpEarned);\n            }\n            setEntries({\n                \"useDreamJournal.useCallback[deleteEntry]\": (prev)=>prev.filter({\n                        \"useDreamJournal.useCallback[deleteEntry]\": (entry)=>entry.id !== id\n                    }[\"useDreamJournal.useCallback[deleteEntry]\"])\n            }[\"useDreamJournal.useCallback[deleteEntry]\"]);\n        }\n    }[\"useDreamJournal.useCallback[deleteEntry]\"], [\n        setEntries,\n        entries,\n        awardXp,\n        gainXpForCompanions\n    ]);\n    const filterEntries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[filterEntries]\": (filter)=>{\n            return entries.filter({\n                \"useDreamJournal.useCallback[filterEntries]\": (entry)=>{\n                    var _filter_tags, _filter_companions, _filter_places;\n                    if (filter.searchText) {\n                        const search = filter.searchText.toLowerCase();\n                        if (!entry.title.toLowerCase().includes(search) && !entry.content.toLowerCase().includes(search)) {\n                            return false;\n                        }\n                    }\n                    if (((_filter_tags = filter.tags) === null || _filter_tags === void 0 ? void 0 : _filter_tags.length) && !filter.tags.some({\n                        \"useDreamJournal.useCallback[filterEntries]\": (tag)=>entry.tags.includes(tag)\n                    }[\"useDreamJournal.useCallback[filterEntries]\"])) {\n                        return false;\n                    }\n                    if (((_filter_companions = filter.companions) === null || _filter_companions === void 0 ? void 0 : _filter_companions.length) && !filter.companions.some({\n                        \"useDreamJournal.useCallback[filterEntries]\": (comp)=>entry.companions.includes(comp)\n                    }[\"useDreamJournal.useCallback[filterEntries]\"])) {\n                        return false;\n                    }\n                    if (((_filter_places = filter.places) === null || _filter_places === void 0 ? void 0 : _filter_places.length) && !filter.places.some({\n                        \"useDreamJournal.useCallback[filterEntries]\": (place)=>entry.places.includes(place)\n                    }[\"useDreamJournal.useCallback[filterEntries]\"])) {\n                        return false;\n                    }\n                    if (filter.dateFrom && entry.date < filter.dateFrom) {\n                        return false;\n                    }\n                    if (filter.dateTo && entry.date > filter.dateTo) {\n                        return false;\n                    }\n                    if (filter.minXp && entry.xpEarned < filter.minXp) {\n                        return false;\n                    }\n                    if (filter.maxXp && entry.xpEarned > filter.maxXp) {\n                        return false;\n                    }\n                    return true;\n                }\n            }[\"useDreamJournal.useCallback[filterEntries]\"]);\n        }\n    }[\"useDreamJournal.useCallback[filterEntries]\"], [\n        entries\n    ]);\n    const stats = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useDreamJournal.useMemo[stats]\": ()=>{\n            const totalEntries = entries.length;\n            const totalXpEarned = entries.reduce({\n                \"useDreamJournal.useMemo[stats].totalXpEarned\": (sum, entry)=>sum + entry.xpEarned\n            }[\"useDreamJournal.useMemo[stats].totalXpEarned\"], 0);\n            const averageXpPerEntry = totalEntries > 0 ? totalXpEarned / totalEntries : 0;\n            const tagCounts = new Map();\n            const companionCounts = new Map();\n            const placeCounts = new Map();\n            entries.forEach({\n                \"useDreamJournal.useMemo[stats]\": (entry)=>{\n                    entry.tags.forEach({\n                        \"useDreamJournal.useMemo[stats]\": (tag)=>tagCounts.set(tag, (tagCounts.get(tag) || 0) + 1)\n                    }[\"useDreamJournal.useMemo[stats]\"]);\n                    entry.companions.forEach({\n                        \"useDreamJournal.useMemo[stats]\": (comp)=>companionCounts.set(comp, (companionCounts.get(comp) || 0) + 1)\n                    }[\"useDreamJournal.useMemo[stats]\"]);\n                    entry.places.forEach({\n                        \"useDreamJournal.useMemo[stats]\": (place)=>placeCounts.set(place, (placeCounts.get(place) || 0) + 1)\n                    }[\"useDreamJournal.useMemo[stats]\"]);\n                }\n            }[\"useDreamJournal.useMemo[stats]\"]);\n            const currentMonth = new Date().toISOString().slice(0, 7);\n            const entriesThisMonth = entries.filter({\n                \"useDreamJournal.useMemo[stats]\": (entry)=>entry.date.startsWith(currentMonth)\n            }[\"useDreamJournal.useMemo[stats]\"]).length;\n            const lucidDreamCount = entries.filter({\n                \"useDreamJournal.useMemo[stats]\": (entry)=>entry.tags.includes('lucid')\n            }[\"useDreamJournal.useMemo[stats]\"]).length;\n            return {\n                totalEntries,\n                totalXpEarned,\n                averageXpPerEntry,\n                mostUsedTags: Array.from(tagCounts.entries()).map({\n                    \"useDreamJournal.useMemo[stats]\": (param)=>{\n                        let [tag, count] = param;\n                        return {\n                            tag,\n                            count\n                        };\n                    }\n                }[\"useDreamJournal.useMemo[stats]\"]).sort({\n                    \"useDreamJournal.useMemo[stats]\": (a, b)=>b.count - a.count\n                }[\"useDreamJournal.useMemo[stats]\"]).slice(0, 10),\n                favoriteCompanions: Array.from(companionCounts.entries()).map({\n                    \"useDreamJournal.useMemo[stats]\": (param)=>{\n                        let [name, count] = param;\n                        return {\n                            name,\n                            count\n                        };\n                    }\n                }[\"useDreamJournal.useMemo[stats]\"]).sort({\n                    \"useDreamJournal.useMemo[stats]\": (a, b)=>b.count - a.count\n                }[\"useDreamJournal.useMemo[stats]\"]).slice(0, 10),\n                favoriteLocations: Array.from(placeCounts.entries()).map({\n                    \"useDreamJournal.useMemo[stats]\": (param)=>{\n                        let [place, count] = param;\n                        return {\n                            place,\n                            count\n                        };\n                    }\n                }[\"useDreamJournal.useMemo[stats]\"]).sort({\n                    \"useDreamJournal.useMemo[stats]\": (a, b)=>b.count - a.count\n                }[\"useDreamJournal.useMemo[stats]\"]).slice(0, 10),\n                entriesThisMonth,\n                lucidDreamCount\n            };\n        }\n    }[\"useDreamJournal.useMemo[stats]\"], [\n        entries\n    ]);\n    const exportJournal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[exportJournal]\": ()=>{\n            const data = JSON.stringify(entries, null, 2);\n            const blob = new Blob([\n                data\n            ], {\n                type: 'application/json'\n            });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement('a');\n            a.href = url;\n            a.download = \"dream-journal-export-\".concat(new Date().toISOString().split('T')[0], \".json\");\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n        }\n    }[\"useDreamJournal.useCallback[exportJournal]\"], [\n        entries\n    ]);\n    const importJournal = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDreamJournal.useCallback[importJournal]\": (jsonData)=>{\n            try {\n                const imported = JSON.parse(jsonData);\n                const errors = [];\n                let importedCount = 0;\n                imported.forEach({\n                    \"useDreamJournal.useCallback[importJournal]\": (entry, index)=>{\n                        try {\n                            if (!entry.id || !entry.title || !entry.date || !entry.content) {\n                                errors.push(\"Entry \".concat(index + 1, \": Missing required fields\"));\n                                return;\n                            }\n                            const existingEntry = entries.find({\n                                \"useDreamJournal.useCallback[importJournal].existingEntry\": (e)=>e.id === entry.id\n                            }[\"useDreamJournal.useCallback[importJournal].existingEntry\"]);\n                            if (!existingEntry) {\n                                addEntry(entry);\n                                importedCount++;\n                            }\n                        } catch (err) {\n                            errors.push(\"Entry \".concat(index + 1, \": \").concat(err));\n                        }\n                    }\n                }[\"useDreamJournal.useCallback[importJournal]\"]);\n                return {\n                    success: true,\n                    imported: importedCount,\n                    errors\n                };\n            } catch (err) {\n                return {\n                    success: false,\n                    imported: 0,\n                    errors: [\n                        \"Invalid JSON: \".concat(err)\n                    ]\n                };\n            }\n        }\n    }[\"useDreamJournal.useCallback[importJournal]\"], [\n        entries,\n        addEntry\n    ]);\n    return {\n        entries,\n        streak,\n        stats,\n        achievements,\n        xpConfig,\n        addEntry,\n        updateEntry,\n        deleteEntry,\n        filterEntries,\n        exportJournal,\n        importJournal,\n        setXpConfig,\n        calculateEntryXp\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VEcmVhbUpvdXJuYWwudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7cUVBRTZDO0FBQ2E7QUFDWjtBQUNFO0FBUXRCO0FBQ3dCO0FBRWxELE1BQU1PLGNBQWM7QUFDcEIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsbUJBQW1CO0FBRWxCLFNBQVNDO0lBQ2QsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUdYLHVFQUFrQkEsQ0FDOUNLOzhDQUNBLElBQU1ELCtDQUFXQTs7SUFHbkIsTUFBTSxDQUFDUSxRQUFRQyxVQUFVLEdBQUdiLHVFQUFrQkEsQ0FDNUNNOzhDQUNBLElBQU87Z0JBQUVRLFNBQVM7Z0JBQUdDLFNBQVM7Z0JBQUdDLGVBQWU7WUFBSzs7SUFHdkQsTUFBTSxDQUFDQyxVQUFVQyxZQUFZLEdBQUdsQix1RUFBa0JBLENBQ2hETzs4Q0FDQSxJQUFNSiw2REFBaUJBOztJQUd6QixNQUFNLENBQUNnQixjQUFjQyxnQkFBZ0IsR0FBR3BCLHVFQUFrQkEsQ0FDeERROzhDQUNBLElBQU0sRUFBRTs7SUFHVixNQUFNLEVBQUVhLE9BQU8sRUFBRSxHQUFHcEIsMkRBQVlBO0lBQ2hDLE1BQU0sRUFBRXFCLG1CQUFtQixFQUFFLEdBQUdwQiw2REFBYUE7SUFFN0MsTUFBTXFCLG1CQUFtQnpCLGtEQUFXQTt5REFBQyxDQUFDMEI7WUFDcEMsSUFBSUMsS0FBS1IsU0FBU1MsU0FBUztZQUUzQkYsTUFBTUcsSUFBSSxDQUFDQyxPQUFPO2lFQUFDQyxDQUFBQTtvQkFDakIsT0FBUUEsSUFBSUMsV0FBVzt3QkFDckIsS0FBSzs0QkFDSEwsTUFBTVIsU0FBU2MsUUFBUTs0QkFDdkI7d0JBQ0YsS0FBSzs0QkFDSE4sTUFBTVIsU0FBU2UsU0FBUzs0QkFDeEI7d0JBQ0YsS0FBSzs0QkFDSFAsTUFBTVIsU0FBU2dCLFFBQVE7NEJBQ3ZCO3dCQUNGLEtBQUs7NEJBQ0hSLE1BQU1SLFNB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UUFDQUY7UUFDQTBDO1FBQ0FlO1FBQ0FNO1FBQ0FHO1FBQ0FxQztRQUNBbUI7UUFDQXpIO1FBQ0FLO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlRHJlYW1Kb3VybmFsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VQZXJzaXN0ZW50U3RhdGUgfSBmcm9tICcuL3VzZVBlcnNpc3RlbnRTdGF0ZSc7XHJcbmltcG9ydCB7IHVzZUludmVudG9yeSB9IGZyb20gJy4vdXNlSW52ZW50b3J5JztcclxuaW1wb3J0IHsgdXNlQ29tcGFuaW9ucyB9IGZyb20gJy4vdXNlQ29tcGFuaW9ucyc7XHJcbmltcG9ydCB7IFxyXG4gIERyZWFtSm91cm5hbEVudHJ5LCBcclxuICBKb3VybmFsU3RyZWFrLCBcclxuICBKb3VybmFsU3RhdHMsIFxyXG4gIEpvdXJuYWxGaWx0ZXIsXHJcbiAgWHBSZXdhcmRDb25maWcsXHJcbiAgREVGQVVMVF9YUF9DT05GSUcgXHJcbn0gZnJvbSAnLi4vdHlwZXMvam91cm5hbCc7XHJcbmltcG9ydCBqb3VybmFsRGF0YSBmcm9tICcuLi8uLi9kYXRhL2pvdXJuYWwuanNvbic7XHJcblxyXG5jb25zdCBKT1VSTkFMX0tFWSA9ICdkcmVhbUpvdXJuYWwnO1xyXG5jb25zdCBTVFJFQUtfS0VZID0gJ2pvdXJuYWxTdHJlYWsnO1xyXG5jb25zdCBYUF9DT05GSUdfS0VZID0gJ2pvdXJuYWxYcENvbmZpZyc7XHJcbmNvbnN0IEFDSElFVkVNRU5UU19LRVkgPSAnam91cm5hbEFjaGlldmVtZW50cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlRHJlYW1Kb3VybmFsKCkge1xyXG4gIGNvbnN0IFtlbnRyaWVzLCBzZXRFbnRyaWVzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxEcmVhbUpvdXJuYWxFbnRyeVtdPihcclxuICAgIEpPVVJOQUxfS0VZLCBcclxuICAgICgpID0+IGpvdXJuYWxEYXRhIGFzIERyZWFtSm91cm5hbEVudHJ5W11cclxuICApO1xyXG4gIFxyXG4gIGNvbnN0IFtzdHJlYWssIHNldFN0cmVha10gPSB1c2VQZXJzaXN0ZW50U3RhdGU8Sm91cm5hbFN0cmVhaz4oXHJcbiAgICBTVFJFQUtfS0VZLFxyXG4gICAgKCkgPT4gKHsgY3VycmVudDogMCwgbG9uZ2VzdDogMCwgbGFzdEVudHJ5RGF0ZTogbnVsbCB9KVxyXG4gICk7XHJcbiAgXHJcbiAgY29uc3QgW3hwQ29uZmlnLCBzZXRYcENvbmZpZ10gPSB1c2VQZXJzaXN0ZW50U3RhdGU8WHBSZXdhcmRDb25maWc+KFxyXG4gICAgWFBfQ09ORklHX0tFWSxcclxuICAgICgpID0+IERFRkFVTFRfWFBfQ09ORklHXHJcbiAgKTtcclxuICBcclxuICBjb25zdCBbYWNoaWV2ZW1lbnRzLCBzZXRBY2hpZXZlbWVudHNdID0gdXNlUGVyc2lzdGVudFN0YXRlPHN0cmluZ1tdPihcclxuICAgIEFDSElFVkVNRU5UU19LRVksXHJcbiAgICAoKSA9PiBbXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IHsgYXdhcmRYcCB9ID0gdXNlSW52ZW50b3J5KCk7XHJcbiAgY29uc3QgeyBnYWluWHBGb3JDb21wYW5pb25zIH0gPSB1c2VDb21wYW5pb25zKCk7XHJcblxyXG4gIGNvbnN0IGNhbGN1bGF0ZUVudHJ5WHAgPSB1c2VDYWxsYmFjaygoZW50cnk6IERyZWFtSm91cm5hbEVudHJ5KTogbnVtYmVyID0+IHtcclxuICAgIGxldCB4cCA9IHhwQ29uZmlnLmJhc2VFbnRyeTtcclxuICAgIFxyXG4gICAgZW50cnkudGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcbiAgICAgIHN3aXRjaCAodGFnLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICBjYXNlICdsdWNpZCc6XHJcbiAgICAgICAgICB4cCArPSB4cENvbmZpZy5sdWNpZFRhZztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3JpdHVhbCc6XHJcbiAgICAgICAgICB4cCArPSB4cENvbmZpZy5yaXR1YWxUYWc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdwYW50eSc6XHJcbiAgICAgICAgICB4cCArPSB4cENvbmZpZy5wYW50eVRhZztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3RlbXBsZSc6XHJcbiAgICAgICAgICB4cCArPSB4cENvbmZpZy50ZW1wbGVUYWc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdxdWVzdCc6XHJcbiAgICAgICAgICB4cCArPSB4cENvbmZpZy5xdWVzdFRhZztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHhwO1xyXG4gIH0sIFt4cENvbmZpZ10pO1xyXG5cclxuICBjb25zdCB1cGRhdGVTdHJlYWsgPSB1c2VDYWxsYmFjaygoZW50cnlEYXRlOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF07XHJcbiAgICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdO1xyXG4gICAgXHJcbiAgICBzZXRTdHJlYWsocHJldiA9PiB7XHJcbiAgICAgIGxldCBuZXdDdXJyZW50ID0gcHJldi5jdXJyZW50O1xyXG4gICAgICBsZXQgbmV3TG9uZ2VzdCA9IHByZXYubG9uZ2VzdDtcclxuICAgICAgXHJcbiAgICAgIGlmIChwcmV2Lmxhc3RFbnRyeURhdGUgPT09IHllc3RlcmRheSB8fCBwcmV2Lmxhc3RFbnRyeURhdGUgPT09IG51bGwpIHtcclxuICAgICAgICBuZXdDdXJyZW50ID0gcHJldi5jdXJyZW50ICsgMTtcclxuICAgICAgfSBlbHNlIGlmIChwcmV2Lmxhc3RFbnRyeURhdGUgIT09IHRvZGF5KSB7XHJcbiAgICAgICAgbmV3Q3VycmVudCA9IDE7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChuZXdDdXJyZW50ID4gbmV3TG9uZ2VzdCkge1xyXG4gICAgICAgIG5ld0xvbmdlc3QgPSBuZXdDdXJyZW50O1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGN1cnJlbnQ6IG5ld0N1cnJlbnQsXHJcbiAgICAgICAgbG9uZ2VzdDogbmV3TG9uZ2VzdCxcclxuICAgICAgICBsYXN0RW50cnlEYXRlOiBlbnRyeURhdGVcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBBd2FyZCBzdHJlYWsgYm9udXMgWFBcclxuICAgIGlmIChzdHJlYWsuY3VycmVudCA+IDApIHtcclxuICAgICAgY29uc3Qgc3RyZWFrQm9udXMgPSB4cENvbmZpZy5zdHJlYWtCb251cyAqIE1hdGgubWluKHN0cmVhay5jdXJyZW50LCAxMCk7IC8vIENhcCBib251cyBhdCAxMCBkYXlzXHJcbiAgICAgIGF3YXJkWHAoc3RyZWFrQm9udXMpO1xyXG4gICAgICBnYWluWHBGb3JDb21wYW5pb25zKCdkcmVhbScsIHN0cmVha0JvbnVzKTtcclxuICAgIH1cclxuICB9LCBbc3RyZWFrLmN1cnJlbnQsIHhwQ29uZmlnLnN0cmVha0JvbnVzLCBhd2FyZFhwLCBzZXRTdHJlYWssIGdhaW5YcEZvckNvbXBhbmlvbnNdKTtcclxuXHJcbiAgY29uc3QgY2hlY2tBY2hpZXZlbWVudHMgPSB1c2VDYWxsYmFjaygobmV3RW50cmllczogRHJlYW1Kb3VybmFsRW50cnlbXSkgPT4ge1xyXG4gICAgY29uc3QgbmV3QWNoaWV2ZW1lbnRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBGaXJzdCBFbnRyeVxyXG4gICAgaWYgKG5ld0VudHJpZXMubGVuZ3RoID09PSAxICYmICFhY2hpZXZlbWVudHMuaW5jbHVkZXMoJ0ZpcnN0IEVudHJ5JykpIHtcclxuICAgICAgbmV3QWNoaWV2ZW1lbnRzLnB1c2goJ0ZpcnN0IEVudHJ5Jyk7XHJcbiAgICAgIGF3YXJkWHAoNTApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyAxMC1EYXkgU3RyZWFrXHJcbiAgICBpZiAoc3RyZWFrLmN1cnJlbnQgPj0gMTAgJiYgIWFjaGlldmVtZW50cy5pbmNsdWRlcygnMTAtRGF5IFN0cmVhaycpKSB7XHJcbiAgICAgIG5ld0FjaGlldmVtZW50cy5wdXNoKCcxMC1EYXkgU3RyZWFrJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIDEwMCBEcmVhbXMgTG9nZ2VkXHJcbiAgICBpZiAobmV3RW50cmllcy5sZW5ndGggPj0gMTAwICYmICFhY2hpZXZlbWVudHMuaW5jbHVkZXMoJzEwMCBEcmVhbXMgTG9nZ2VkJykpIHtcclxuICAgICAgbmV3QWNoaWV2ZW1lbnRzLnB1c2goJzEwMCBEcmVhbXMgTG9nZ2VkJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBhbnR5IERyZWFtIExvcmRcclxuICAgIGNvbnN0IHBhbnR5RW50cmllcyA9IG5ld0VudHJpZXMuZmlsdGVyKGUgPT4gZS50YWdzLmluY2x1ZGVzKCdwYW50eScpKTtcclxuICAgIGlmIChwYW50eUVudHJpZXMubGVuZ3RoID49IDUwICYmICFhY2hpZXZlbWVudHMuaW5jbHVkZXMoJ1BhbnR5IERyZWFtIExvcmQnKSkge1xyXG4gICAgICBuZXdBY2hpZXZlbWVudHMucHVzaCgnUGFudHkgRHJlYW0gTG9yZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAobmV3QWNoaWV2ZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgc2V0QWNoaWV2ZW1lbnRzKHByZXYgPT4gWy4uLnByZXYsIC4uLm5ld0FjaGlldmVtZW50c10pO1xyXG4gICAgfVxyXG4gIH0sIFthY2hpZXZlbWVudHMsIHN0cmVhay5jdXJyZW50LCBhd2FyZFhwLCBzZXRBY2hpZXZlbWVudHNdKTtcclxuXHJcbiAgY29uc3QgYWRkRW50cnkgPSB1c2VDYWxsYmFjaygoZW50cnk6IE9taXQ8RHJlYW1Kb3VybmFsRW50cnksICdpZCcgfCAneHBFYXJuZWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pID0+IHtcclxuICAgIGNvbnN0IG5ld0VudHJ5OiBEcmVhbUpvdXJuYWxFbnRyeSA9IHtcclxuICAgICAgLi4uZW50cnksXHJcbiAgICAgIGlkOiBgZCR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyLCA3KX1gLFxyXG4gICAgICB4cEVhcm5lZDogMCxcclxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgbmV3RW50cnkueHBFYXJuZWQgPSBjYWxjdWxhdGVFbnRyeVhwKG5ld0VudHJ5KTtcclxuICAgIFxyXG4gICAgY29uc3QgdXBkYXRlZEVudHJpZXMgPSBbLi4uZW50cmllcywgbmV3RW50cnldLnNvcnQoKGEsIGIpID0+IFxyXG4gICAgICBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEuZGF0ZSkuZ2V0VGltZSgpXHJcbiAgICApO1xyXG4gICAgXHJcbiAgICBzZXRFbnRyaWVzKHVwZGF0ZWRFbnRyaWVzKTtcclxuICAgIHVwZGF0ZVN0cmVhayhuZXdFbnRyeS5kYXRlKTtcclxuICAgIGF3YXJkWHAobmV3RW50cnkueHBFYXJuZWQpO1xyXG4gICAgZ2FpblhwRm9yQ29tcGFuaW9ucygnZHJlYW0nLCBuZXdFbnRyeS54cEVhcm5lZCk7XHJcbiAgICBjaGVja0FjaGlldmVtZW50cyh1cGRhdGVkRW50cmllcyk7XHJcbiAgICBcclxuICAgIHJldHVybiBuZXdFbnRyeTtcclxuICB9LCBbZW50cmllcywgY2FsY3VsYXRlRW50cnlYcCwgc2V0RW50cmllcywgdXBkYXRlU3RyZWFrLCBhd2FyZFhwLCBjaGVja0FjaGlldmVtZW50cywgZ2FpblhwRm9yQ29tcGFuaW9uc10pO1xyXG5cclxuICBjb25zdCB1cGRhdGVFbnRyeSA9IHVzZUNhbGxiYWNrKChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPERyZWFtSm91cm5hbEVudHJ5PikgPT4ge1xyXG4gICAgbGV0IHhwRGlmZmVyZW5jZSA9IDA7XHJcbiAgICBzZXRFbnRyaWVzKHByZXYgPT4gcHJldi5tYXAoZW50cnkgPT4ge1xyXG4gICAgICBpZiAoZW50cnkuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxYcCA9IGVudHJ5LnhwRWFybmVkO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSB7IFxyXG4gICAgICAgICAgLi4uZW50cnksIFxyXG4gICAgICAgICAgLi4udXBkYXRlcywgXHJcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHVwZGF0ZWQueHBFYXJuZWQgPSBjYWxjdWxhdGVFbnRyeVhwKHVwZGF0ZWQpO1xyXG4gICAgICAgIHhwRGlmZmVyZW5jZSA9IHVwZGF0ZWQueHBFYXJuZWQgLSBvcmlnaW5hbFhwO1xyXG4gICAgICAgIHJldHVybiB1cGRhdGVkO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlbnRyeTtcclxuICAgIH0pKTtcclxuXHJcbiAgICBpZiAoeHBEaWZmZXJlbmNlICE9PSAwKSB7XHJcbiAgICAgIGF3YXJkWHAoeHBEaWZmZXJlbmNlKTtcclxuICAgICAgZ2FpblhwRm9yQ29tcGFuaW9ucygnZHJlYW0nLCB4cERpZmZlcmVuY2UpO1xyXG4gICAgfVxyXG4gIH0sIFtzZXRFbnRyaWVzLCBjYWxjdWxhdGVFbnRyeVhwLCBhd2FyZFhwLCBnYWluWHBGb3JDb21wYW5pb25zXSk7XHJcblxyXG4gIGNvbnN0IGRlbGV0ZUVudHJ5ID0gdXNlQ2FsbGJhY2soKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IGVudHJ5VG9EZWxldGUgPSBlbnRyaWVzLmZpbmQoZW50cnkgPT4gZW50cnkuaWQgPT09IGlkKTtcclxuICAgIGlmIChlbnRyeVRvRGVsZXRlKSB7XHJcbiAgICAgIGF3YXJkWHAoLWVudHJ5VG9EZWxldGUueHBFYXJuZWQpO1xyXG4gICAgICBnYWluWHBGb3JDb21wYW5pb25zKCdkcmVhbScsIC1lbnRyeVRvRGVsZXRlLnhwRWFybmVkKTtcclxuICAgIH1cclxuICAgIHNldEVudHJpZXMocHJldiA9PiBwcmV2LmZpbHRlcihlbnRyeSA9PiBlbnRyeS5pZCAhPT0gaWQpKTtcclxuICB9LCBbc2V0RW50cmllcywgZW50cmllcywgYXdhcmRYcCwgZ2FpblhwRm9yQ29tcGFuaW9uc10pO1xyXG5cclxuICBjb25zdCBmaWx0ZXJFbnRyaWVzID0gdXNlQ2FsbGJhY2soKGZpbHRlcjogUGFydGlhbDxKb3VybmFsRmlsdGVyPikgPT4ge1xyXG4gICAgcmV0dXJuIGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IHtcclxuICAgICAgaWYgKGZpbHRlci5zZWFyY2hUZXh0KSB7XHJcbiAgICAgICAgY29uc3Qgc2VhcmNoID0gZmlsdGVyLnNlYXJjaFRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoIWVudHJ5LnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoKSAmJiBcclxuICAgICAgICAgICAgIWVudHJ5LmNvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVyLnRhZ3M/Lmxlbmd0aCAmJiAhZmlsdGVyLnRhZ3Muc29tZSh0YWcgPT4gZW50cnkudGFncy5pbmNsdWRlcyh0YWcpKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGZpbHRlci5jb21wYW5pb25zPy5sZW5ndGggJiYgIWZpbHRlci5jb21wYW5pb25zLnNvbWUoY29tcCA9PiBlbnRyeS5jb21wYW5pb25zLmluY2x1ZGVzKGNvbXApKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGZpbHRlci5wbGFjZXM/Lmxlbmd0aCAmJiAhZmlsdGVyLnBsYWNlcy5zb21lKHBsYWNlID0+IGVudHJ5LnBsYWNlcy5pbmNsdWRlcyhwbGFjZSkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVyLmRhdGVGcm9tICYmIGVudHJ5LmRhdGUgPCBmaWx0ZXIuZGF0ZUZyb20pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChmaWx0ZXIuZGF0ZVRvICYmIGVudHJ5LmRhdGUgPiBmaWx0ZXIuZGF0ZVRvKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVyLm1pblhwICYmIGVudHJ5LnhwRWFybmVkIDwgZmlsdGVyLm1pblhwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVyLm1heFhwICYmIGVudHJ5LnhwRWFybmVkID4gZmlsdGVyLm1heFhwKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pO1xyXG4gIH0sIFtlbnRyaWVzXSk7XHJcblxyXG4gIGNvbnN0IHN0YXRzID0gdXNlTWVtbygoKTogSm91cm5hbFN0YXRzID0+IHtcclxuICAgIGNvbnN0IHRvdGFsRW50cmllcyA9IGVudHJpZXMubGVuZ3RoO1xyXG4gICAgY29uc3QgdG90YWxYcEVhcm5lZCA9IGVudHJpZXMucmVkdWNlKChzdW0sIGVudHJ5KSA9PiBzdW0gKyBlbnRyeS54cEVhcm5lZCwgMCk7XHJcbiAgICBjb25zdCBhdmVyYWdlWHBQZXJFbnRyeSA9IHRvdGFsRW50cmllcyA+IDAgPyB0b3RhbFhwRWFybmVkIC8gdG90YWxFbnRyaWVzIDogMDtcclxuICAgIFxyXG4gICAgY29uc3QgdGFnQ291bnRzID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICAgIGNvbnN0IGNvbXBhbmlvbkNvdW50cyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICBjb25zdCBwbGFjZUNvdW50cyA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICBcclxuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgIGVudHJ5LnRhZ3MuZm9yRWFjaCh0YWcgPT4gdGFnQ291bnRzLnNldCh0YWcsICh0YWdDb3VudHMuZ2V0KHRhZykgfHwgMCkgKyAxKSk7XHJcbiAgICAgIGVudHJ5LmNvbXBhbmlvbnMuZm9yRWFjaChjb21wID0+IGNvbXBhbmlvbkNvdW50cy5zZXQoY29tcCwgKGNvbXBhbmlvbkNvdW50cy5nZXQoY29tcCkgfHwgMCkgKyAxKSk7XHJcbiAgICAgIGVudHJ5LnBsYWNlcy5mb3JFYWNoKHBsYWNlID0+IHBsYWNlQ291bnRzLnNldChwbGFjZSwgKHBsYWNlQ291bnRzLmdldChwbGFjZSkgfHwgMCkgKyAxKSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgY29uc3QgY3VycmVudE1vbnRoID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDcpO1xyXG4gICAgY29uc3QgZW50cmllc1RoaXNNb250aCA9IGVudHJpZXMuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LmRhdGUuc3RhcnRzV2l0aChjdXJyZW50TW9udGgpKS5sZW5ndGg7XHJcbiAgICBjb25zdCBsdWNpZERyZWFtQ291bnQgPSBlbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50YWdzLmluY2x1ZGVzKCdsdWNpZCcpKS5sZW5ndGg7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsRW50cmllcyxcclxuICAgICAgdG90YWxYcEVhcm5lZCxcclxuICAgICAgYXZlcmFnZVhwUGVyRW50cnksXHJcbiAgICAgIG1vc3RVc2VkVGFnczogQXJyYXkuZnJvbSh0YWdDb3VudHMuZW50cmllcygpKVxyXG4gICAgICAgIC5tYXAoKFt0YWcsIGNvdW50XSkgPT4gKHsgdGFnLCBjb3VudCB9KSlcclxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5jb3VudCAtIGEuY291bnQpXHJcbiAgICAgICAgLnNsaWNlKDAsIDEwKSxcclxuICAgICAgZmF2b3JpdGVDb21wYW5pb25zOiBBcnJheS5mcm9tKGNvbXBhbmlvbkNvdW50cy5lbnRyaWVzKCkpXHJcbiAgICAgICAgLm1hcCgoW25hbWUsIGNvdW50XSkgPT4gKHsgbmFtZSwgY291bnQgfSkpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxyXG4gICAgICAgIC5zbGljZSgwLCAxMCksXHJcbiAgICAgIGZhdm9yaXRlTG9jYXRpb25zOiBBcnJheS5mcm9tKHBsYWNlQ291bnRzLmVudHJpZXMoKSlcclxuICAgICAgICAubWFwKChbcGxhY2UsIGNvdW50XSkgPT4gKHsgcGxhY2UsIGNvdW50IH0pKVxyXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudClcclxuICAgICAgICAuc2xpY2UoMCwgMTApLFxyXG4gICAgICBlbnRyaWVzVGhpc01vbnRoLFxyXG4gICAgICBsdWNpZERyZWFtQ291bnQsXHJcbiAgICB9O1xyXG4gIH0sIFtlbnRyaWVzXSk7XHJcblxyXG4gIGNvbnN0IGV4cG9ydEpvdXJuYWwgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoZW50cmllcywgbnVsbCwgMik7XHJcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcclxuICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgYS5ocmVmID0gdXJsO1xyXG4gICAgYS5kb3dubG9hZCA9IGBkcmVhbS1qb3VybmFsLWV4cG9ydC0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdfS5qc29uYDtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO1xyXG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xyXG4gIH0sIFtlbnRyaWVzXSk7XHJcblxyXG4gIGNvbnN0IGltcG9ydEpvdXJuYWwgPSB1c2VDYWxsYmFjaygoanNvbkRhdGE6IHN0cmluZyk6IHsgc3VjY2VzczogYm9vbGVhbjsgaW1wb3J0ZWQ6IG51bWJlcjsgZXJyb3JzOiBzdHJpbmdbXSB9ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGltcG9ydGVkID0gSlNPTi5wYXJzZShqc29uRGF0YSkgYXMgRHJlYW1Kb3VybmFsRW50cnlbXTtcclxuICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICBsZXQgaW1wb3J0ZWRDb3VudCA9IDA7XHJcbiAgICAgIFxyXG4gICAgICBpbXBvcnRlZC5mb3JFYWNoKChlbnRyeSwgaW5kZXgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKCFlbnRyeS5pZCB8fCAhZW50cnkudGl0bGUgfHwgIWVudHJ5LmRhdGUgfHwgIWVudHJ5LmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goYEVudHJ5ICR7aW5kZXggKyAxfTogTWlzc2luZyByZXF1aXJlZCBmaWVsZHNgKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBleGlzdGluZ0VudHJ5ID0gZW50cmllcy5maW5kKGUgPT4gZS5pZCA9PT0gZW50cnkuaWQpO1xyXG4gICAgICAgICAgaWYgKCFleGlzdGluZ0VudHJ5KSB7XHJcbiAgICAgICAgICAgIGFkZEVudHJ5KGVudHJ5KTtcclxuICAgICAgICAgICAgaW1wb3J0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgZXJyb3JzLnB1c2goYEVudHJ5ICR7aW5kZXggKyAxfTogJHtlcnJ9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGltcG9ydGVkOiBpbXBvcnRlZENvdW50LCBlcnJvcnMgfTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgaW1wb3J0ZWQ6IDAsIGVycm9yczogW2BJbnZhbGlkIEpTT046ICR7ZXJyfWBdIH07XHJcbiAgICB9XHJcbiAgfSwgW2VudHJpZXMsIGFkZEVudHJ5XSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBlbnRyaWVzLFxyXG4gICAgc3RyZWFrLFxyXG4gICAgc3RhdHMsXHJcbiAgICBhY2hpZXZlbWVudHMsXHJcbiAgICB4cENvbmZpZyxcclxuICAgIGFkZEVudHJ5LFxyXG4gICAgdXBkYXRlRW50cnksXHJcbiAgICBkZWxldGVFbnRyeSxcclxuICAgIGZpbHRlckVudHJpZXMsXHJcbiAgICBleHBvcnRKb3VybmFsLFxyXG4gICAgaW1wb3J0Sm91cm5hbCxcclxuICAgIHNldFhwQ29uZmlnLFxyXG4gICAgY2FsY3VsYXRlRW50cnlYcCxcclxuICB9IGFzIGNvbnN0O1xyXG59Il0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZVBlcnNpc3RlbnRTdGF0ZSIsInVzZUludmVudG9yeSIsInVzZUNvbXBhbmlvbnMiLCJERUZBVUxUX1hQX0NPTkZJRyIsImpvdXJuYWxEYXRhIiwiSk9VUk5BTF9LRVkiLCJTVFJFQUtfS0VZIiwiWFBfQ09ORklHX0tFWSIsIkFDSElFVkVNRU5UU19LRVkiLCJ1c2VEcmVhbUpvdXJuYWwiLCJlbnRyaWVzIiwic2V0RW50cmllcyIsInN0cmVhayIsInNldFN0cmVhayIsImN1cnJlbnQiLCJsb25nZXN0IiwibGFzdEVudHJ5RGF0ZSIsInhwQ29uZmlnIiwic2V0WHBDb25maWciLCJhY2hpZXZlbWVudHMiLCJzZXRBY2hpZXZlbWVudHMiLCJhd2FyZFhwIiwiZ2FpblhwRm9yQ29tcGFuaW9ucyIsImNhbGN1bGF0ZUVudHJ5WHAiLCJlbnRyeSIsInhwIiwiYmFzZUVudHJ5IiwidGFncyIsImZvckVhY2giLCJ0YWciLCJ0b0xvd2VyQ2FzZSIsImx1Y2lkVGFnIiwicml0dWFsVGFnIiwicGFudHlUYWciLCJ0ZW1wbGVUYWciLCJxdWVzdFRhZyIsInVwZGF0ZVN0cmVhayIsImVudHJ5RGF0ZSIsInRvZGF5IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJ5ZXN0ZXJkYXkiLCJub3ciLCJwcmV2IiwibmV3Q3VycmVudCIsIm5ld0xvbmdlc3QiLCJzdHJlYWtCb251cyIsIk1hdGgiLCJtaW4iLCJjaGVja0FjaGlldmVtZW50cyIsIm5ld0VudHJpZXMiLCJuZXdBY2hpZXZlbWVudHMiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInB1c2giLCJwYW50eUVudHJpZXMiLCJmaWx0ZXIiLCJlIiwiYWRkRW50cnkiLCJuZXdFbnRyeSIsImlkIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsInhwRWFybmVkIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwidXBkYXRlZEVudHJpZXMiLCJzb3J0IiwiYSIsImIiLCJkYXRlIiwiZ2V0VGltZSIsInVwZGF0ZUVudHJ5IiwidXBkYXRlcyIsInhwRGlmZmVyZW5jZSIsIm1hcCIsIm9yaWdpbmFsWHAiLCJ1cGRhdGVkIiwiZGVsZXRlRW50cnkiLCJlbnRyeVRvRGVsZXRlIiwiZmluZCIsImZpbHRlckVudHJpZXMiLCJzZWFyY2hUZXh0Iiwic2VhcmNoIiwidGl0bGUiLCJjb250ZW50Iiwic29tZSIsImNvbXBhbmlvbnMiLCJjb21wIiwicGxhY2VzIiwicGxhY2UiLCJkYXRlRnJvbSIsImRhdGVUbyIsIm1pblhwIiwibWF4WHAiLCJzdGF0cyIsInRvdGFsRW50cmllcyIsInRvdGFsWHBFYXJuZWQiLCJyZWR1Y2UiLCJzdW0iLCJhdmVyYWdlWHBQZXJFbnRyeSIsInRhZ0NvdW50cyIsIk1hcCIsImNvbXBhbmlvbkNvdW50cyIsInBsYWNlQ291bnRzIiwic2V0IiwiZ2V0IiwiY3VycmVudE1vbnRoIiwiZW50cmllc1RoaXNNb250aCIsInN0YXJ0c1dpdGgiLCJsdWNpZERyZWFtQ291bnQiLCJtb3N0VXNlZFRhZ3MiLCJBcnJheSIsImZyb20iLCJjb3VudCIsImZhdm9yaXRlQ29tcGFuaW9ucyIsIm5hbWUiLCJmYXZvcml0ZUxvY2F0aW9ucyIsImV4cG9ydEpvdXJuYWwiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsImJsb2IiLCJCbG9iIiwidHlwZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImNsaWNrIiwicmVtb3ZlQ2hpbGQiLCJyZXZva2VPYmplY3RVUkwiLCJpbXBvcnRKb3VybmFsIiwianNvbkRhdGEiLCJpbXBvcnRlZCIsInBhcnNlIiwiZXJyb3JzIiwiaW1wb3J0ZWRDb3VudCIsImluZGV4IiwiZXhpc3RpbmdFbnRyeSIsImVyciIsInN1Y2Nlc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useDreamJournal.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useDungeonAchievements.ts":
/*!*********************************************!*\
  !*** ./app/hooks/useDungeonAchievements.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDungeonAchievements: () => (/* binding */ useDungeonAchievements)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useAchievements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAchievements */ \"(app-pages-browser)/./app/hooks/useAchievements.ts\");\n/* harmony import */ var _useDungeons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useDungeons */ \"(app-pages-browser)/./app/hooks/useDungeons.ts\");\n/* __next_internal_client_entry_do_not_use__ useDungeonAchievements auto */ \n\n\n/**\r\n * A custom hook to manage dungeon-related achievements.\r\n * It listens to changes in dungeon state and unlocks achievements when their triggers are met.\r\n */ function useDungeonAchievements() {\n    const { achievements, unlockAchievement } = (0,_useAchievements__WEBPACK_IMPORTED_MODULE_1__.useAchievements)();\n    const { dungeons } = (0,_useDungeons__WEBPACK_IMPORTED_MODULE_2__.useDungeons)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useDungeonAchievements.useEffect\": ()=>{\n            // Don't run if achievements or dungeons haven't loaded yet\n            if (!achievements || achievements.length === 0 || !dungeons || dungeons.length === 0) return;\n            // Filter for only un-unlocked Dungeon achievements to check\n            const dungeonAchievements = achievements.filter({\n                \"useDungeonAchievements.useEffect.dungeonAchievements\": (a)=>!a.unlocked && a.category === 'Dungeon'\n            }[\"useDungeonAchievements.useEffect.dungeonAchievements\"]);\n            if (dungeonAchievements.length === 0) return;\n            const clearedDungeonsCount = dungeons.filter({\n                \"useDungeonAchievements.useEffect\": (d)=>d.completed\n            }[\"useDungeonAchievements.useEffect\"]).length;\n            dungeonAchievements.forEach({\n                \"useDungeonAchievements.useEffect\": (achievement)=>{\n                    const { trigger } = achievement;\n                    let conditionMet = false;\n                    if (trigger.type === 'DUNGEON_CLEARED' && clearedDungeonsCount >= trigger.value) {\n                        conditionMet = true;\n                    }\n                    if (conditionMet) {\n                        unlockAchievement(achievement.id);\n                    }\n                }\n            }[\"useDungeonAchievements.useEffect\"]);\n        // This effect should re-run whenever the player's dungeon progress changes.\n        }\n    }[\"useDungeonAchievements.useEffect\"], [\n        dungeons,\n        achievements,\n        unlockAchievement\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VEdW5nZW9uQWNoaWV2ZW1lbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OzRFQUVrQztBQUNrQjtBQUNSO0FBRTVDOzs7Q0FHQyxHQUNNLFNBQVNHO0lBQ2QsTUFBTSxFQUFFQyxZQUFZLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdKLGlFQUFlQTtJQUMzRCxNQUFNLEVBQUVLLFFBQVEsRUFBRSxHQUFHSix5REFBV0E7SUFFaENGLGdEQUFTQTs0Q0FBQztZQUNSLDJEQUEyRDtZQUMzRCxJQUFJLENBQUNJLGdCQUFnQkEsYUFBYUcsTUFBTSxLQUFLLEtBQUssQ0FBQ0QsWUFBWUEsU0FBU0MsTUFBTSxLQUFLLEdBQUc7WUFFdEYsNERBQTREO1lBQzVELE1BQU1DLHNCQUFzQkosYUFBYUssTUFBTTt3RUFDN0NDLENBQUFBLElBQUssQ0FBQ0EsRUFBRUMsUUFBUSxJQUFJRCxFQUFFRSxRQUFRLEtBQUs7O1lBR3JDLElBQUlKLG9CQUFvQkQsTUFBTSxLQUFLLEdBQUc7WUFFdEMsTUFBTU0sdUJBQXVCUCxTQUFTRyxNQUFNO29EQUFDSyxDQUFBQSxJQUFLQSxFQUFFQyxTQUFTO21EQUFFUixNQUFNO1lBRXJFQyxvQkFBb0JRLE9BQU87b0RBQUNDLENBQUFBO29CQUMxQixNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHRDtvQkFDcEIsSUFBSUUsZUFBZTtvQkFFbkIsSUFBSUQsUUFBUUUsSUFBSSxLQUFLLHFCQUFxQlAsd0JBQXdCSyxRQUFRRyxLQUFLLEVBQUU7d0JBQy9FRixlQUFlO29CQUNqQjtvQkFFQSxJQUFJQSxjQUFjO3dCQUNoQmQsa0JBQWtCWSxZQUFZSyxFQUFFO29CQUNsQztnQkFDRjs7UUFDQSw0RUFBNEU7UUFDOUU7MkNBQUc7UUFBQ2hCO1FBQVVGO1FBQWNDO0tBQWtCO0FBQ2hEIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXEx1Y2lkIERyZWFtXFxhcHBcXGhvb2tzXFx1c2VEdW5nZW9uQWNoaWV2ZW1lbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcclxuXHJcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlQWNoaWV2ZW1lbnRzIH0gZnJvbSAnLi91c2VBY2hpZXZlbWVudHMnO1xyXG5pbXBvcnQgeyB1c2VEdW5nZW9ucyB9IGZyb20gJy4vdXNlRHVuZ2VvbnMnO1xyXG5cclxuLyoqXHJcbiAqIEEgY3VzdG9tIGhvb2sgdG8gbWFuYWdlIGR1bmdlb24tcmVsYXRlZCBhY2hpZXZlbWVudHMuXHJcbiAqIEl0IGxpc3RlbnMgdG8gY2hhbmdlcyBpbiBkdW5nZW9uIHN0YXRlIGFuZCB1bmxvY2tzIGFjaGlldmVtZW50cyB3aGVuIHRoZWlyIHRyaWdnZXJzIGFyZSBtZXQuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXNlRHVuZ2VvbkFjaGlldmVtZW50cygpIHtcclxuICBjb25zdCB7IGFjaGlldmVtZW50cywgdW5sb2NrQWNoaWV2ZW1lbnQgfSA9IHVzZUFjaGlldmVtZW50cygpO1xyXG4gIGNvbnN0IHsgZHVuZ2VvbnMgfSA9IHVzZUR1bmdlb25zKCk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAvLyBEb24ndCBydW4gaWYgYWNoaWV2ZW1lbnRzIG9yIGR1bmdlb25zIGhhdmVuJ3QgbG9hZGVkIHlldFxyXG4gICAgaWYgKCFhY2hpZXZlbWVudHMgfHwgYWNoaWV2ZW1lbnRzLmxlbmd0aCA9PT0gMCB8fCAhZHVuZ2VvbnMgfHwgZHVuZ2VvbnMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgLy8gRmlsdGVyIGZvciBvbmx5IHVuLXVubG9ja2VkIER1bmdlb24gYWNoaWV2ZW1lbnRzIHRvIGNoZWNrXHJcbiAgICBjb25zdCBkdW5nZW9uQWNoaWV2ZW1lbnRzID0gYWNoaWV2ZW1lbnRzLmZpbHRlcihcclxuICAgICAgYSA9PiAhYS51bmxvY2tlZCAmJiBhLmNhdGVnb3J5ID09PSAnRHVuZ2VvbidcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGR1bmdlb25BY2hpZXZlbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgY2xlYXJlZER1bmdlb25zQ291bnQgPSBkdW5nZW9ucy5maWx0ZXIoZCA9PiBkLmNvbXBsZXRlZCkubGVuZ3RoO1xyXG5cclxuICAgIGR1bmdlb25BY2hpZXZlbWVudHMuZm9yRWFjaChhY2hpZXZlbWVudCA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdHJpZ2dlciB9ID0gYWNoaWV2ZW1lbnQ7XHJcbiAgICAgIGxldCBjb25kaXRpb25NZXQgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmICh0cmlnZ2VyLnR5cGUgPT09ICdEVU5HRU9OX0NMRUFSRUQnICYmIGNsZWFyZWREdW5nZW9uc0NvdW50ID49IHRyaWdnZXIudmFsdWUpIHtcclxuICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY29uZGl0aW9uTWV0KSB7XHJcbiAgICAgICAgdW5sb2NrQWNoaWV2ZW1lbnQoYWNoaWV2ZW1lbnQuaWQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIC8vIFRoaXMgZWZmZWN0IHNob3VsZCByZS1ydW4gd2hlbmV2ZXIgdGhlIHBsYXllcidzIGR1bmdlb24gcHJvZ3Jlc3MgY2hhbmdlcy5cclxuICB9LCBbZHVuZ2VvbnMsIGFjaGlldmVtZW50cywgdW5sb2NrQWNoaWV2ZW1lbnRdKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlQWNoaWV2ZW1lbnRzIiwidXNlRHVuZ2VvbnMiLCJ1c2VEdW5nZW9uQWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRzIiwidW5sb2NrQWNoaWV2ZW1lbnQiLCJkdW5nZW9ucyIsImxlbmd0aCIsImR1bmdlb25BY2hpZXZlbWVudHMiLCJmaWx0ZXIiLCJhIiwidW5sb2NrZWQiLCJjYXRlZ29yeSIsImNsZWFyZWREdW5nZW9uc0NvdW50IiwiZCIsImNvbXBsZXRlZCIsImZvckVhY2giLCJhY2hpZXZlbWVudCIsInRyaWdnZXIiLCJjb25kaXRpb25NZXQiLCJ0eXBlIiwidmFsdWUiLCJpZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useDungeonAchievements.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useDungeons.ts":
/*!**********************************!*\
  !*** ./app/hooks/useDungeons.ts ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDungeons: () => (/* binding */ useDungeons)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _lib_dungeons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/dungeons */ \"(app-pages-browser)/./app/lib/dungeons.ts\");\n/* __next_internal_client_entry_do_not_use__ useDungeons auto */ \n\n\nconst getDefaultState = ()=>({\n        dungeons: (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.cloneDefaultDungeons)(),\n        activeRun: null,\n        inventory: [],\n        achievements: [],\n        totalClearedDungeons: 0,\n        totalBossesDefeated: 0\n    });\nfunction useDungeons() {\n    const [state, setState] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('dungeonData_v2', getDefaultState);\n    const setSafe = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[setSafe]\": (updater)=>{\n            setState({\n                \"useDungeons.useCallback[setSafe]\": (previous)=>{\n                    const next = updater(previous);\n                    return {\n                        ...next,\n                        dungeons: next.dungeons.map(_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.ensureDungeon)\n                    };\n                }\n            }[\"useDungeons.useCallback[setSafe]\"]);\n        }\n    }[\"useDungeons.useCallback[setSafe]\"], [\n        setState\n    ]);\n    // Legacy compatibility methods\n    const dungeons = state.dungeons;\n    const addDungeon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[addDungeon]\": (dungeon)=>{\n            setSafe({\n                \"useDungeons.useCallback[addDungeon]\": (previous)=>{\n                    const updatedDungeons = previous.dungeons.some({\n                        \"useDungeons.useCallback[addDungeon]\": (entry)=>entry.id === dungeon.id\n                    }[\"useDungeons.useCallback[addDungeon]\"]) ? previous.dungeons.map({\n                        \"useDungeons.useCallback[addDungeon]\": (entry)=>entry.id === dungeon.id ? (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.ensureDungeon)(dungeon) : entry\n                    }[\"useDungeons.useCallback[addDungeon]\"]) : [\n                        ...previous.dungeons,\n                        (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.ensureDungeon)(dungeon)\n                    ];\n                    return {\n                        ...previous,\n                        dungeons: updatedDungeons\n                    };\n                }\n            }[\"useDungeons.useCallback[addDungeon]\"]);\n        }\n    }[\"useDungeons.useCallback[addDungeon]\"], [\n        setSafe\n    ]);\n    const updateDungeon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[updateDungeon]\": (dungeonId, updater)=>{\n            setSafe({\n                \"useDungeons.useCallback[updateDungeon]\": (previous)=>({\n                        ...previous,\n                        dungeons: previous.dungeons.map({\n                            \"useDungeons.useCallback[updateDungeon]\": (entry)=>entry.id === dungeonId ? (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.ensureDungeon)(updater((0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.cloneDungeon)(entry))) : entry\n                        }[\"useDungeons.useCallback[updateDungeon]\"])\n                    })\n            }[\"useDungeons.useCallback[updateDungeon]\"]);\n        }\n    }[\"useDungeons.useCallback[updateDungeon]\"], [\n        setSafe\n    ]);\n    const removeDungeon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[removeDungeon]\": (dungeonId)=>{\n            setSafe({\n                \"useDungeons.useCallback[removeDungeon]\": (previous)=>({\n                        ...previous,\n                        dungeons: previous.dungeons.filter({\n                            \"useDungeons.useCallback[removeDungeon]\": (entry)=>entry.id !== dungeonId\n                        }[\"useDungeons.useCallback[removeDungeon]\"])\n                    })\n            }[\"useDungeons.useCallback[removeDungeon]\"]);\n        }\n    }[\"useDungeons.useCallback[removeDungeon]\"], [\n        setSafe\n    ]);\n    const addRoom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[addRoom]\": (dungeonId, room)=>{\n            updateDungeon(dungeonId, {\n                \"useDungeons.useCallback[addRoom]\": (dungeon)=>({\n                        ...dungeon,\n                        rooms: [\n                            ...dungeon.rooms || [],\n                            (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.ensureRoom)(room)\n                        ]\n                    })\n            }[\"useDungeons.useCallback[addRoom]\"]);\n        }\n    }[\"useDungeons.useCallback[addRoom]\"], [\n        updateDungeon\n    ]);\n    const updateRoom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[updateRoom]\": (dungeonId, roomId, patch)=>{\n            updateDungeon(dungeonId, {\n                \"useDungeons.useCallback[updateRoom]\": (dungeon)=>({\n                        ...dungeon,\n                        rooms: (dungeon.rooms || []).map({\n                            \"useDungeons.useCallback[updateRoom]\": (room)=>room.id === roomId ? (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.ensureRoom)({\n                                    ...room,\n                                    ...patch\n                                }) : room\n                        }[\"useDungeons.useCallback[updateRoom]\"])\n                    })\n            }[\"useDungeons.useCallback[updateRoom]\"]);\n        }\n    }[\"useDungeons.useCallback[updateRoom]\"], [\n        updateDungeon\n    ]);\n    const removeRoom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[removeRoom]\": (dungeonId, roomId)=>{\n            updateDungeon(dungeonId, {\n                \"useDungeons.useCallback[removeRoom]\": (dungeon)=>({\n                        ...dungeon,\n                        rooms: (dungeon.rooms || []).filter({\n                            \"useDungeons.useCallback[removeRoom]\": (room)=>room.id !== roomId\n                        }[\"useDungeons.useCallback[removeRoom]\"])\n                    })\n            }[\"useDungeons.useCallback[removeRoom]\"]);\n        }\n    }[\"useDungeons.useCallback[removeRoom]\"], [\n        updateDungeon\n    ]);\n    const resetDungeon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[resetDungeon]\": (dungeonId)=>{\n            updateDungeon(dungeonId, {\n                \"useDungeons.useCallback[resetDungeon]\": (dungeon)=>({\n                        ...dungeon,\n                        completed: false,\n                        cleared: false\n                    })\n            }[\"useDungeons.useCallback[resetDungeon]\"]);\n        }\n    }[\"useDungeons.useCallback[resetDungeon]\"], [\n        updateDungeon\n    ]);\n    const markCompleted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[markCompleted]\": (dungeonId)=>{\n            updateDungeon(dungeonId, {\n                \"useDungeons.useCallback[markCompleted]\": (dungeon)=>({\n                        ...dungeon,\n                        completed: true,\n                        cleared: true\n                    })\n            }[\"useDungeons.useCallback[markCompleted]\"]);\n        }\n    }[\"useDungeons.useCallback[markCompleted]\"], [\n        updateDungeon\n    ]);\n    const replaceAll = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[replaceAll]\": (next)=>{\n            setSafe({\n                \"useDungeons.useCallback[replaceAll]\": (previous)=>({\n                        ...previous,\n                        dungeons: next\n                    })\n            }[\"useDungeons.useCallback[replaceAll]\"]);\n        }\n    }[\"useDungeons.useCallback[replaceAll]\"], [\n        setSafe\n    ]);\n    // NEW Phase 31 methods\n    const startDungeonRun = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[startDungeonRun]\": (dungeonId)=>{\n            const dungeon = state.dungeons.find({\n                \"useDungeons.useCallback[startDungeonRun].dungeon\": (d)=>d.id === dungeonId\n            }[\"useDungeons.useCallback[startDungeonRun].dungeon\"]);\n            if (!dungeon || !dungeon.unlocked) return false;\n            const rooms = (0,_lib_dungeons__WEBPACK_IMPORTED_MODULE_2__.generateDungeonRun)(dungeon);\n            const newRun = {\n                dungeonId,\n                rooms,\n                currentRoomIndex: 0,\n                startTime: Date.now(),\n                completedRooms: 0,\n                totalRooms: rooms.length,\n                lootCollected: []\n            };\n            setSafe({\n                \"useDungeons.useCallback[startDungeonRun]\": (prev)=>({\n                        ...prev,\n                        activeRun: newRun\n                    })\n            }[\"useDungeons.useCallback[startDungeonRun]\"]);\n            return true;\n        }\n    }[\"useDungeons.useCallback[startDungeonRun]\"], [\n        state.dungeons,\n        setSafe\n    ]);\n    const completeRoom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[completeRoom]\": (roomRewards)=>{\n            if (!state.activeRun) return false;\n            const currentRoom = state.activeRun.rooms[state.activeRun.currentRoomIndex];\n            if (!currentRoom) return false;\n            const updatedRun = {\n                ...state.activeRun\n            };\n            updatedRun.rooms[updatedRun.currentRoomIndex].completed = true;\n            updatedRun.completedRooms += 1;\n            // Add loot if this was a loot room\n            if (currentRoom.type === 'loot' && roomRewards) {\n                updatedRun.lootCollected.push(...roomRewards.items || []);\n            }\n            // Check if dungeon is complete\n            if (updatedRun.currentRoomIndex >= updatedRun.rooms.length - 1) {\n                // Dungeon completed!\n                return completeDungeon(updatedRun);\n            } else {\n                // Advance to next room\n                updatedRun.currentRoomIndex += 1;\n                setSafe({\n                    \"useDungeons.useCallback[completeRoom]\": (prev)=>({\n                            ...prev,\n                            activeRun: updatedRun\n                        })\n                }[\"useDungeons.useCallback[completeRoom]\"]);\n            }\n            return true;\n        }\n    }[\"useDungeons.useCallback[completeRoom]\"], [\n        state.activeRun,\n        setSafe\n    ]);\n    const completeDungeon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[completeDungeon]\": (run)=>{\n            const dungeon = state.dungeons.find({\n                \"useDungeons.useCallback[completeDungeon].dungeon\": (d)=>d.id === run.dungeonId\n            }[\"useDungeons.useCallback[completeDungeon].dungeon\"]);\n            if (!dungeon) return false;\n            // Update dungeon completion status\n            const updatedDungeons = state.dungeons.map({\n                \"useDungeons.useCallback[completeDungeon].updatedDungeons\": (d)=>{\n                    if (d.id === run.dungeonId) {\n                        return {\n                            ...d,\n                            cleared: true,\n                            completed: true,\n                            timesCleared: (d.timesCleared || 0) + 1\n                        };\n                    }\n                    return d;\n                }\n            }[\"useDungeons.useCallback[completeDungeon].updatedDungeons\"]);\n            // Add loot to inventory\n            const newLoot = run.lootCollected.map({\n                \"useDungeons.useCallback[completeDungeon].newLoot\": (item)=>({\n                        ...item,\n                        obtained: Date.now()\n                    })\n            }[\"useDungeons.useCallback[completeDungeon].newLoot\"]);\n            // Check for achievements\n            const newAchievements = [\n                ...state.achievements\n            ];\n            if (!newAchievements.includes('first_dungeon') && state.totalClearedDungeons === 0) {\n                newAchievements.push('first_dungeon');\n            }\n            if (run.rooms.some({\n                \"useDungeons.useCallback[completeDungeon]\": (r)=>r.type === 'boss' && r.completed\n            }[\"useDungeons.useCallback[completeDungeon]\"]) && !newAchievements.includes('boss_slayer')) {\n                newAchievements.push('boss_slayer');\n            }\n            // Unlock next dungeon\n            const nextDungeonIndex = updatedDungeons.findIndex({\n                \"useDungeons.useCallback[completeDungeon]\": (d)=>d.id === run.dungeonId\n            }[\"useDungeons.useCallback[completeDungeon]\"]) + 1;\n            if (nextDungeonIndex < updatedDungeons.length) {\n                updatedDungeons[nextDungeonIndex].unlocked = true;\n            }\n            setSafe({\n                \"useDungeons.useCallback[completeDungeon]\": (prev)=>({\n                        ...prev,\n                        dungeons: updatedDungeons,\n                        activeRun: null,\n                        inventory: [\n                            ...prev.inventory,\n                            ...newLoot\n                        ],\n                        achievements: newAchievements,\n                        totalClearedDungeons: prev.totalClearedDungeons + 1,\n                        totalBossesDefeated: prev.totalBossesDefeated + (run.rooms.some({\n                            \"useDungeons.useCallback[completeDungeon]\": (r)=>r.type === 'boss' && r.completed\n                        }[\"useDungeons.useCallback[completeDungeon]\"]) ? 1 : 0)\n                    })\n            }[\"useDungeons.useCallback[completeDungeon]\"]);\n            return true;\n        }\n    }[\"useDungeons.useCallback[completeDungeon]\"], [\n        state.dungeons,\n        state.achievements,\n        state.totalClearedDungeons,\n        setSafe\n    ]);\n    const abandonDungeon = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[abandonDungeon]\": ()=>{\n            setSafe({\n                \"useDungeons.useCallback[abandonDungeon]\": (prev)=>({\n                        ...prev,\n                        activeRun: null\n                    })\n            }[\"useDungeons.useCallback[abandonDungeon]\"]);\n        }\n    }[\"useDungeons.useCallback[abandonDungeon]\"], [\n        setSafe\n    ]);\n    const getAvailableDungeons = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[getAvailableDungeons]\": ()=>{\n            return state.dungeons.filter({\n                \"useDungeons.useCallback[getAvailableDungeons]\": (d)=>d.unlocked\n            }[\"useDungeons.useCallback[getAvailableDungeons]\"]);\n        }\n    }[\"useDungeons.useCallback[getAvailableDungeons]\"], [\n        state.dungeons\n    ]);\n    const getCurrentRoom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[getCurrentRoom]\": ()=>{\n            if (!state.activeRun) return null;\n            return state.activeRun.rooms[state.activeRun.currentRoomIndex] || null;\n        }\n    }[\"useDungeons.useCallback[getCurrentRoom]\"], [\n        state.activeRun\n    ]);\n    const completeTrial = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[completeTrial]\": (trialType, input)=>{\n            const currentRoom = getCurrentRoom();\n            if (!currentRoom || currentRoom.type !== 'trial') return false;\n            // Validate trial completion based on type\n            let success = false;\n            switch(trialType){\n                case 'shame':\n                    success = input && input.length > 10; // Requires meaningful confession\n                    break;\n                case 'obedience':\n                    success = true; // Just requires submission act\n                    break;\n                case 'combat':\n                    success = Math.random() > 0.3; // 70% success rate\n                    break;\n                case 'ritual':\n                    success = true; // Requires ritual performance\n                    break;\n                case 'psychic':\n                    success = Math.random() > 0.4; // 60% success rate\n                    break;\n                case 'puzzle':\n                    success = Math.random() > 0.5; // 50% success rate\n                    break;\n                default:\n                    success = false;\n            }\n            if (success) {\n                return completeRoom(currentRoom.rewards);\n            }\n            return false;\n        }\n    }[\"useDungeons.useCallback[completeTrial]\"], [\n        getCurrentRoom,\n        completeRoom\n    ]);\n    const fightBoss = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[fightBoss]\": (strategy)=>{\n            const currentRoom = getCurrentRoom();\n            if (!currentRoom || currentRoom.type !== 'boss') return false;\n            const dungeon = state.dungeons.find({\n                \"useDungeons.useCallback[fightBoss].dungeon\": (d)=>{\n                    var _state_activeRun;\n                    return d.id === ((_state_activeRun = state.activeRun) === null || _state_activeRun === void 0 ? void 0 : _state_activeRun.dungeonId);\n                }\n            }[\"useDungeons.useCallback[fightBoss].dungeon\"]);\n            if (!dungeon || !dungeon.boss) return false;\n            // Boss fight logic based on weakness\n            let success = false;\n            if (strategy === dungeon.boss.weakness) {\n                success = Math.random() > 0.2; // 80% success with correct strategy\n            } else {\n                success = Math.random() > 0.7; // 30% success with wrong strategy\n            }\n            if (success) {\n                return completeRoom(dungeon.boss.rewards);\n            }\n            return false;\n        }\n    }[\"useDungeons.useCallback[fightBoss]\"], [\n        getCurrentRoom,\n        completeRoom,\n        state.dungeons,\n        state.activeRun\n    ]);\n    const collectLoot = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useDungeons.useCallback[collectLoot]\": ()=>{\n            const currentRoom = getCurrentRoom();\n            if (!currentRoom || currentRoom.type !== 'loot') return false;\n            const dungeon = state.dungeons.find({\n                \"useDungeons.useCallback[collectLoot].dungeon\": (d)=>{\n                    var _state_activeRun;\n                    return d.id === ((_state_activeRun = state.activeRun) === null || _state_activeRun === void 0 ? void 0 : _state_activeRun.dungeonId);\n                }\n            }[\"useDungeons.useCallback[collectLoot].dungeon\"]);\n            if (!dungeon) return false;\n            // Random loot from dungeon's loot pool\n            const lootPool = dungeon.lootPool || [];\n            if (lootPool.length === 0) return completeRoom();\n            const loot = lootPool[Math.floor(Math.random() * lootPool.length)];\n            return completeRoom({\n                items: [\n                    loot\n                ]\n            });\n        }\n    }[\"useDungeons.useCallback[collectLoot]\"], [\n        getCurrentRoom,\n        completeRoom,\n        state.dungeons,\n        state.activeRun\n    ]);\n    return {\n        // Legacy compatibility\n        dungeons,\n        addDungeon,\n        updateDungeon,\n        removeDungeon,\n        addRoom,\n        updateRoom,\n        removeRoom,\n        resetDungeon,\n        markCompleted,\n        replaceAll,\n        // New Phase 31 state\n        activeRun: state.activeRun,\n        inventory: state.inventory,\n        achievements: state.achievements,\n        totalClearedDungeons: state.totalClearedDungeons,\n        totalBossesDefeated: state.totalBossesDefeated,\n        // New Phase 31 actions\n        startDungeonRun,\n        completeRoom,\n        completeDungeon,\n        abandonDungeon,\n        completeTrial,\n        fightBoss,\n        collectLoot,\n        getAvailableDungeons,\n        getCurrentRoom\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VEdW5nZW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztpRUFFOEM7QUFDWTtBQVdqQztBQVd6QixNQUFNTyxrQkFBa0IsSUFBcUI7UUFDM0NDLFVBQVVMLG1FQUFvQkE7UUFDOUJNLFdBQVc7UUFDWEMsV0FBVyxFQUFFO1FBQ2JDLGNBQWMsRUFBRTtRQUNoQkMsc0JBQXNCO1FBQ3RCQyxxQkFBcUI7SUFDdkI7QUFFTyxTQUFTQztJQUNkLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHZix1RUFBa0JBLENBQWUsa0JBQWtCTTtJQUU3RSxNQUFNVSxVQUFVakIsa0RBQVdBOzRDQUN6QixDQUFDa0I7WUFDQ0Y7b0RBQVMsQ0FBQ0c7b0JBQ1IsTUFBTUMsT0FBT0YsUUFBUUM7b0JBQ3JCLE9BQU87d0JBQ0wsR0FBR0MsSUFBSTt3QkFDUFosVUFBVVksS0FBS1osUUFBUSxDQUFDYSxHQUFHLENBQUNqQix3REFBYUE7b0JBQzNDO2dCQUNGOztRQUNGOzJDQUNBO1FBQUNZO0tBQVM7SUFHWiwrQkFBK0I7SUFDL0IsTUFBTVIsV0FBV08sTUFBTVAsUUFBUTtJQUUvQixNQUFNYyxhQUFhdEIsa0RBQVdBOytDQUM1QixDQUFDdUI7WUFDQ047dURBQVEsQ0FBQ0U7b0JBQ1AsTUFBTUssa0JBQWtCTCxTQUFTWCxRQUFRLENBQUNpQixJQUFJOytEQUFDLENBQUNDLFFBQVVBLE1BQU1DLEVBQUUsS0FBS0osUUFBUUksRUFBRTtnRUFDN0VSLFNBQVNYLFFBQVEsQ0FBQ2EsR0FBRzsrREFBQyxDQUFDSyxRQUNyQkEsTUFBTUMsRUFBRSxLQUFLSixRQUFRSSxFQUFFLEdBQUd2Qiw0REFBYUEsQ0FBQ21CLFdBQVdHO2dFQUVyRDsyQkFBSVAsU0FBU1gsUUFBUTt3QkFBRUosNERBQWFBLENBQUNtQjtxQkFBUztvQkFFbEQsT0FBTzt3QkFBRSxHQUFHSixRQUFRO3dCQUFFWCxVQUFVZ0I7b0JBQWdCO2dCQUNsRDs7UUFDRjs4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aUJBQUs7WUFBQztRQUN0QzsrQ0FDQTtRQUFDZDtRQUFnQnBCO1FBQWMzQyxNQUFNUCxRQUFRO1FBQUVPLE1BQU1OLFNBQVM7S0FBQztJQUdqRSxPQUFPO1FBQ0wsdUJBQXVCO1FBQ3ZCRDtRQUNBYztRQUNBTTtRQUNBRTtRQUNBRTtRQUNBRztRQUNBRztRQUNBQztRQUNBRztRQUNBQztRQUVBLHFCQUFxQjtRQUNyQmxDLFdBQVdNLE1BQU1OLFNBQVM7UUFDMUJDLFdBQVdLLE1BQU1MLFNBQVM7UUFDMUJDLGNBQWNJLE1BQU1KLFlBQVk7UUFDaENDLHNCQUFzQkcsTUFBTUgsb0JBQW9CO1FBQ2hEQyxxQkFBcUJFLE1BQU1GLG1CQUFtQjtRQUU5Qyx1QkFBdUI7UUFDdkIrQjtRQUNBYztRQUNBTztRQUNBVztRQUNBRztRQUNBTztRQUNBSTtRQUNBYjtRQUNBQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcaG9va3NcXHVzZUR1bmdlb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGVyc2lzdGVudFN0YXRlIH0gZnJvbSAnLi91c2VQZXJzaXN0ZW50U3RhdGUnO1xuaW1wb3J0IHsgXG4gIGNsb25lRHVuZ2VvbiwgXG4gIGNsb25lRGVmYXVsdER1bmdlb25zLCBcbiAgZW5zdXJlRHVuZ2VvbiwgXG4gIGVuc3VyZVJvb20sIFxuICBnZW5lcmF0ZUR1bmdlb25SdW4sXG4gIHR5cGUgRHVuZ2VvbiwgXG4gIHR5cGUgRHVuZ2VvblJvb20sIFxuICB0eXBlIEFjdGl2ZUR1bmdlb25SdW4sXG4gIHR5cGUgRHVuZ2Vvbkxvb3QgXG59IGZyb20gJy4uL2xpYi9kdW5nZW9ucyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHVuZ2VvblN0YXRlIHtcbiAgZHVuZ2VvbnM6IER1bmdlb25bXTtcbiAgYWN0aXZlUnVuOiBBY3RpdmVEdW5nZW9uUnVuIHwgbnVsbDtcbiAgaW52ZW50b3J5OiBEdW5nZW9uTG9vdFtdO1xuICBhY2hpZXZlbWVudHM6IHN0cmluZ1tdO1xuICB0b3RhbENsZWFyZWREdW5nZW9uczogbnVtYmVyO1xuICB0b3RhbEJvc3Nlc0RlZmVhdGVkOiBudW1iZXI7XG59XG5cbmNvbnN0IGdldERlZmF1bHRTdGF0ZSA9ICgpOiBEdW5nZW9uU3RhdGUgPT4gKHtcbiAgZHVuZ2VvbnM6IGNsb25lRGVmYXVsdER1bmdlb25zKCksXG4gIGFjdGl2ZVJ1bjogbnVsbCxcbiAgaW52ZW50b3J5OiBbXSxcbiAgYWNoaWV2ZW1lbnRzOiBbXSxcbiAgdG90YWxDbGVhcmVkRHVuZ2VvbnM6IDAsXG4gIHRvdGFsQm9zc2VzRGVmZWF0ZWQ6IDBcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRHVuZ2VvbnMoKSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlUGVyc2lzdGVudFN0YXRlPER1bmdlb25TdGF0ZT4oJ2R1bmdlb25EYXRhX3YyJywgZ2V0RGVmYXVsdFN0YXRlKTtcblxuICBjb25zdCBzZXRTYWZlID0gdXNlQ2FsbGJhY2soXG4gICAgKHVwZGF0ZXI6IChwcmV2aW91czogRHVuZ2VvblN0YXRlKSA9PiBEdW5nZW9uU3RhdGUpID0+IHtcbiAgICAgIHNldFN0YXRlKChwcmV2aW91cykgPT4ge1xuICAgICAgICBjb25zdCBuZXh0ID0gdXBkYXRlcihwcmV2aW91cyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubmV4dCxcbiAgICAgICAgICBkdW5nZW9uczogbmV4dC5kdW5nZW9ucy5tYXAoZW5zdXJlRHVuZ2VvbilcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3NldFN0YXRlXVxuICApO1xuXG4gIC8vIExlZ2FjeSBjb21wYXRpYmlsaXR5IG1ldGhvZHNcbiAgY29uc3QgZHVuZ2VvbnMgPSBzdGF0ZS5kdW5nZW9ucztcbiAgXG4gIGNvbnN0IGFkZER1bmdlb24gPSB1c2VDYWxsYmFjayhcbiAgICAoZHVuZ2VvbjogRHVuZ2VvbikgPT4ge1xuICAgICAgc2V0U2FmZSgocHJldmlvdXMpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZER1bmdlb25zID0gcHJldmlvdXMuZHVuZ2VvbnMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBkdW5nZW9uLmlkKVxuICAgICAgICAgID8gcHJldmlvdXMuZHVuZ2VvbnMubWFwKChlbnRyeSkgPT5cbiAgICAgICAgICAgICAgZW50cnkuaWQgPT09IGR1bmdlb24uaWQgPyBlbnN1cmVEdW5nZW9uKGR1bmdlb24pIDogZW50cnlcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFsuLi5wcmV2aW91cy5kdW5nZW9ucywgZW5zdXJlRHVuZ2VvbihkdW5nZW9uKV07XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geyAuLi5wcmV2aW91cywgZHVuZ2VvbnM6IHVwZGF0ZWREdW5nZW9ucyB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbc2V0U2FmZV1cbiAgKTtcblxuICBjb25zdCB1cGRhdGVEdW5nZW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGR1bmdlb25JZDogc3RyaW5nLCB1cGRhdGVyOiAoZHVuZ2VvbjogRHVuZ2VvbikgPT4gRHVuZ2VvbikgPT4ge1xuICAgICAgc2V0U2FmZSgocHJldmlvdXMpID0+ICh7XG4gICAgICAgIC4uLnByZXZpb3VzLFxuICAgICAgICBkdW5nZW9uczogcHJldmlvdXMuZHVuZ2VvbnMubWFwKChlbnRyeSkgPT5cbiAgICAgICAgICBlbnRyeS5pZCA9PT0gZHVuZ2VvbklkID8gZW5zdXJlRHVuZ2Vvbih1cGRhdGVyKGNsb25lRHVuZ2VvbihlbnRyeSkpKSA6IGVudHJ5XG4gICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtzZXRTYWZlXVxuICApO1xuXG4gIGNvbnN0IHJlbW92ZUR1bmdlb24gPSB1c2VDYWxsYmFjayhcbiAgICAoZHVuZ2VvbklkOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldFNhZmUoKHByZXZpb3VzKSA9PiAoe1xuICAgICAgICAuLi5wcmV2aW91cyxcbiAgICAgICAgZHVuZ2VvbnM6IHByZXZpb3VzLmR1bmdlb25zLmZpbHRlcigoZW50cnkpID0+IGVudHJ5LmlkICE9PSBkdW5nZW9uSWQpXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbc2V0U2FmZV1cbiAgKTtcblxuICBjb25zdCBhZGRSb29tID0gdXNlQ2FsbGJhY2soXG4gICAgKGR1bmdlb25JZDogc3RyaW5nLCByb29tOiBEdW5nZW9uUm9vbSkgPT4ge1xuICAgICAgdXBkYXRlRHVuZ2VvbihkdW5nZW9uSWQsIChkdW5nZW9uKSA9PiAoe1xuICAgICAgICAuLi5kdW5nZW9uLFxuICAgICAgICByb29tczogWy4uLihkdW5nZW9uLnJvb21zIHx8IFtdKSwgZW5zdXJlUm9vbShyb29tKV0sXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbdXBkYXRlRHVuZ2Vvbl1cbiAgKTtcblxuICBjb25zdCB1cGRhdGVSb29tID0gdXNlQ2FsbGJhY2soXG4gICAgKGR1bmdlb25JZDogc3RyaW5nLCByb29tSWQ6IHN0cmluZywgcGF0Y2g6IFBhcnRpYWw8RHVuZ2VvblJvb20+KSA9PiB7XG4gICAgICB1cGRhdGVEdW5nZW9uKGR1bmdlb25JZCwgKGR1bmdlb24pID0+ICh7XG4gICAgICAgIC4uLmR1bmdlb24sXG4gICAgICAgIHJvb21zOiAoZHVuZ2Vvbi5yb29tcyB8fCBbXSkubWFwKChyb29tKSA9PlxuICAgICAgICAgIHJvb20uaWQgPT09IHJvb21JZCA/IGVuc3VyZVJvb20oeyAuLi5yb29tLCAuLi5wYXRjaCB9KSA6IHJvb21cbiAgICAgICAgKSxcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVEdW5nZW9uXVxuICApO1xuXG4gIGNvbnN0IHJlbW92ZVJvb20gPSB1c2VDYWxsYmFjayhcbiAgICAoZHVuZ2VvbklkOiBzdHJpbmcsIHJvb21JZDogc3RyaW5nKSA9PiB7XG4gICAgICB1cGRhdGVEdW5nZW9uKGR1bmdlb25JZCwgKGR1bmdlb24pID0+ICh7XG4gICAgICAgIC4uLmR1bmdlb24sXG4gICAgICAgIHJvb21zOiAoZHVuZ2Vvbi5yb29tcyB8fCBbXSkuZmlsdGVyKChyb29tKSA9PiByb29tLmlkICE9PSByb29tSWQpLFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW3VwZGF0ZUR1bmdlb25dXG4gICk7XG5cbiAgY29uc3QgcmVzZXREdW5nZW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGR1bmdlb25JZDogc3RyaW5nKSA9PiB7XG4gICAgICB1cGRhdGVEdW5nZW9uKGR1bmdlb25JZCwgKGR1bmdlb24pID0+ICh7XG4gICAgICAgIC4uLmR1bmdlb24sXG4gICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgIGNsZWFyZWQ6IGZhbHNlLFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW3VwZGF0ZUR1bmdlb25dXG4gICk7XG5cbiAgY29uc3QgbWFya0NvbXBsZXRlZCA9IHVzZUNhbGxiYWNrKFxuICAgIChkdW5nZW9uSWQ6IHN0cmluZykgPT4ge1xuICAgICAgdXBkYXRlRHVuZ2VvbihkdW5nZW9uSWQsIChkdW5nZW9uKSA9PiAoe1xuICAgICAgICAuLi5kdW5nZW9uLFxuICAgICAgICBjb21wbGV0ZWQ6IHRydWUsXG4gICAgICAgIGNsZWFyZWQ6IHRydWUsXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbdXBkYXRlRHVuZ2Vvbl1cbiAgKTtcblxuICBjb25zdCByZXBsYWNlQWxsID0gdXNlQ2FsbGJhY2soXG4gICAgKG5leHQ6IER1bmdlb25bXSkgPT4ge1xuICAgICAgc2V0U2FmZSgocHJldmlvdXMpID0+ICh7IC4uLnByZXZpb3VzLCBkdW5nZW9uczogbmV4dCB9KSk7XG4gICAgfSxcbiAgICBbc2V0U2FmZV1cbiAgKTtcblxuICAvLyBORVcgUGhhc2UgMzEgbWV0aG9kc1xuICBjb25zdCBzdGFydER1bmdlb25SdW4gPSB1c2VDYWxsYmFjayhcbiAgICAoZHVuZ2VvbklkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGR1bmdlb24gPSBzdGF0ZS5kdW5nZW9ucy5maW5kKGQgPT4gZC5pZCA9PT0gZHVuZ2VvbklkKTtcbiAgICAgIGlmICghZHVuZ2VvbiB8fCAhZHVuZ2Vvbi51bmxvY2tlZCkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBjb25zdCByb29tcyA9IGdlbmVyYXRlRHVuZ2VvblJ1bihkdW5nZW9uKTtcbiAgICAgIGNvbnN0IG5ld1J1bjogQWN0aXZlRHVuZ2VvblJ1biA9IHtcbiAgICAgICAgZHVuZ2VvbklkLFxuICAgICAgICByb29tcyxcbiAgICAgICAgY3VycmVudFJvb21JbmRleDogMCxcbiAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICBjb21wbGV0ZWRSb29tczogMCxcbiAgICAgICAgdG90YWxSb29tczogcm9vbXMubGVuZ3RoLFxuICAgICAgICBsb290Q29sbGVjdGVkOiBbXVxuICAgICAgfTtcblxuICAgICAgc2V0U2FmZShwcmV2ID0+ICh7IC4uLnByZXYsIGFjdGl2ZVJ1bjogbmV3UnVuIH0pKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgW3N0YXRlLmR1bmdlb25zLCBzZXRTYWZlXVxuICApO1xuXG4gIGNvbnN0IGNvbXBsZXRlUm9vbSA9IHVzZUNhbGxiYWNrKFxuICAgIChyb29tUmV3YXJkcz86IGFueSkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZS5hY3RpdmVSdW4pIHJldHVybiBmYWxzZTtcblxuICAgICAgY29uc3QgY3VycmVudFJvb20gPSBzdGF0ZS5hY3RpdmVSdW4ucm9vbXNbc3RhdGUuYWN0aXZlUnVuLmN1cnJlbnRSb29tSW5kZXhdO1xuICAgICAgaWYgKCFjdXJyZW50Um9vbSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICBjb25zdCB1cGRhdGVkUnVuID0geyAuLi5zdGF0ZS5hY3RpdmVSdW4gfTtcbiAgICAgIHVwZGF0ZWRSdW4ucm9vbXNbdXBkYXRlZFJ1bi5jdXJyZW50Um9vbUluZGV4XS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgdXBkYXRlZFJ1bi5jb21wbGV0ZWRSb29tcyArPSAxO1xuXG4gICAgICAvLyBBZGQgbG9vdCBpZiB0aGlzIHdhcyBhIGxvb3Qgcm9vbVxuICAgICAgaWYgKGN1cnJlbnRSb29tLnR5cGUgPT09ICdsb290JyAmJiByb29tUmV3YXJkcykge1xuICAgICAgICB1cGRhdGVkUnVuLmxvb3RDb2xsZWN0ZWQucHVzaCguLi4ocm9vbVJld2FyZHMuaXRlbXMgfHwgW10pKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgZHVuZ2VvbiBpcyBjb21wbGV0ZVxuICAgICAgaWYgKHVwZGF0ZWRSdW4uY3VycmVudFJvb21JbmRleCA+PSB1cGRhdGVkUnVuLnJvb21zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgLy8gRHVuZ2VvbiBjb21wbGV0ZWQhXG4gICAgICAgIHJldHVybiBjb21wbGV0ZUR1bmdlb24odXBkYXRlZFJ1bik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZHZhbmNlIHRvIG5leHQgcm9vbVxuICAgICAgICB1cGRhdGVkUnVuLmN1cnJlbnRSb29tSW5kZXggKz0gMTtcbiAgICAgICAgc2V0U2FmZShwcmV2ID0+ICh7IC4uLnByZXYsIGFjdGl2ZVJ1bjogdXBkYXRlZFJ1biB9KSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgW3N0YXRlLmFjdGl2ZVJ1biwgc2V0U2FmZV1cbiAgKTtcblxuICBjb25zdCBjb21wbGV0ZUR1bmdlb24gPSB1c2VDYWxsYmFjayhcbiAgICAocnVuOiBBY3RpdmVEdW5nZW9uUnVuKSA9PiB7XG4gICAgICBjb25zdCBkdW5nZW9uID0gc3RhdGUuZHVuZ2VvbnMuZmluZChkID0+IGQuaWQgPT09IHJ1bi5kdW5nZW9uSWQpO1xuICAgICAgaWYgKCFkdW5nZW9uKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIFVwZGF0ZSBkdW5nZW9uIGNvbXBsZXRpb24gc3RhdHVzXG4gICAgICBjb25zdCB1cGRhdGVkRHVuZ2VvbnMgPSBzdGF0ZS5kdW5nZW9ucy5tYXAoZCA9PiB7XG4gICAgICAgIGlmIChkLmlkID09PSBydW4uZHVuZ2VvbklkKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmQsXG4gICAgICAgICAgICBjbGVhcmVkOiB0cnVlLFxuICAgICAgICAgICAgY29tcGxldGVkOiB0cnVlLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxuICAgICAgICAgICAgdGltZXNDbGVhcmVkOiAoZC50aW1lc0NsZWFyZWQgfHwgMCkgKyAxXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZGQgbG9vdCB0byBpbnZlbnRvcnlcbiAgICAgIGNvbnN0IG5ld0xvb3Q6IER1bmdlb25Mb290W10gPSBydW4ubG9vdENvbGxlY3RlZC5tYXAoaXRlbSA9PiAoe1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBvYnRhaW5lZDogRGF0ZS5ub3coKVxuICAgICAgfSkpO1xuXG4gICAgICAvLyBDaGVjayBmb3IgYWNoaWV2ZW1lbnRzXG4gICAgICBjb25zdCBuZXdBY2hpZXZlbWVudHMgPSBbLi4uc3RhdGUuYWNoaWV2ZW1lbnRzXTtcbiAgICAgIFxuICAgICAgaWYgKCFuZXdBY2hpZXZlbWVudHMuaW5jbHVkZXMoJ2ZpcnN0X2R1bmdlb24nKSAmJiBzdGF0ZS50b3RhbENsZWFyZWREdW5nZW9ucyA9PT0gMCkge1xuICAgICAgICBuZXdBY2hpZXZlbWVudHMucHVzaCgnZmlyc3RfZHVuZ2VvbicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAocnVuLnJvb21zLnNvbWUociA9PiByLnR5cGUgPT09ICdib3NzJyAmJiByLmNvbXBsZXRlZCkgJiYgIW5ld0FjaGlldmVtZW50cy5pbmNsdWRlcygnYm9zc19zbGF5ZXInKSkge1xuICAgICAgICBuZXdBY2hpZXZlbWVudHMucHVzaCgnYm9zc19zbGF5ZXInKTtcbiAgICAgIH1cblxuICAgICAgLy8gVW5sb2NrIG5leHQgZHVuZ2VvblxuICAgICAgY29uc3QgbmV4dER1bmdlb25JbmRleCA9IHVwZGF0ZWREdW5nZW9ucy5maW5kSW5kZXgoZCA9PiBkLmlkID09PSBydW4uZHVuZ2VvbklkKSArIDE7XG4gICAgICBpZiAobmV4dER1bmdlb25JbmRleCA8IHVwZGF0ZWREdW5nZW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdXBkYXRlZER1bmdlb25zW25leHREdW5nZW9uSW5kZXhdLnVubG9ja2VkID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgc2V0U2FmZShwcmV2ID0+ICh7XG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIGR1bmdlb25zOiB1cGRhdGVkRHVuZ2VvbnMsXG4gICAgICAgIGFjdGl2ZVJ1bjogbnVsbCxcbiAgICAgICAgaW52ZW50b3J5OiBbLi4ucHJldi5pbnZlbnRvcnksIC4uLm5ld0xvb3RdLFxuICAgICAgICBhY2hpZXZlbWVudHM6IG5ld0FjaGlldmVtZW50cyxcbiAgICAgICAgdG90YWxDbGVhcmVkRHVuZ2VvbnM6IHByZXYudG90YWxDbGVhcmVkRHVuZ2VvbnMgKyAxLFxuICAgICAgICB0b3RhbEJvc3Nlc0RlZmVhdGVkOiBwcmV2LnRvdGFsQm9zc2VzRGVmZWF0ZWQgKyAocnVuLnJvb21zLnNvbWUociA9PiByLnR5cGUgPT09ICdib3NzJyAmJiByLmNvbXBsZXRlZCkgPyAxIDogMClcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBbc3RhdGUuZHVuZ2VvbnMsIHN0YXRlLmFjaGlldmVtZW50cywgc3RhdGUudG90YWxDbGVhcmVkRHVuZ2VvbnMsIHNldFNhZmVdXG4gICk7XG5cbiAgY29uc3QgYWJhbmRvbkR1bmdlb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0U2FmZShwcmV2ID0+ICh7IC4uLnByZXYsIGFjdGl2ZVJ1bjogbnVsbCB9KSk7XG4gIH0sIFtzZXRTYWZlXSk7XG5cbiAgY29uc3QgZ2V0QXZhaWxhYmxlRHVuZ2VvbnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlLmR1bmdlb25zLmZpbHRlcihkID0+IGQudW5sb2NrZWQpO1xuICB9LCBbc3RhdGUuZHVuZ2VvbnNdKTtcblxuICBjb25zdCBnZXRDdXJyZW50Um9vbSA9IHVzZUNhbGxiYWNrKCgpOiBEdW5nZW9uUm9vbSB8IG51bGwgPT4ge1xuICAgIGlmICghc3RhdGUuYWN0aXZlUnVuKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gc3RhdGUuYWN0aXZlUnVuLnJvb21zW3N0YXRlLmFjdGl2ZVJ1bi5jdXJyZW50Um9vbUluZGV4XSB8fCBudWxsO1xuICB9LCBbc3RhdGUuYWN0aXZlUnVuXSk7XG5cbiAgY29uc3QgY29tcGxldGVUcmlhbCA9IHVzZUNhbGxiYWNrKFxuICAgICh0cmlhbFR5cGU6IHN0cmluZywgaW5wdXQ/OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRSb29tID0gZ2V0Q3VycmVudFJvb20oKTtcbiAgICAgIGlmICghY3VycmVudFJvb20gfHwgY3VycmVudFJvb20udHlwZSAhPT0gJ3RyaWFsJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBWYWxpZGF0ZSB0cmlhbCBjb21wbGV0aW9uIGJhc2VkIG9uIHR5cGVcbiAgICAgIGxldCBzdWNjZXNzID0gZmFsc2U7XG4gICAgICBzd2l0Y2ggKHRyaWFsVHlwZSkge1xuICAgICAgICBjYXNlICdzaGFtZSc6XG4gICAgICAgICAgc3VjY2VzcyA9IGlucHV0ICYmIGlucHV0Lmxlbmd0aCA+IDEwOyAvLyBSZXF1aXJlcyBtZWFuaW5nZnVsIGNvbmZlc3Npb25cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnb2JlZGllbmNlJzpcbiAgICAgICAgICBzdWNjZXNzID0gdHJ1ZTsgLy8gSnVzdCByZXF1aXJlcyBzdWJtaXNzaW9uIGFjdFxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjb21iYXQnOlxuICAgICAgICAgIHN1Y2Nlc3MgPSBNYXRoLnJhbmRvbSgpID4gMC4zOyAvLyA3MCUgc3VjY2VzcyByYXRlXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JpdHVhbCc6XG4gICAgICAgICAgc3VjY2VzcyA9IHRydWU7IC8vIFJlcXVpcmVzIHJpdHVhbCBwZXJmb3JtYW5jZVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwc3ljaGljJzpcbiAgICAgICAgICBzdWNjZXNzID0gTWF0aC5yYW5kb20oKSA+IDAuNDsgLy8gNjAlIHN1Y2Nlc3MgcmF0ZVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdwdXp6bGUnOlxuICAgICAgICAgIHN1Y2Nlc3MgPSBNYXRoLnJhbmRvbSgpID4gMC41OyAvLyA1MCUgc3VjY2VzcyByYXRlXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICByZXR1cm4gY29tcGxldGVSb29tKGN1cnJlbnRSb29tLnJld2FyZHMpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBbZ2V0Q3VycmVudFJvb20sIGNvbXBsZXRlUm9vbV1cbiAgKTtcblxuICBjb25zdCBmaWdodEJvc3MgPSB1c2VDYWxsYmFjayhcbiAgICAoc3RyYXRlZ3k6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFJvb20gPSBnZXRDdXJyZW50Um9vbSgpO1xuICAgICAgaWYgKCFjdXJyZW50Um9vbSB8fCBjdXJyZW50Um9vbS50eXBlICE9PSAnYm9zcycpIHJldHVybiBmYWxzZTtcblxuICAgICAgY29uc3QgZHVuZ2VvbiA9IHN0YXRlLmR1bmdlb25zLmZpbmQoZCA9PiBkLmlkID09PSBzdGF0ZS5hY3RpdmVSdW4/LmR1bmdlb25JZCk7XG4gICAgICBpZiAoIWR1bmdlb24gfHwgIWR1bmdlb24uYm9zcykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBCb3NzIGZpZ2h0IGxvZ2ljIGJhc2VkIG9uIHdlYWtuZXNzXG4gICAgICBsZXQgc3VjY2VzcyA9IGZhbHNlO1xuICAgICAgaWYgKHN0cmF0ZWd5ID09PSBkdW5nZW9uLmJvc3Mud2Vha25lc3MpIHtcbiAgICAgICAgc3VjY2VzcyA9IE1hdGgucmFuZG9tKCkgPiAwLjI7IC8vIDgwJSBzdWNjZXNzIHdpdGggY29ycmVjdCBzdHJhdGVneVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VjY2VzcyA9IE1hdGgucmFuZG9tKCkgPiAwLjc7IC8vIDMwJSBzdWNjZXNzIHdpdGggd3Jvbmcgc3RyYXRlZ3lcbiAgICAgIH1cblxuICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBsZXRlUm9vbShkdW5nZW9uLmJvc3MucmV3YXJkcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICAgIFtnZXRDdXJyZW50Um9vbSwgY29tcGxldGVSb29tLCBzdGF0ZS5kdW5nZW9ucywgc3RhdGUuYWN0aXZlUnVuXVxuICApO1xuXG4gIGNvbnN0IGNvbGxlY3RMb290ID0gdXNlQ2FsbGJhY2soXG4gICAgKCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFJvb20gPSBnZXRDdXJyZW50Um9vbSgpO1xuICAgICAgaWYgKCFjdXJyZW50Um9vbSB8fCBjdXJyZW50Um9vbS50eXBlICE9PSAnbG9vdCcpIHJldHVybiBmYWxzZTtcblxuICAgICAgY29uc3QgZHVuZ2VvbiA9IHN0YXRlLmR1bmdlb25zLmZpbmQoZCA9PiBkLmlkID09PSBzdGF0ZS5hY3RpdmVSdW4/LmR1bmdlb25JZCk7XG4gICAgICBpZiAoIWR1bmdlb24pIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gUmFuZG9tIGxvb3QgZnJvbSBkdW5nZW9uJ3MgbG9vdCBwb29sXG4gICAgICBjb25zdCBsb290UG9vbCA9IGR1bmdlb24ubG9vdFBvb2wgfHwgW107XG4gICAgICBpZiAobG9vdFBvb2wubGVuZ3RoID09PSAwKSByZXR1cm4gY29tcGxldGVSb29tKCk7XG5cbiAgICAgIGNvbnN0IGxvb3QgPSBsb290UG9vbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsb290UG9vbC5sZW5ndGgpXTtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJvb20oeyBpdGVtczogW2xvb3RdIH0pO1xuICAgIH0sXG4gICAgW2dldEN1cnJlbnRSb29tLCBjb21wbGV0ZVJvb20sIHN0YXRlLmR1bmdlb25zLCBzdGF0ZS5hY3RpdmVSdW5dXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxuICAgIGR1bmdlb25zLFxuICAgIGFkZER1bmdlb24sXG4gICAgdXBkYXRlRHVuZ2VvbixcbiAgICByZW1vdmVEdW5nZW9uLFxuICAgIGFkZFJvb20sXG4gICAgdXBkYXRlUm9vbSxcbiAgICByZW1vdmVSb29tLFxuICAgIHJlc2V0RHVuZ2VvbixcbiAgICBtYXJrQ29tcGxldGVkLFxuICAgIHJlcGxhY2VBbGwsXG4gICAgXG4gICAgLy8gTmV3IFBoYXNlIDMxIHN0YXRlXG4gICAgYWN0aXZlUnVuOiBzdGF0ZS5hY3RpdmVSdW4sXG4gICAgaW52ZW50b3J5OiBzdGF0ZS5pbnZlbnRvcnksXG4gICAgYWNoaWV2ZW1lbnRzOiBzdGF0ZS5hY2hpZXZlbWVudHMsXG4gICAgdG90YWxDbGVhcmVkRHVuZ2VvbnM6IHN0YXRlLnRvdGFsQ2xlYXJlZER1bmdlb25zLFxuICAgIHRvdGFsQm9zc2VzRGVmZWF0ZWQ6IHN0YXRlLnRvdGFsQm9zc2VzRGVmZWF0ZWQsXG4gICAgXG4gICAgLy8gTmV3IFBoYXNlIDMxIGFjdGlvbnNcbiAgICBzdGFydER1bmdlb25SdW4sXG4gICAgY29tcGxldGVSb29tLFxuICAgIGNvbXBsZXRlRHVuZ2VvbixcbiAgICBhYmFuZG9uRHVuZ2VvbixcbiAgICBjb21wbGV0ZVRyaWFsLFxuICAgIGZpZ2h0Qm9zcyxcbiAgICBjb2xsZWN0TG9vdCxcbiAgICBnZXRBdmFpbGFibGVEdW5nZW9ucyxcbiAgICBnZXRDdXJyZW50Um9vbSxcbiAgfSBhcyBjb25zdDtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZVBlcnNpc3RlbnRTdGF0ZSIsImNsb25lRHVuZ2VvbiIsImNsb25lRGVmYXVsdER1bmdlb25zIiwiZW5zdXJlRHVuZ2VvbiIsImVuc3VyZVJvb20iLCJnZW5lcmF0ZUR1bmdlb25SdW4iLCJnZXREZWZhdWx0U3RhdGUiLCJkdW5nZW9ucyIsImFjdGl2ZVJ1biIsImludmVudG9yeSIsImFjaGlldmVtZW50cyIsInRvdGFsQ2xlYXJlZER1bmdlb25zIiwidG90YWxCb3NzZXNEZWZlYXRlZCIsInVzZUR1bmdlb25zIiwic3RhdGUiLCJzZXRTdGF0ZSIsInNldFNhZmUiLCJ1cGRhdGVyIiwicHJldmlvdXMiLCJuZXh0IiwibWFwIiwiYWRkRHVuZ2VvbiIsImR1bmdlb24iLCJ1cGRhdGVkRHVuZ2VvbnMiLCJzb21lIiwiZW50cnkiLCJpZCIsInVwZGF0ZUR1bmdlb24iLCJkdW5nZW9uSWQiLCJyZW1vdmVEdW5nZW9uIiwiZmlsdGVyIiwiYWRkUm9vbSIsInJvb20iLCJyb29tcyIsInVwZGF0ZVJvb20iLCJyb29tSWQiLCJwYXRjaCIsInJlbW92ZVJvb20iLCJyZXNldER1bmdlb24iLCJjb21wbGV0ZWQiLCJjbGVhcmVkIiwibWFya0NvbXBsZXRlZCIsInJlcGxhY2VBbGwiLCJzdGFydER1bmdlb25SdW4iLCJmaW5kIiwiZCIsInVubG9ja2VkIiwibmV3UnVuIiwiY3VycmVudFJvb21JbmRleCIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJjb21wbGV0ZWRSb29tcyIsInRvdGFsUm9vbXMiLCJsZW5ndGgiLCJsb290Q29sbGVjdGVkIiwicHJldiIsImNvbXBsZXRlUm9vbSIsInJvb21SZXdhcmRzIiwiY3VycmVudFJvb20iLCJ1cGRhdGVkUnVuIiwidHlwZSIsInB1c2giLCJpdGVtcyIsImNvbXBsZXRlRHVuZ2VvbiIsInJ1biIsInRpbWVzQ2xlYXJlZCIsIm5ld0xvb3QiLCJpdGVtIiwib2J0YWluZWQiLCJuZXdBY2hpZXZlbWVudHMiLCJpbmNsdWRlcyIsInIiLCJuZXh0RHVuZ2VvbkluZGV4IiwiZmluZEluZGV4IiwiYWJhbmRvbkR1bmdlb24iLCJnZXRBdmFpbGFibGVEdW5nZW9ucyIsImdldEN1cnJlbnRSb29tIiwiY29tcGxldGVUcmlhbCIsInRyaWFsVHlwZSIsImlucHV0Iiwic3VjY2VzcyIsIk1hdGgiLCJyYW5kb20iLCJyZXdhcmRzIiwiZmlnaHRCb3NzIiwic3RyYXRlZ3kiLCJib3NzIiwid2Vha25lc3MiLCJjb2xsZWN0TG9vdCIsImxvb3RQb29sIiwibG9vdCIsImZsb29yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useDungeons.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useInventory.ts":
/*!***********************************!*\
  !*** ./app/hooks/useInventory.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInventory: () => (/* binding */ useInventory)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _useBuffs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useBuffs */ \"(app-pages-browser)/./app/hooks/useBuffs.ts\");\n/* harmony import */ var _lib_inventory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/inventory */ \"(app-pages-browser)/./app/lib/inventory.ts\");\n/* __next_internal_client_entry_do_not_use__ useInventory auto */ \n\n\n\nconst ITEM_ACQUIRE_XP = 25;\nconst EQUIP_OBEDIENCE_RELIC = 6;\nconst EQUIP_OBEDIENCE_PANTY = 8;\nfunction normaliseIcon(item) {\n    if (!item.icon || item.icon.trim().length === 0) {\n        return {\n            ...item,\n            icon: (0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.getDefaultIcon)(item.type)\n        };\n    }\n    return item;\n}\nfunction useInventory() {\n    const [inventoryData, setInventoryData] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"inventoryData\", _lib_inventory__WEBPACK_IMPORTED_MODULE_3__.cloneDefaultInventory);\n    const [xp, setXp] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"xpTotal\", {\n        \"useInventory.usePersistentState\": ()=>3400\n    }[\"useInventory.usePersistentState\"]);\n    const [obedience, setObedience] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"obediencePoints\", {\n        \"useInventory.usePersistentState\": ()=>0\n    }[\"useInventory.usePersistentState\"]);\n    const [tokens, setTokens] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"dirtyTokens\", {\n        \"useInventory.usePersistentState\": ()=>0\n    }[\"useInventory.usePersistentState\"]);\n    const { applyEvent, addBuff } = (0,_useBuffs__WEBPACK_IMPORTED_MODULE_2__.useBuffs)();\n    const inventory = inventoryData.items;\n    const equipment = inventoryData.equipment;\n    const sets = inventoryData.sets;\n    // Get equipped items based on equipment slots\n    const equippedItems = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useInventory.useMemo[equippedItems]\": ()=>{\n            const equippedIds = Object.values(equipment).filter(Boolean);\n            return inventory.filter({\n                \"useInventory.useMemo[equippedItems]\": (item)=>equippedIds.includes(item.id)\n            }[\"useInventory.useMemo[equippedItems]\"]);\n        }\n    }[\"useInventory.useMemo[equippedItems]\"], [\n        inventory,\n        equipment\n    ]);\n    // Calculate active set bonuses\n    const activeSetBonuses = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useInventory.useMemo[activeSetBonuses]\": ()=>{\n            const equippedIds = Object.values(equipment).filter(Boolean);\n            return (0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.getActiveSetBonuses)(sets, equippedIds);\n        }\n    }[\"useInventory.useMemo[activeSetBonuses]\"], [\n        sets,\n        equipment\n    ]);\n    const grouped = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useInventory.useMemo[grouped]\": ()=>{\n            return _lib_inventory__WEBPACK_IMPORTED_MODULE_3__.ITEM_TYPE_ORDER.reduce({\n                \"useInventory.useMemo[grouped]\": (acc, type)=>{\n                    acc[type] = inventory.filter({\n                        \"useInventory.useMemo[grouped]\": (item)=>item.type === type\n                    }[\"useInventory.useMemo[grouped]\"]).sort({\n                        \"useInventory.useMemo[grouped]\": (a, b)=>a.name.localeCompare(b.name)\n                    }[\"useInventory.useMemo[grouped]\"]);\n                    return acc;\n                }\n            }[\"useInventory.useMemo[grouped]\"], {\n                relic: [],\n                panty: [],\n                shard: [],\n                consumable: [],\n                quest: [],\n                artifact: [],\n                equipment: [],\n                currency: []\n            });\n        }\n    }[\"useInventory.useMemo[grouped]\"], [\n        inventory\n    ]);\n    const ensureItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[ensureItem]\": (id, template)=>{\n            const existing = inventory.find({\n                \"useInventory.useCallback[ensureItem].existing\": (item)=>item.id === id\n            }[\"useInventory.useCallback[ensureItem].existing\"]);\n            if (existing) return normaliseIcon(existing);\n            var _template_name, _template_type, _template_rarity, _template_desc, _template_owned, _template_equipped;\n            const base = template ? {\n                id,\n                name: (_template_name = template.name) !== null && _template_name !== void 0 ? _template_name : \"Item \".concat(id),\n                type: (_template_type = template.type) !== null && _template_type !== void 0 ? _template_type : \"quest\",\n                rarity: (_template_rarity = template.rarity) !== null && _template_rarity !== void 0 ? _template_rarity : \"common\",\n                desc: (_template_desc = template.desc) !== null && _template_desc !== void 0 ? _template_desc : \"A mysterious item discovered in the temple.\",\n                owned: (_template_owned = template.owned) !== null && _template_owned !== void 0 ? _template_owned : 0,\n                icon: template.icon,\n                equipped: (_template_equipped = template.equipped) !== null && _template_equipped !== void 0 ? _template_equipped : false,\n                slot: template.slot,\n                effect: template.effect,\n                source: template.source,\n                lore: template.lore\n            } : (0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.getDefaultItemTemplate)(id);\n            if (!base) {\n                return normaliseIcon({\n                    id,\n                    name: \"Item \".concat(id),\n                    type: \"quest\",\n                    rarity: \"common\",\n                    icon: \"\",\n                    desc: \"A mysterious item discovered in the temple.\",\n                    owned: 0\n                });\n            }\n            return normaliseIcon(base);\n        }\n    }[\"useInventory.useCallback[ensureItem]\"], [\n        inventory\n    ]);\n    const setInventoryDataSafe = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[setInventoryDataSafe]\": (updater)=>{\n            setInventoryData({\n                \"useInventory.useCallback[setInventoryDataSafe]\": (previous)=>{\n                    const next = updater(previous);\n                    return {\n                        ...next,\n                        items: next.items.map(normaliseIcon)\n                    };\n                }\n            }[\"useInventory.useCallback[setInventoryDataSafe]\"]);\n        }\n    }[\"useInventory.useCallback[setInventoryDataSafe]\"], [\n        setInventoryData\n    ]);\n    const awardXp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[awardXp]\": (amount)=>{\n            if (amount <= 0) return 0;\n            const total = applyEvent(\"xp\", amount);\n            setXp({\n                \"useInventory.useCallback[awardXp]\": (prev)=>prev + total\n            }[\"useInventory.useCallback[awardXp]\"]);\n            return total;\n        }\n    }[\"useInventory.useCallback[awardXp]\"], [\n        applyEvent,\n        setXp\n    ]);\n    const spendXp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[spendXp]\": (amount)=>{\n            if (amount <= 0) return 0;\n            let deducted = 0;\n            setXp({\n                \"useInventory.useCallback[spendXp]\": (previous)=>{\n                    const next = Math.max(0, previous - amount);\n                    deducted = previous - next;\n                    return next;\n                }\n            }[\"useInventory.useCallback[spendXp]\"]);\n            return deducted;\n        }\n    }[\"useInventory.useCallback[spendXp]\"], [\n        setXp\n    ]);\n    const awardObedience = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[awardObedience]\": (amount)=>{\n            if (amount <= 0) return 0;\n            const total = applyEvent(\"obedience\", amount);\n            setObedience({\n                \"useInventory.useCallback[awardObedience]\": (prev)=>prev + total\n            }[\"useInventory.useCallback[awardObedience]\"]);\n            return total;\n        }\n    }[\"useInventory.useCallback[awardObedience]\"], [\n        applyEvent,\n        setObedience\n    ]);\n    const awardTokens = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[awardTokens]\": (amount)=>{\n            if (amount <= 0) return 0;\n            const value = Math.max(0, Math.round(amount));\n            setTokens({\n                \"useInventory.useCallback[awardTokens]\": (previous)=>previous + value\n            }[\"useInventory.useCallback[awardTokens]\"]);\n            return value;\n        }\n    }[\"useInventory.useCallback[awardTokens]\"], [\n        setTokens\n    ]);\n    const spendTokens = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[spendTokens]\": (amount)=>{\n            if (amount <= 0) return 0;\n            let deducted = 0;\n            setTokens({\n                \"useInventory.useCallback[spendTokens]\": (previous)=>{\n                    const next = Math.max(0, previous - amount);\n                    deducted = previous - next;\n                    return next;\n                }\n            }[\"useInventory.useCallback[spendTokens]\"]);\n            return deducted;\n        }\n    }[\"useInventory.useCallback[spendTokens]\"], [\n        setTokens\n    ]);\n    const gainItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[gainItem]\": function(id) {\n            let amount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, template = arguments.length > 2 ? arguments[2] : void 0;\n            if (!id || amount === 0) return;\n            setInventoryDataSafe({\n                \"useInventory.useCallback[gainItem]\": (previous)=>{\n                    const ensured = ensureItem(id, template);\n                    const existingIndex = previous.items.findIndex({\n                        \"useInventory.useCallback[gainItem].existingIndex\": (item)=>item.id === id\n                    }[\"useInventory.useCallback[gainItem].existingIndex\"]);\n                    if (existingIndex >= 0) {\n                        const updatedItems = [\n                            ...previous.items\n                        ];\n                        updatedItems[existingIndex] = {\n                            ...updatedItems[existingIndex],\n                            owned: Math.max(0, updatedItems[existingIndex].owned + amount)\n                        };\n                        return {\n                            ...previous,\n                            items: updatedItems\n                        };\n                    }\n                    return {\n                        ...previous,\n                        items: [\n                            ...previous.items,\n                            {\n                                ...ensured,\n                                owned: Math.max(0, ensured.owned + amount)\n                            }\n                        ]\n                    };\n                }\n            }[\"useInventory.useCallback[gainItem]\"]);\n            awardXp(Math.max(1, amount) * ITEM_ACQUIRE_XP);\n        }\n    }[\"useInventory.useCallback[gainItem]\"], [\n        awardXp,\n        ensureItem,\n        setInventoryDataSafe\n    ]);\n    const equipItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[equipItem]\": (itemId, slot)=>{\n            const item = inventory.find({\n                \"useInventory.useCallback[equipItem].item\": (entry)=>entry.id === itemId\n            }[\"useInventory.useCallback[equipItem].item\"]);\n            if (!item || !(0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.isEquippable)(item)) {\n                return \"no-change\";\n            }\n            if (!(0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.canEquipInSlot)(item, slot)) {\n                return \"invalid-slot\";\n            }\n            setInventoryDataSafe({\n                \"useInventory.useCallback[equipItem]\": (previous)=>{\n                    // Unequip any item currently in the slot\n                    const currentlyEquippedId = previous.equipment[slot];\n                    let updatedItems = [\n                        ...previous.items\n                    ];\n                    if (currentlyEquippedId) {\n                        updatedItems = updatedItems.map({\n                            \"useInventory.useCallback[equipItem]\": (item)=>item.id === currentlyEquippedId ? {\n                                    ...item,\n                                    equipped: false\n                                } : item\n                        }[\"useInventory.useCallback[equipItem]\"]);\n                    }\n                    // Equip the new item\n                    updatedItems = updatedItems.map({\n                        \"useInventory.useCallback[equipItem]\": (item)=>item.id === itemId ? {\n                                ...item,\n                                equipped: true\n                            } : item\n                    }[\"useInventory.useCallback[equipItem]\"]);\n                    return {\n                        ...previous,\n                        items: updatedItems,\n                        equipment: {\n                            ...previous.equipment,\n                            [slot]: itemId\n                        }\n                    };\n                }\n            }[\"useInventory.useCallback[equipItem]\"]);\n            // Award obedience for equipping\n            awardObedience(item.type === \"panty\" ? EQUIP_OBEDIENCE_PANTY : EQUIP_OBEDIENCE_RELIC);\n            return \"equipped\";\n        }\n    }[\"useInventory.useCallback[equipItem]\"], [\n        inventory,\n        setInventoryDataSafe,\n        awardObedience\n    ]);\n    const unequipItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[unequipItem]\": (slot)=>{\n            const currentlyEquippedId = equipment[slot];\n            if (!currentlyEquippedId) {\n                return \"no-change\";\n            }\n            setInventoryDataSafe({\n                \"useInventory.useCallback[unequipItem]\": (previous)=>({\n                        ...previous,\n                        items: previous.items.map({\n                            \"useInventory.useCallback[unequipItem]\": (item)=>item.id === currentlyEquippedId ? {\n                                    ...item,\n                                    equipped: false\n                                } : item\n                        }[\"useInventory.useCallback[unequipItem]\"]),\n                        equipment: {\n                            ...previous.equipment,\n                            [slot]: null\n                        }\n                    })\n            }[\"useInventory.useCallback[unequipItem]\"]);\n            return \"unequipped\";\n        }\n    }[\"useInventory.useCallback[unequipItem]\"], [\n        equipment,\n        setInventoryDataSafe\n    ]);\n    const toggleEquip = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[toggleEquip]\": (id)=>{\n            const item = inventory.find({\n                \"useInventory.useCallback[toggleEquip].item\": (entry)=>entry.id === id\n            }[\"useInventory.useCallback[toggleEquip].item\"]);\n            if (!item || !(0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.isEquippable)(item)) {\n                return \"no-change\";\n            }\n            if (item.equipped) {\n                var _Object_entries_find;\n                // Find which slot it's equipped in and unequip\n                const equippedSlot = (_Object_entries_find = Object.entries(equipment).find({\n                    \"useInventory.useCallback[toggleEquip]\": (param)=>{\n                        let [_, itemId] = param;\n                        return itemId === id;\n                    }\n                }[\"useInventory.useCallback[toggleEquip]\"])) === null || _Object_entries_find === void 0 ? void 0 : _Object_entries_find[0];\n                if (equippedSlot) {\n                    return unequipItem(equippedSlot);\n                }\n                return \"no-change\";\n            } else {\n                // Equip in appropriate slot\n                if (item.slot) {\n                    return equipItem(id, item.slot);\n                }\n                return \"invalid-slot\";\n            }\n        }\n    }[\"useInventory.useCallback[toggleEquip]\"], [\n        inventory,\n        equipment,\n        equipItem,\n        unequipItem\n    ]);\n    const consumeItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[consumeItem]\": (id)=>{\n            const item = inventory.find({\n                \"useInventory.useCallback[consumeItem].item\": (entry)=>entry.id === id\n            }[\"useInventory.useCallback[consumeItem].item\"]);\n            if (!item || item.owned <= 0) {\n                return false;\n            }\n            setInventoryDataSafe({\n                \"useInventory.useCallback[consumeItem]\": (previous)=>({\n                        ...previous,\n                        items: previous.items.map({\n                            \"useInventory.useCallback[consumeItem]\": (item)=>item.id === id ? {\n                                    ...item,\n                                    owned: Math.max(0, item.owned - 1)\n                                } : item\n                        }[\"useInventory.useCallback[consumeItem]\"])\n                    })\n            }[\"useInventory.useCallback[consumeItem]\"]);\n            return true;\n        }\n    }[\"useInventory.useCallback[consumeItem]\"], [\n        inventory,\n        setInventoryDataSafe\n    ]);\n    const setOwned = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[setOwned]\": (id, owned)=>{\n            setInventoryDataSafe({\n                \"useInventory.useCallback[setOwned]\": (previous)=>({\n                        ...previous,\n                        items: previous.items.map({\n                            \"useInventory.useCallback[setOwned]\": (item)=>item.id === id ? {\n                                    ...item,\n                                    owned: Math.max(0, Math.round(Number.isFinite(owned) ? owned : item.owned))\n                                } : item\n                        }[\"useInventory.useCallback[setOwned]\"])\n                    })\n            }[\"useInventory.useCallback[setOwned]\"]);\n        }\n    }[\"useInventory.useCallback[setOwned]\"], [\n        setInventoryDataSafe\n    ]);\n    const adjustOwned = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[adjustOwned]\": (id, delta)=>{\n            if (!delta) return;\n            setInventoryDataSafe({\n                \"useInventory.useCallback[adjustOwned]\": (previous)=>({\n                        ...previous,\n                        items: previous.items.map({\n                            \"useInventory.useCallback[adjustOwned]\": (item)=>item.id === id ? {\n                                    ...item,\n                                    owned: Math.max(0, item.owned + delta)\n                                } : item\n                        }[\"useInventory.useCallback[adjustOwned]\"])\n                    })\n            }[\"useInventory.useCallback[adjustOwned]\"]);\n        }\n    }[\"useInventory.useCallback[adjustOwned]\"], [\n        setInventoryDataSafe\n    ]);\n    const updateItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[updateItem]\": (id, patch)=>{\n            setInventoryDataSafe({\n                \"useInventory.useCallback[updateItem]\": (previous)=>({\n                        ...previous,\n                        items: previous.items.map({\n                            \"useInventory.useCallback[updateItem]\": (item)=>item.id === id ? {\n                                    ...item,\n                                    ...patch\n                                } : item\n                        }[\"useInventory.useCallback[updateItem]\"])\n                    })\n            }[\"useInventory.useCallback[updateItem]\"]);\n        }\n    }[\"useInventory.useCallback[updateItem]\"], [\n        setInventoryDataSafe\n    ]);\n    const addOrReplaceItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[addOrReplaceItem]\": (item)=>{\n            const normalised = normaliseIcon(item);\n            setInventoryDataSafe({\n                \"useInventory.useCallback[addOrReplaceItem]\": (previous)=>{\n                    const existingIndex = previous.items.findIndex({\n                        \"useInventory.useCallback[addOrReplaceItem].existingIndex\": (entry)=>entry.id === normalised.id\n                    }[\"useInventory.useCallback[addOrReplaceItem].existingIndex\"]);\n                    const updatedItems = existingIndex >= 0 ? previous.items.map({\n                        \"useInventory.useCallback[addOrReplaceItem]\": (entry)=>entry.id === normalised.id ? {\n                                ...entry,\n                                ...normalised\n                            } : entry\n                    }[\"useInventory.useCallback[addOrReplaceItem]\"]) : [\n                        ...previous.items,\n                        normalised\n                    ];\n                    return {\n                        ...previous,\n                        items: updatedItems\n                    };\n                }\n            }[\"useInventory.useCallback[addOrReplaceItem]\"]);\n        }\n    }[\"useInventory.useCallback[addOrReplaceItem]\"], [\n        setInventoryDataSafe\n    ]);\n    const removeItem = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[removeItem]\": (id)=>{\n            setInventoryDataSafe({\n                \"useInventory.useCallback[removeItem]\": (previous)=>({\n                        ...previous,\n                        items: previous.items.filter({\n                            \"useInventory.useCallback[removeItem]\": (item)=>item.id !== id\n                        }[\"useInventory.useCallback[removeItem]\"])\n                    })\n            }[\"useInventory.useCallback[removeItem]\"]);\n        }\n    }[\"useInventory.useCallback[removeItem]\"], [\n        setInventoryDataSafe\n    ]);\n    const unequipAllOfType = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[unequipAllOfType]\": (type)=>{\n            setInventoryDataSafe({\n                \"useInventory.useCallback[unequipAllOfType]\": (previous)=>{\n                    const updatedItems = previous.items.map({\n                        \"useInventory.useCallback[unequipAllOfType].updatedItems\": (item)=>item.type === type && item.equipped ? {\n                                ...item,\n                                equipped: false\n                            } : item\n                    }[\"useInventory.useCallback[unequipAllOfType].updatedItems\"]);\n                    const updatedEquipment = {\n                        ...previous.equipment\n                    };\n                    Object.keys(updatedEquipment).forEach({\n                        \"useInventory.useCallback[unequipAllOfType]\": (slot)=>{\n                            const itemId = updatedEquipment[slot];\n                            if (itemId) {\n                                const item = previous.items.find({\n                                    \"useInventory.useCallback[unequipAllOfType].item\": (i)=>i.id === itemId\n                                }[\"useInventory.useCallback[unequipAllOfType].item\"]);\n                                if (item && item.type === type) {\n                                    updatedEquipment[slot] = null;\n                                }\n                            }\n                        }\n                    }[\"useInventory.useCallback[unequipAllOfType]\"]);\n                    return {\n                        ...previous,\n                        items: updatedItems,\n                        equipment: updatedEquipment\n                    };\n                }\n            }[\"useInventory.useCallback[unequipAllOfType]\"]);\n        }\n    }[\"useInventory.useCallback[unequipAllOfType]\"], [\n        setInventoryDataSafe\n    ]);\n    const replaceInventory = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[replaceInventory]\": (newInventoryData)=>{\n            setInventoryData({\n                ...newInventoryData,\n                items: newInventoryData.items.map({\n                    \"useInventory.useCallback[replaceInventory]\": (entry)=>normaliseIcon({\n                            ...entry\n                        })\n                }[\"useInventory.useCallback[replaceInventory]\"])\n            });\n        }\n    }[\"useInventory.useCallback[replaceInventory]\"], [\n        setInventoryData\n    ]);\n    const clearInventory = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useInventory.useCallback[clearInventory]\": ()=>{\n            setInventoryData((0,_lib_inventory__WEBPACK_IMPORTED_MODULE_3__.cloneDefaultInventory)());\n        }\n    }[\"useInventory.useCallback[clearInventory]\"], [\n        setInventoryData\n    ]);\n    return {\n        inventory,\n        inventoryData,\n        equipment,\n        equippedItems,\n        sets,\n        activeSetBonuses,\n        grouped,\n        labels: _lib_inventory__WEBPACK_IMPORTED_MODULE_3__.ITEM_TYPE_LABELS,\n        xp,\n        obedience,\n        tokens,\n        gainItem,\n        setOwned,\n        adjustOwned,\n        updateItem,\n        addOrReplaceItem,\n        removeItem,\n        equipItem,\n        unequipItem,\n        toggleEquip,\n        unequipAllOfType,\n        consumeItem,\n        replaceInventory,\n        clearInventory,\n        awardXp,\n        spendXp,\n        awardTokens,\n        spendTokens,\n        awardObedience\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VJbnZlbnRvcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O2tFQUU2QztBQUNhO0FBQ3BCO0FBaUJaO0FBRTFCLE1BQU1ZLGtCQUFrQjtBQUN4QixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsd0JBQXdCO0FBTTlCLFNBQVNDLGNBQWNDLElBQW1CO0lBQ3hDLElBQUksQ0FBQ0EsS0FBS0MsSUFBSSxJQUFJRCxLQUFLQyxJQUFJLENBQUNDLElBQUksR0FBR0MsTUFBTSxLQUFLLEdBQUc7UUFDL0MsT0FBTztZQUFFLEdBQUdILElBQUk7WUFBRUMsTUFBTVgsOERBQWNBLENBQUNVLEtBQUtJLElBQUk7UUFBRTtJQUNwRDtJQUNBLE9BQU9KO0FBQ1Q7QUFFTyxTQUFTSztJQUNkLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUdyQix1RUFBa0JBLENBQzFELGlCQUNBRSxpRUFBcUJBO0lBRXZCLE1BQU0sQ0FBQ29CLElBQUlDLE1BQU0sR0FBR3ZCLHVFQUFrQkEsQ0FBUzsyQ0FBVyxJQUFNOztJQUNoRSxNQUFNLENBQUN3QixXQUFXQyxhQUFhLEdBQUd6Qix1RUFBa0JBLENBQVM7MkNBQW1CLElBQU07O0lBQ3RGLE1BQU0sQ0FBQzBCLFFBQVFDLFVBQVUsR0FBRzNCLHVFQUFrQkEsQ0FBUzsyQ0FBZSxJQUFNOztJQUM1RSxNQUFNLEVBQ0o0QixVQUFVLEVBQ1ZDLE9BQU8sRUFDUixHQUFHNUIsbURBQVFBO0lBRVosTUFBTTZCLFlBQVlWLGNBQWNXLEtBQUs7SUFDckMsTUFBTUMsWUFBWVosY0FBY1ksU0FBUztJQUN6QyxNQUFNQyxPQUFPYixjQUFjYSxJQUFJO0lBRS9CLDhDQUE4QztJQUM5QyxNQUFNQyxnQkFBZ0JuQyw4Q0FBT0E7K0NBQUM7WUFDNUIsTUFBTW9DLGNBQWNDLE9BQU9DLE1BQU0sQ0FBQ0wsV0FBV00sTUFBTSxDQUFDQztZQUNwRCxPQUFPVCxVQUFVUSxNQUFNO3VEQUFDeEIsQ0FBQUEs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Q2YsR0FBR21HLGdCQUFnQjtnQkFDbkJ6RixPQUFPeUYsaUJBQWlCekYsS0FBSyxDQUFDNEMsR0FBRztrRUFBQyxDQUFDcUIsUUFBVW5GLGNBQWM7NEJBQUUsR0FBR21GLEtBQUs7d0JBQUM7O1lBQ3hFO1FBQ0Y7cURBQ0E7UUFBQzNFO0tBQWlCO0lBR3BCLE1BQU1vRyxpQkFBaUIzSCxrREFBV0E7b0RBQUM7WUFDakN1QixpQkFBaUJuQixxRUFBcUJBO1FBQ3hDO21EQUFHO1FBQUNtQjtLQUFpQjtJQUVyQixPQUFPO1FBQ0xTO1FBQ0FWO1FBQ0FZO1FBQ0FFO1FBQ0FEO1FBQ0FTO1FBQ0FDO1FBQ0ErRSxRQUFRckgsNERBQWdCQTtRQUN4QmlCO1FBQ0FFO1FBQ0FFO1FBQ0ErRDtRQUNBZTtRQUNBRztRQUNBRTtRQUNBRTtRQUNBRTtRQUNBbkI7UUFDQUk7UUFDQUM7UUFDQWU7UUFDQVg7UUFDQWdCO1FBQ0FFO1FBQ0E3QztRQUNBSTtRQUNBSztRQUNBRztRQUNBSjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcaG9va3NcXHVzZUludmVudG9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VQZXJzaXN0ZW50U3RhdGUgfSBmcm9tIFwiLi91c2VQZXJzaXN0ZW50U3RhdGVcIjtcbmltcG9ydCB7IHVzZUJ1ZmZzIH0gZnJvbSBcIi4vdXNlQnVmZnNcIjtcbmltcG9ydCB7XG4gIGNsb25lRGVmYXVsdEludmVudG9yeSxcbiAgZ2V0RGVmYXVsdEl0ZW1UZW1wbGF0ZSxcbiAgZ2V0RGVmYXVsdEljb24sXG4gIEludmVudG9yeUl0ZW0sXG4gIEludmVudG9yeURhdGEsXG4gIEVxdWlwbWVudCxcbiAgSXRlbVNldCxcbiAgSVRFTV9UWVBFX0xBQkVMUyxcbiAgSVRFTV9UWVBFX09SREVSLFxuICBJdGVtVHlwZSxcbiAgRXF1aXBtZW50U2xvdCxcbiAgaXNFcXVpcHBhYmxlLFxuICBjYW5FcXVpcEluU2xvdCxcbiAgZ2V0QWN0aXZlU2V0Qm9udXNlcyxcbiAgZ2V0U2V0UHJvZ3Jlc3MsXG59IGZyb20gXCIuLi9saWIvaW52ZW50b3J5XCI7XG5cbmNvbnN0IElURU1fQUNRVUlSRV9YUCA9IDI1O1xuY29uc3QgRVFVSVBfT0JFRElFTkNFX1JFTElDID0gNjtcbmNvbnN0IEVRVUlQX09CRURJRU5DRV9QQU5UWSA9IDg7XG5cbmV4cG9ydCB0eXBlIEVxdWlwUmVzdWx0ID0gXCJlcXVpcHBlZFwiIHwgXCJ1bmVxdWlwcGVkXCIgfCBcInNsb3Qtb2NjdXBpZWRcIiB8IFwiaW52YWxpZC1zbG90XCIgfCBcIm5vLWNoYW5nZVwiO1xuXG5leHBvcnQgdHlwZSBJbnZlbnRvcnlHcm91cGVkID0gUmVjb3JkPEl0ZW1UeXBlLCBJbnZlbnRvcnlJdGVtW10+O1xuXG5mdW5jdGlvbiBub3JtYWxpc2VJY29uKGl0ZW06IEludmVudG9yeUl0ZW0pOiBJbnZlbnRvcnlJdGVtIHtcbiAgaWYgKCFpdGVtLmljb24gfHwgaXRlbS5pY29uLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4geyAuLi5pdGVtLCBpY29uOiBnZXREZWZhdWx0SWNvbihpdGVtLnR5cGUpIH07XG4gIH1cbiAgcmV0dXJuIGl0ZW07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VJbnZlbnRvcnkoKSB7XG4gIGNvbnN0IFtpbnZlbnRvcnlEYXRhLCBzZXRJbnZlbnRvcnlEYXRhXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxJbnZlbnRvcnlEYXRhPihcbiAgICBcImludmVudG9yeURhdGFcIixcbiAgICBjbG9uZURlZmF1bHRJbnZlbnRvcnlcbiAgKTtcbiAgY29uc3QgW3hwLCBzZXRYcF0gPSB1c2VQZXJzaXN0ZW50U3RhdGU8bnVtYmVyPihcInhwVG90YWxcIiwgKCkgPT4gMzQwMCk7XG4gIGNvbnN0IFtvYmVkaWVuY2UsIHNldE9iZWRpZW5jZV0gPSB1c2VQZXJzaXN0ZW50U3RhdGU8bnVtYmVyPihcIm9iZWRpZW5jZVBvaW50c1wiLCAoKSA9PiAwKTtcbiAgY29uc3QgW3Rva2Vucywgc2V0VG9rZW5zXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxudW1iZXI+KFwiZGlydHlUb2tlbnNcIiwgKCkgPT4gMCk7XG4gIGNvbnN0IHtcbiAgICBhcHBseUV2ZW50LFxuICAgIGFkZEJ1ZmYsXG4gIH0gPSB1c2VCdWZmcygpO1xuXG4gIGNvbnN0IGludmVudG9yeSA9IGludmVudG9yeURhdGEuaXRlbXM7XG4gIGNvbnN0IGVxdWlwbWVudCA9IGludmVudG9yeURhdGEuZXF1aXBtZW50O1xuICBjb25zdCBzZXRzID0gaW52ZW50b3J5RGF0YS5zZXRzO1xuXG4gIC8vIEdldCBlcXVpcHBlZCBpdGVtcyBiYXNlZCBvbiBlcXVpcG1lbnQgc2xvdHNcbiAgY29uc3QgZXF1aXBwZWRJdGVtcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGVxdWlwcGVkSWRzID0gT2JqZWN0LnZhbHVlcyhlcXVpcG1lbnQpLmZpbHRlcihCb29sZWFuKSBhcyBzdHJpbmdbXTtcbiAgICByZXR1cm4gaW52ZW50b3J5LmZpbHRlcihpdGVtID0+IGVxdWlwcGVkSWRzLmluY2x1ZGVzKGl0ZW0uaWQpKTtcbiAgfSwgW2ludmVudG9yeSwgZXF1aXBtZW50XSk7XG5cbiAgLy8gQ2FsY3VsYXRlIGFjdGl2ZSBzZXQgYm9udXNlc1xuICBjb25zdCBhY3RpdmVTZXRCb251c2VzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZXF1aXBwZWRJZHMgPSBPYmplY3QudmFsdWVzKGVxdWlwbWVudCkuZmlsdGVyKEJvb2xlYW4pIGFzIHN0cmluZ1tdO1xuICAgIHJldHVybiBnZXRBY3RpdmVTZXRCb251c2VzKHNldHMsIGVxdWlwcGVkSWRzKTtcbiAgfSwgW3NldHMsIGVxdWlwbWVudF0pO1xuXG4gIGNvbnN0IGdyb3VwZWQgPSB1c2VNZW1vPEludmVudG9yeUdyb3VwZWQ+KCgpID0+IHtcbiAgICByZXR1cm4gSVRFTV9UWVBFX09SREVSLnJlZHVjZTxJbnZlbnRvcnlHcm91cGVkPigoYWNjLCB0eXBlKSA9PiB7XG4gICAgICBhY2NbdHlwZV0gPSBpbnZlbnRvcnlcbiAgICAgICAgLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlID09PSB0eXBlKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHtcbiAgICAgIHJlbGljOiBbXSxcbiAgICAgIHBhbnR5OiBbXSxcbiAgICAgIHNoYXJkOiBbXSxcbiAgICAgIGNvbnN1bWFibGU6IFtdLFxuICAgICAgcXVlc3Q6IFtdLFxuICAgICAgYXJ0aWZhY3Q6IFtdLFxuICAgICAgZXF1aXBtZW50OiBbXSxcbiAgICAgIGN1cnJlbmN5OiBbXSxcbiAgICB9KTtcbiAgfSwgW2ludmVudG9yeV0pO1xuXG4gIGNvbnN0IGVuc3VyZUl0ZW0gPSB1c2VDYWxsYmFjayhcbiAgICAoaWQ6IHN0cmluZywgdGVtcGxhdGU/OiBQYXJ0aWFsPEludmVudG9yeUl0ZW0+KSA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGludmVudG9yeS5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBpZCk7XG4gICAgICBpZiAoZXhpc3RpbmcpIHJldHVybiBub3JtYWxpc2VJY29uKGV4aXN0aW5nKTtcblxuICAgICAgY29uc3QgYmFzZSA9IHRlbXBsYXRlXG4gICAgICAgID8gKHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgbmFtZTogdGVtcGxhdGUubmFtZSA/PyBgSXRlbSAke2lkfWAsXG4gICAgICAgICAgICB0eXBlOiB0ZW1wbGF0ZS50eXBlID8/IFwicXVlc3RcIixcbiAgICAgICAgICAgIHJhcml0eTogdGVtcGxhdGUucmFyaXR5ID8/IFwiY29tbW9uXCIsXG4gICAgICAgICAgICBkZXNjOiB0ZW1wbGF0ZS5kZXNjID8/IFwiQSBteXN0ZXJpb3VzIGl0ZW0gZGlzY292ZXJlZCBpbiB0aGUgdGVtcGxlLlwiLFxuICAgICAgICAgICAgb3duZWQ6IHRlbXBsYXRlLm93bmVkID8/IDAsXG4gICAgICAgICAgICBpY29uOiB0ZW1wbGF0ZS5pY29uLFxuICAgICAgICAgICAgZXF1aXBwZWQ6IHRlbXBsYXRlLmVxdWlwcGVkID8/IGZhbHNlLFxuICAgICAgICAgICAgc2xvdDogdGVtcGxhdGUuc2xvdCxcbiAgICAgICAgICAgIGVmZmVjdDogdGVtcGxhdGUuZWZmZWN0LFxuICAgICAgICAgICAgc291cmNlOiB0ZW1wbGF0ZS5zb3VyY2UsXG4gICAgICAgICAgICBsb3JlOiB0ZW1wbGF0ZS5sb3JlLFxuICAgICAgICAgIH0gYXMgSW52ZW50b3J5SXRlbSlcbiAgICAgICAgOiBnZXREZWZhdWx0SXRlbVRlbXBsYXRlKGlkKTtcblxuICAgICAgaWYgKCFiYXNlKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpc2VJY29uKHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBuYW1lOiBgSXRlbSAke2lkfWAsXG4gICAgICAgICAgdHlwZTogXCJxdWVzdFwiLFxuICAgICAgICAgIHJhcml0eTogXCJjb21tb25cIixcbiAgICAgICAgICBpY29uOiBcIvCfk5xcIixcbiAgICAgICAgICBkZXNjOiBcIkEgbXlzdGVyaW91cyBpdGVtIGRpc2NvdmVyZWQgaW4gdGhlIHRlbXBsZS5cIixcbiAgICAgICAgICBvd25lZDogMCxcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub3JtYWxpc2VJY29uKGJhc2UpO1xuICAgIH0sXG4gICAgW2ludmVudG9yeV1cbiAgKTtcblxuICBjb25zdCBzZXRJbnZlbnRvcnlEYXRhU2FmZSA9IHVzZUNhbGxiYWNrKFxuICAgICh1cGRhdGVyOiAocHJldmlvdXM6IEludmVudG9yeURhdGEpID0+IEludmVudG9yeURhdGEpID0+IHtcbiAgICAgIHNldEludmVudG9yeURhdGEoKHByZXZpb3VzKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSB1cGRhdGVyKHByZXZpb3VzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5uZXh0LFxuICAgICAgICAgIGl0ZW1zOiBuZXh0Lml0ZW1zLm1hcChub3JtYWxpc2VJY29uKSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3NldEludmVudG9yeURhdGFdXG4gICk7XG5cbiAgY29uc3QgYXdhcmRYcCA9IHVzZUNhbGxiYWNrKFxuICAgIChhbW91bnQ6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGFtb3VudCA8PSAwKSByZXR1cm4gMDtcbiAgICAgIGNvbnN0IHRvdGFsID0gYXBwbHlFdmVudChcInhwXCIsIGFtb3VudCk7XG4gICAgICBzZXRYcCgocHJldikgPT4gcHJldiArIHRvdGFsKTtcbiAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9LFxuICAgIFthcHBseUV2ZW50LCBzZXRYcF1cbiAgKTtcblxuICBjb25zdCBzcGVuZFhwID0gdXNlQ2FsbGJhY2soXG4gICAgKGFtb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoYW1vdW50IDw9IDApIHJldHVybiAwO1xuICAgICAgbGV0IGRlZHVjdGVkID0gMDtcbiAgICAgIHNldFhwKChwcmV2aW91cykgPT4ge1xuICAgICAgICBjb25zdCBuZXh0ID0gTWF0aC5tYXgoMCwgcHJldmlvdXMgLSBhbW91bnQpO1xuICAgICAgICBkZWR1Y3RlZCA9IHByZXZpb3VzIC0gbmV4dDtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZWR1Y3RlZDtcbiAgICB9LFxuICAgIFtzZXRYcF1cbiAgKTtcblxuICBjb25zdCBhd2FyZE9iZWRpZW5jZSA9IHVzZUNhbGxiYWNrKFxuICAgIChhbW91bnQ6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGFtb3VudCA8PSAwKSByZXR1cm4gMDtcbiAgICAgIGNvbnN0IHRvdGFsID0gYXBwbHlFdmVudChcIm9iZWRpZW5jZVwiLCBhbW91bnQpO1xuICAgICAgc2V0T2JlZGllbmNlKChwcmV2KSA9PiBwcmV2ICsgdG90YWwpO1xuICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH0sXG4gICAgW2FwcGx5RXZlbnQsIHNldE9iZWRpZW5jZV1cbiAgKTtcblxuICBjb25zdCBhd2FyZFRva2VucyA9IHVzZUNhbGxiYWNrKFxuICAgIChhbW91bnQ6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGFtb3VudCA8PSAwKSByZXR1cm4gMDtcbiAgICAgIGNvbnN0IHZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5yb3VuZChhbW91bnQpKTtcbiAgICAgIHNldFRva2VucygocHJldmlvdXMpID0+IHByZXZpb3VzICsgdmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgW3NldFRva2Vuc11cbiAgKTtcblxuICBjb25zdCBzcGVuZFRva2VucyA9IHVzZUNhbGxiYWNrKFxuICAgIChhbW91bnQ6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGFtb3VudCA8PSAwKSByZXR1cm4gMDtcbiAgICAgIGxldCBkZWR1Y3RlZCA9IDA7XG4gICAgICBzZXRUb2tlbnMoKHByZXZpb3VzKSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSBNYXRoLm1heCgwLCBwcmV2aW91cyAtIGFtb3VudCk7XG4gICAgICAgIGRlZHVjdGVkID0gcHJldmlvdXMgLSBuZXh0O1xuICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRlZHVjdGVkO1xuICAgIH0sXG4gICAgW3NldFRva2Vuc11cbiAgKTtcblxuICBjb25zdCBnYWluSXRlbSA9IHVzZUNhbGxiYWNrKFxuICAgIChpZDogc3RyaW5nLCBhbW91bnQgPSAxLCB0ZW1wbGF0ZT86IFBhcnRpYWw8SW52ZW50b3J5SXRlbT4pID0+IHtcbiAgICAgIGlmICghaWQgfHwgYW1vdW50ID09PSAwKSByZXR1cm47XG4gICAgICBzZXRJbnZlbnRvcnlEYXRhU2FmZSgocHJldmlvdXMpID0+IHtcbiAgICAgICAgY29uc3QgZW5zdXJlZCA9IGVuc3VyZUl0ZW0oaWQsIHRlbXBsYXRlKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdJbmRleCA9IHByZXZpb3VzLml0ZW1zLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5pZCA9PT0gaWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IFsuLi5wcmV2aW91cy5pdGVtc107XG4gICAgICAgICAgdXBkYXRlZEl0ZW1zW2V4aXN0aW5nSW5kZXhdID0ge1xuICAgICAgICAgICAgLi4udXBkYXRlZEl0ZW1zW2V4aXN0aW5nSW5kZXhdLFxuICAgICAgICAgICAgb3duZWQ6IE1hdGgubWF4KDAsIHVwZGF0ZWRJdGVtc1tleGlzdGluZ0luZGV4XS5vd25lZCArIGFtb3VudClcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB7IC4uLnByZXZpb3VzLCBpdGVtczogdXBkYXRlZEl0ZW1zIH07XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldmlvdXMsXG4gICAgICAgICAgaXRlbXM6IFsuLi5wcmV2aW91cy5pdGVtcywgeyAuLi5lbnN1cmVkLCBvd25lZDogTWF0aC5tYXgoMCwgZW5zdXJlZC5vd25lZCArIGFtb3VudCkgfV1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgYXdhcmRYcChNYXRoLm1heCgxLCBhbW91bnQpICogSVRFTV9BQ1FVSVJFX1hQKTtcbiAgICB9LFxuICAgIFthd2FyZFhwLCBlbnN1cmVJdGVtLCBzZXRJbnZlbnRvcnlEYXRhU2FmZV1cbiAgKTtcblxuICBjb25zdCBlcXVpcEl0ZW0gPSB1c2VDYWxsYmFjayhcbiAgICAoaXRlbUlkOiBzdHJpbmcsIHNsb3Q6IEVxdWlwbWVudFNsb3QpOiBFcXVpcFJlc3VsdCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gaW52ZW50b3J5LmZpbmQoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gaXRlbUlkKTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXNFcXVpcHBhYmxlKGl0ZW0pKSB7XG4gICAgICAgIHJldHVybiBcIm5vLWNoYW5nZVwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWNhbkVxdWlwSW5TbG90KGl0ZW0sIHNsb3QpKSB7XG4gICAgICAgIHJldHVybiBcImludmFsaWQtc2xvdFwiO1xuICAgICAgfVxuXG4gICAgICBzZXRJbnZlbnRvcnlEYXRhU2FmZSgocHJldmlvdXMpID0+IHtcbiAgICAgICAgLy8gVW5lcXVpcCBhbnkgaXRlbSBjdXJyZW50bHkgaW4gdGhlIHNsb3RcbiAgICAgICAgY29uc3QgY3VycmVudGx5RXF1aXBwZWRJZCA9IHByZXZpb3VzLmVxdWlwbWVudFtzbG90XTtcbiAgICAgICAgbGV0IHVwZGF0ZWRJdGVtcyA9IFsuLi5wcmV2aW91cy5pdGVtc107XG4gICAgICAgIFxuICAgICAgICBpZiAoY3VycmVudGx5RXF1aXBwZWRJZCkge1xuICAgICAgICAgIHVwZGF0ZWRJdGVtcyA9IHVwZGF0ZWRJdGVtcy5tYXAoaXRlbSA9PiBcbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IGN1cnJlbnRseUVxdWlwcGVkSWQgXG4gICAgICAgICAgICAgID8geyAuLi5pdGVtLCBlcXVpcHBlZDogZmFsc2UgfVxuICAgICAgICAgICAgICA6IGl0ZW1cbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXF1aXAgdGhlIG5ldyBpdGVtXG4gICAgICAgIHVwZGF0ZWRJdGVtcyA9IHVwZGF0ZWRJdGVtcy5tYXAoaXRlbSA9PiBcbiAgICAgICAgICBpdGVtLmlkID09PSBpdGVtSWQgXG4gICAgICAgICAgICA/IHsgLi4uaXRlbSwgZXF1aXBwZWQ6IHRydWUgfVxuICAgICAgICAgICAgOiBpdGVtXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wcmV2aW91cyxcbiAgICAgICAgICBpdGVtczogdXBkYXRlZEl0ZW1zLFxuICAgICAgICAgIGVxdWlwbWVudDoge1xuICAgICAgICAgICAgLi4ucHJldmlvdXMuZXF1aXBtZW50LFxuICAgICAgICAgICAgW3Nsb3RdOiBpdGVtSWRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gQXdhcmQgb2JlZGllbmNlIGZvciBlcXVpcHBpbmdcbiAgICAgIGF3YXJkT2JlZGllbmNlKGl0ZW0udHlwZSA9PT0gXCJwYW50eVwiID8gRVFVSVBfT0JFRElFTkNFX1BBTlRZIDogRVFVSVBfT0JFRElFTkNFX1JFTElDKTtcblxuICAgICAgcmV0dXJuIFwiZXF1aXBwZWRcIjtcbiAgICB9LFxuICAgIFtpbnZlbnRvcnksIHNldEludmVudG9yeURhdGFTYWZlLCBhd2FyZE9iZWRpZW5jZV1cbiAgKTtcblxuICBjb25zdCB1bmVxdWlwSXRlbSA9IHVzZUNhbGxiYWNrKFxuICAgIChzbG90OiBFcXVpcG1lbnRTbG90KTogRXF1aXBSZXN1bHQgPT4ge1xuICAgICAgY29uc3QgY3VycmVudGx5RXF1aXBwZWRJZCA9IGVxdWlwbWVudFtzbG90XTtcbiAgICAgIGlmICghY3VycmVudGx5RXF1aXBwZWRJZCkge1xuICAgICAgICByZXR1cm4gXCJuby1jaGFuZ2VcIjtcbiAgICAgIH1cblxuICAgICAgc2V0SW52ZW50b3J5RGF0YVNhZmUoKHByZXZpb3VzKSA9PiAoe1xuICAgICAgICAuLi5wcmV2aW91cyxcbiAgICAgICAgaXRlbXM6IHByZXZpb3VzLml0ZW1zLm1hcChpdGVtID0+IFxuICAgICAgICAgIGl0ZW0uaWQgPT09IGN1cnJlbnRseUVxdWlwcGVkSWQgXG4gICAgICAgICAgICA/IHsgLi4uaXRlbSwgZXF1aXBwZWQ6IGZhbHNlIH1cbiAgICAgICAgICAgIDogaXRlbVxuICAgICAgICApLFxuICAgICAgICBlcXVpcG1lbnQ6IHtcbiAgICAgICAgICAuLi5wcmV2aW91cy5lcXVpcG1lbnQsXG4gICAgICAgICAgW3Nsb3RdOiBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIFwidW5lcXVpcHBlZFwiO1xuICAgIH0sXG4gICAgW2VxdWlwbWVudCwgc2V0SW52ZW50b3J5RGF0YVNhZmVdXG4gICk7XG5cbiAgY29uc3QgdG9nZ2xlRXF1aXAgPSB1c2VDYWxsYmFjayhcbiAgICAoaWQ6IHN0cmluZyk6IEVxdWlwUmVzdWx0ID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpbnZlbnRvcnkuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpZCk7XG4gICAgICBpZiAoIWl0ZW0gfHwgIWlzRXF1aXBwYWJsZShpdGVtKSkge1xuICAgICAgICByZXR1cm4gXCJuby1jaGFuZ2VcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKGl0ZW0uZXF1aXBwZWQpIHtcbiAgICAgICAgLy8gRmluZCB3aGljaCBzbG90IGl0J3MgZXF1aXBwZWQgaW4gYW5kIHVuZXF1aXBcbiAgICAgICAgY29uc3QgZXF1aXBwZWRTbG90ID0gT2JqZWN0LmVudHJpZXMoZXF1aXBtZW50KS5maW5kKChbXywgaXRlbUlkXSkgPT4gaXRlbUlkID09PSBpZCk/LlswXSBhcyBFcXVpcG1lbnRTbG90O1xuICAgICAgICBpZiAoZXF1aXBwZWRTbG90KSB7XG4gICAgICAgICAgcmV0dXJuIHVuZXF1aXBJdGVtKGVxdWlwcGVkU2xvdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFwibm8tY2hhbmdlXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFcXVpcCBpbiBhcHByb3ByaWF0ZSBzbG90XG4gICAgICAgIGlmIChpdGVtLnNsb3QpIHtcbiAgICAgICAgICByZXR1cm4gZXF1aXBJdGVtKGlkLCBpdGVtLnNsb3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcImludmFsaWQtc2xvdFwiO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2ludmVudG9yeSwgZXF1aXBtZW50LCBlcXVpcEl0ZW0sIHVuZXF1aXBJdGVtXVxuICApO1xuXG4gIGNvbnN0IGNvbnN1bWVJdGVtID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpbnZlbnRvcnkuZmluZCgoZW50cnkpID0+IGVudHJ5LmlkID09PSBpZCk7XG4gICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5vd25lZCA8PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SW52ZW50b3J5RGF0YVNhZmUoKHByZXZpb3VzKSA9PiAoe1xuICAgICAgICAuLi5wcmV2aW91cyxcbiAgICAgICAgaXRlbXM6IHByZXZpb3VzLml0ZW1zLm1hcChpdGVtID0+IFxuICAgICAgICAgIGl0ZW0uaWQgPT09IGlkIFxuICAgICAgICAgICAgPyB7IC4uLml0ZW0sIG93bmVkOiBNYXRoLm1heCgwLCBpdGVtLm93bmVkIC0gMSkgfVxuICAgICAgICAgICAgOiBpdGVtXG4gICAgICAgIClcbiAgICAgIH0pKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBbaW52ZW50b3J5LCBzZXRJbnZlbnRvcnlEYXRhU2FmZV1cbiAgKTtcblxuICBjb25zdCBzZXRPd25lZCA9IHVzZUNhbGxiYWNrKFxuICAgIChpZDogc3RyaW5nLCBvd25lZDogbnVtYmVyKSA9PiB7XG4gICAgICBzZXRJbnZlbnRvcnlEYXRhU2FmZSgocHJldmlvdXMpID0+ICh7XG4gICAgICAgIC4uLnByZXZpb3VzLFxuICAgICAgICBpdGVtczogcHJldmlvdXMuaXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGlkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgIG93bmVkOiBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKE51bWJlci5pc0Zpbml0ZShvd25lZCkgPyBvd25lZCA6IGl0ZW0ub3duZWQpKSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBpdGVtXG4gICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtzZXRJbnZlbnRvcnlEYXRhU2FmZV1cbiAgKTtcblxuICBjb25zdCBhZGp1c3RPd25lZCA9IHVzZUNhbGxiYWNrKFxuICAgIChpZDogc3RyaW5nLCBkZWx0YTogbnVtYmVyKSA9PiB7XG4gICAgICBpZiAoIWRlbHRhKSByZXR1cm47XG4gICAgICBzZXRJbnZlbnRvcnlEYXRhU2FmZSgocHJldmlvdXMpID0+ICh7XG4gICAgICAgIC4uLnByZXZpb3VzLFxuICAgICAgICBpdGVtczogcHJldmlvdXMuaXRlbXMubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IGlkXG4gICAgICAgICAgICA/IHsgLi4uaXRlbSwgb3duZWQ6IE1hdGgubWF4KDAsIGl0ZW0ub3duZWQgKyBkZWx0YSkgfVxuICAgICAgICAgICAgOiBpdGVtXG4gICAgICAgIClcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtzZXRJbnZlbnRvcnlEYXRhU2FmZV1cbiAgKTtcblxuICBjb25zdCB1cGRhdGVJdGVtID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkOiBzdHJpbmcsIHBhdGNoOiBQYXJ0aWFsPEludmVudG9yeUl0ZW0+KSA9PiB7XG4gICAgICBzZXRJbnZlbnRvcnlEYXRhU2FmZSgocHJldmlvdXMpID0+ICh7XG4gICAgICAgIC4uLnByZXZpb3VzLFxuICAgICAgICBpdGVtczogcHJldmlvdXMuaXRlbXMubWFwKChpdGVtKSA9PiAoaXRlbS5pZCA9PT0gaWQgPyB7IC4uLml0ZW0sIC4uLnBhdGNoIH0gOiBpdGVtKSlcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFtzZXRJbnZlbnRvcnlEYXRhU2FmZV1cbiAgKTtcblxuICBjb25zdCBhZGRPclJlcGxhY2VJdGVtID0gdXNlQ2FsbGJhY2soXG4gICAgKGl0ZW06IEludmVudG9yeUl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGlzZWQgPSBub3JtYWxpc2VJY29uKGl0ZW0pO1xuICAgICAgc2V0SW52ZW50b3J5RGF0YVNhZmUoKHByZXZpb3VzKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBwcmV2aW91cy5pdGVtcy5maW5kSW5kZXgoKGVudHJ5KSA9PiBlbnRyeS5pZCA9PT0gbm9ybWFsaXNlZC5pZCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IGV4aXN0aW5nSW5kZXggPj0gMFxuICAgICAgICAgID8gcHJldmlvdXMuaXRlbXMubWFwKChlbnRyeSkgPT4gKGVudHJ5LmlkID09PSBub3JtYWxpc2VkLmlkID8geyAuLi5lbnRyeSwgLi4ubm9ybWFsaXNlZCB9IDogZW50cnkpKVxuICAgICAgICAgIDogWy4uLnByZXZpb3VzLml0ZW1zLCBub3JtYWxpc2VkXTtcbiAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldmlvdXMsIGl0ZW1zOiB1cGRhdGVkSXRlbXMgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3NldEludmVudG9yeURhdGFTYWZlXVxuICApO1xuXG4gIGNvbnN0IHJlbW92ZUl0ZW0gPSB1c2VDYWxsYmFjayhcbiAgICAoaWQ6IHN0cmluZykgPT4ge1xuICAgICAgc2V0SW52ZW50b3J5RGF0YVNhZmUoKHByZXZpb3VzKSA9PiAoe1xuICAgICAgICAuLi5wcmV2aW91cyxcbiAgICAgICAgaXRlbXM6IHByZXZpb3VzLml0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5pZCAhPT0gaWQpXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbc2V0SW52ZW50b3J5RGF0YVNhZmVdXG4gICk7XG5cbiAgY29uc3QgdW5lcXVpcEFsbE9mVHlwZSA9IHVzZUNhbGxiYWNrKFxuICAgICh0eXBlOiBJdGVtVHlwZSkgPT4ge1xuICAgICAgc2V0SW52ZW50b3J5RGF0YVNhZmUoKHByZXZpb3VzKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRJdGVtcyA9IHByZXZpb3VzLml0ZW1zLm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLnR5cGUgPT09IHR5cGUgJiYgaXRlbS5lcXVpcHBlZCA/IHsgLi4uaXRlbSwgZXF1aXBwZWQ6IGZhbHNlIH0gOiBpdGVtXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkRXF1aXBtZW50ID0geyAuLi5wcmV2aW91cy5lcXVpcG1lbnQgfTtcbiAgICAgICAgT2JqZWN0LmtleXModXBkYXRlZEVxdWlwbWVudCkuZm9yRWFjaChzbG90ID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtSWQgPSB1cGRhdGVkRXF1aXBtZW50W3Nsb3QgYXMgRXF1aXBtZW50U2xvdF07XG4gICAgICAgICAgaWYgKGl0ZW1JZCkge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHByZXZpb3VzLml0ZW1zLmZpbmQoaSA9PiBpLmlkID09PSBpdGVtSWQpO1xuICAgICAgICAgICAgaWYgKGl0ZW0gJiYgaXRlbS50eXBlID09PSB0eXBlKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZWRFcXVpcG1lbnRbc2xvdCBhcyBFcXVpcG1lbnRTbG90XSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucHJldmlvdXMsXG4gICAgICAgICAgaXRlbXM6IHVwZGF0ZWRJdGVtcyxcbiAgICAgICAgICBlcXVpcG1lbnQ6IHVwZGF0ZWRFcXVpcG1lbnRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3NldEludmVudG9yeURhdGFTYWZlXVxuICApO1xuXG4gIGNvbnN0IHJlcGxhY2VJbnZlbnRvcnkgPSB1c2VDYWxsYmFjayhcbiAgICAobmV3SW52ZW50b3J5RGF0YTogSW52ZW50b3J5RGF0YSkgPT4ge1xuICAgICAgc2V0SW52ZW50b3J5RGF0YSh7XG4gICAgICAgIC4uLm5ld0ludmVudG9yeURhdGEsXG4gICAgICAgIGl0ZW1zOiBuZXdJbnZlbnRvcnlEYXRhLml0ZW1zLm1hcCgoZW50cnkpID0+IG5vcm1hbGlzZUljb24oeyAuLi5lbnRyeSB9KSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3NldEludmVudG9yeURhdGFdXG4gICk7XG5cbiAgY29uc3QgY2xlYXJJbnZlbnRvcnkgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SW52ZW50b3J5RGF0YShjbG9uZURlZmF1bHRJbnZlbnRvcnkoKSk7XG4gIH0sIFtzZXRJbnZlbnRvcnlEYXRhXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBpbnZlbnRvcnksXG4gICAgaW52ZW50b3J5RGF0YSxcbiAgICBlcXVpcG1lbnQsXG4gICAgZXF1aXBwZWRJdGVtcyxcbiAgICBzZXRzLFxuICAgIGFjdGl2ZVNldEJvbnVzZXMsXG4gICAgZ3JvdXBlZCxcbiAgICBsYWJlbHM6IElURU1fVFlQRV9MQUJFTFMsXG4gICAgeHAsXG4gICAgb2JlZGllbmNlLFxuICAgIHRva2VucyxcbiAgICBnYWluSXRlbSxcbiAgICBzZXRPd25lZCxcbiAgICBhZGp1c3RPd25lZCxcbiAgICB1cGRhdGVJdGVtLFxuICAgIGFkZE9yUmVwbGFjZUl0ZW0sXG4gICAgcmVtb3ZlSXRlbSxcbiAgICBlcXVpcEl0ZW0sXG4gICAgdW5lcXVpcEl0ZW0sXG4gICAgdG9nZ2xlRXF1aXAsXG4gICAgdW5lcXVpcEFsbE9mVHlwZSxcbiAgICBjb25zdW1lSXRlbSxcbiAgICByZXBsYWNlSW52ZW50b3J5LFxuICAgIGNsZWFySW52ZW50b3J5LFxuICAgIGF3YXJkWHAsXG4gICAgc3BlbmRYcCxcbiAgICBhd2FyZFRva2VucyxcbiAgICBzcGVuZFRva2VucyxcbiAgICBhd2FyZE9iZWRpZW5jZSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VQZXJzaXN0ZW50U3RhdGUiLCJ1c2VCdWZmcyIsImNsb25lRGVmYXVsdEludmVudG9yeSIsImdldERlZmF1bHRJdGVtVGVtcGxhdGUiLCJnZXREZWZhdWx0SWNvbiIsIklURU1fVFlQRV9MQUJFTFMiLCJJVEVNX1RZUEVfT1JERVIiLCJpc0VxdWlwcGFibGUiLCJjYW5FcXVpcEluU2xvdCIsImdldEFjdGl2ZVNldEJvbnVzZXMiLCJJVEVNX0FDUVVJUkVfWFAiLCJFUVVJUF9PQkVESUVOQ0VfUkVMSUMiLCJFUVVJUF9PQkVESUVOQ0VfUEFOVFkiLCJub3JtYWxpc2VJY29uIiwiaXRlbSIsImljb24iLCJ0cmltIiwibGVuZ3RoIiwidHlwZSIsInVzZUludmVudG9yeSIsImludmVudG9yeURhdGEiLCJzZXRJbnZlbnRvcnlEYXRhIiwieHAiLCJzZXRYcCIsIm9iZWRpZW5jZSIsInNldE9iZWRpZW5jZSIsInRva2VucyIsInNldFRva2VucyIsImFwcGx5RXZlbnQiLCJhZGRCdWZmIiwiaW52ZW50b3J5IiwiaXRlbXMiLCJlcXVpcG1lbnQiLCJzZXRzIiwiZXF1aXBwZWRJdGVtcyIsImVxdWlwcGVkSWRzIiwiT2JqZWN0IiwidmFsdWVzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImluY2x1ZGVzIiwiaWQiLCJhY3RpdmVTZXRCb251c2VzIiwiZ3JvdXBlZCIsInJlZHVjZSIsImFjYyIsInNvcnQiLCJhIiwiYiIsIm5hbWUiLCJsb2NhbGVDb21wYXJlIiwicmVsaWMiLCJwYW50eSIsInNoYXJkIiwiY29uc3VtYWJsZSIsInF1ZXN0IiwiYXJ0aWZhY3QiLCJjdXJyZW5jeSIsImVuc3VyZUl0ZW0iLCJ0ZW1wbGF0ZSIsImV4aXN0aW5nIiwiZmluZCIsImJhc2UiLCJyYXJpdHkiLCJkZXNjIiwib3duZWQiLCJlcXVpcHBlZCIsInNsb3QiLCJlZmZlY3QiLCJzb3VyY2UiLCJsb3JlIiwic2V0SW52ZW50b3J5RGF0YVNhZmUiLCJ1cGRhdGVyIiwicHJldmlvdXMiLCJuZXh0IiwibWFwIiwiYXdhcmRYcCIsImFtb3VudCIsInRvdGFsIiwicHJldiIsInNwZW5kWHAiLCJkZWR1Y3RlZCIsIk1hdGgiLCJtYXgiLCJhd2FyZE9iZWRpZW5jZSIsImF3YXJkVG9rZW5zIiwidmFsdWUiLCJyb3VuZCIsInNwZW5kVG9rZW5zIiwiZ2Fpbkl0ZW0iLCJlbnN1cmVkIiwiZXhpc3RpbmdJbmRleCIsImZpbmRJbmRleCIsInVwZGF0ZWRJdGVtcyIsImVxdWlwSXRlbSIsIml0ZW1JZCIsImVudHJ5IiwiY3VycmVudGx5RXF1aXBwZWRJZCIsInVuZXF1aXBJdGVtIiwidG9nZ2xlRXF1aXAiLCJlcXVpcHBlZFNsb3QiLCJlbnRyaWVzIiwiXyIsImNvbnN1bWVJdGVtIiwic2V0T3duZWQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsImFkanVzdE93bmVkIiwiZGVsdGEiLCJ1cGRhdGVJdGVtIiwicGF0Y2giLCJhZGRPclJlcGxhY2VJdGVtIiwibm9ybWFsaXNlZCIsInJlbW92ZUl0ZW0iLCJ1bmVxdWlwQWxsT2ZUeXBlIiwidXBkYXRlZEVxdWlwbWVudCIsImtleXMiLCJmb3JFYWNoIiwiaSIsInJlcGxhY2VJbnZlbnRvcnkiLCJuZXdJbnZlbnRvcnlEYXRhIiwiY2xlYXJJbnZlbnRvcnkiLCJsYWJlbHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useInventory.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useMap.ts":
/*!*****************************!*\
  !*** ./app/hooks/useMap.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMap: () => (/* binding */ useMap)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _lib_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/map */ \"(app-pages-browser)/./app/lib/map.ts\");\n/* harmony import */ var _useInventory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useInventory */ \"(app-pages-browser)/./app/hooks/useInventory.ts\");\n/* harmony import */ var _useShame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useShame */ \"(app-pages-browser)/./app/hooks/useShame.ts\");\n/* harmony import */ var _useRitualsEngine__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useRitualsEngine */ \"(app-pages-browser)/./app/hooks/useRitualsEngine.ts\");\n/* harmony import */ var _useQuestlines__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useQuestlines */ \"(app-pages-browser)/./app/hooks/useQuestlines.ts\");\n/* __next_internal_client_entry_do_not_use__ useMap auto */ \n\n\n\n\n\n\nfunction useMap() {\n    // Force use the updated coordinates immediately, no caching\n    const freshMapData = (0,_lib_map__WEBPACK_IMPORTED_MODULE_2__.cloneDefaultMap)();\n    const [mapData, setMapData] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('map_v2', {\n        \"useMap.usePersistentState\": ()=>freshMapData\n    }[\"useMap.usePersistentState\"]);\n    const { awardXp } = (0,_useInventory__WEBPACK_IMPORTED_MODULE_3__.useInventory)();\n    const { shame } = (0,_useShame__WEBPACK_IMPORTED_MODULE_4__.useShame)();\n    const { logs: ritualLogs } = (0,_useRitualsEngine__WEBPACK_IMPORTED_MODULE_5__.useRitualsEngine)();\n    const { questlines } = (0,_useQuestlines__WEBPACK_IMPORTED_MODULE_6__.useQuestlines)();\n    const checkUnlockCondition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useMap.useCallback[checkUnlockCondition]\": (condition)=>{\n            switch(condition.type){\n                case 'shame':\n                    // This is a placeholder for shame level logic.\n                    // Let's assume total shame points / 100 is the level.\n                    const shameLevel = (shame.pantiesSniffed + shame.ritualsFailed + shame.dirtyTokensBurned) / 100;\n                    var _condition_level;\n                    return shameLevel >= ((_condition_level = condition.level) !== null && _condition_level !== void 0 ? _condition_level : 999);\n                case 'ritual':\n                    return ritualLogs.some({\n                        \"useMap.useCallback[checkUnlockCondition]\": (log)=>log.ritualId === condition.id\n                    }[\"useMap.useCallback[checkUnlockCondition]\"]);\n                case 'quest':\n                    const quest = questlines.find({\n                        \"useMap.useCallback[checkUnlockCondition].quest\": (q)=>q.id === condition.id\n                    }[\"useMap.useCallback[checkUnlockCondition].quest\"]);\n                    var _quest_completed;\n                    return (_quest_completed = quest === null || quest === void 0 ? void 0 : quest.completed) !== null && _quest_completed !== void 0 ? _quest_completed : false;\n                case 'item':\n                    // Placeholder for inventory check\n                    return false;\n                default:\n                    return false;\n            }\n        }\n    }[\"useMap.useCallback[checkUnlockCondition]\"], [\n        shame,\n        ritualLogs,\n        questlines\n    ]);\n    const unlockNode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useMap.useCallback[unlockNode]\": (nodeId)=>{\n            let nodeWasUnlocked = false;\n            setMapData({\n                \"useMap.useCallback[unlockNode]\": (prev)=>{\n                    const node = prev.nodes.find({\n                        \"useMap.useCallback[unlockNode].node\": (n)=>n.id === nodeId\n                    }[\"useMap.useCallback[unlockNode].node\"]);\n                    if (!node || node.unlocked) {\n                        return prev;\n                    }\n                    nodeWasUnlocked = true;\n                    const newNodes = prev.nodes.map({\n                        \"useMap.useCallback[unlockNode].newNodes\": (n)=>n.id === nodeId ? {\n                                ...n,\n                                unlocked: true\n                            } : n\n                    }[\"useMap.useCallback[unlockNode].newNodes\"]);\n                    const newLinks = prev.links.map({\n                        \"useMap.useCallback[unlockNode].newLinks\": (l)=>{\n                            if (l.from === nodeId) {\n                                // Check if the 'to' node is unlocked\n                                const toNode = newNodes.find({\n                                    \"useMap.useCallback[unlockNode].newLinks.toNode\": (n)=>n.id === l.to\n                                }[\"useMap.useCallback[unlockNode].newLinks.toNode\"]);\n                                if (toNode === null || toNode === void 0 ? void 0 : toNode.unlocked) {\n                                    return {\n                                        ...l,\n                                        locked: false\n                                    };\n                                }\n                            }\n                            if (l.to === nodeId) {\n                                // Check if the 'from' node is unlocked\n                                const fromNode = newNodes.find({\n                                    \"useMap.useCallback[unlockNode].newLinks.fromNode\": (n)=>n.id === l.from\n                                }[\"useMap.useCallback[unlockNode].newLinks.fromNode\"]);\n                                if (fromNode === null || fromNode === void 0 ? void 0 : fromNode.unlocked) {\n                                    return {\n                                        ...l,\n                                        locked: false\n                                    };\n                                }\n                            }\n                            return l;\n                        }\n                    }[\"useMap.useCallback[unlockNode].newLinks\"]);\n                    return {\n                        nodes: newNodes,\n                        links: newLinks\n                    };\n                }\n            }[\"useMap.useCallback[unlockNode]\"]);\n            if (nodeWasUnlocked) {\n                // Grant XP for unlocking a new node\n                awardXp(100);\n            }\n        }\n    }[\"useMap.useCallback[unlockNode]\"], [\n        setMapData,\n        awardXp\n    ]);\n    const attemptUnlockNode = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useMap.useCallback[attemptUnlockNode]\": (nodeId)=>{\n            const node = mapData.nodes.find({\n                \"useMap.useCallback[attemptUnlockNode].node\": (n)=>n.id === nodeId\n            }[\"useMap.useCallback[attemptUnlockNode].node\"]);\n            if (!node || node.unlocked || !node.unlockCondition) {\n                return false;\n            }\n            if (checkUnlockCondition(node.unlockCondition)) {\n                unlockNode(nodeId);\n                return true;\n            }\n            return false;\n        }\n    }[\"useMap.useCallback[attemptUnlockNode]\"], [\n        mapData.nodes,\n        checkUnlockCondition,\n        unlockNode\n    ]);\n    const updateNodePosition = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useMap.useCallback[updateNodePosition]\": (nodeId, coords)=>{\n            setMapData({\n                \"useMap.useCallback[updateNodePosition]\": (prev)=>({\n                        ...prev,\n                        nodes: prev.nodes.map({\n                            \"useMap.useCallback[updateNodePosition]\": (n)=>n.id === nodeId ? {\n                                    ...n,\n                                    coords\n                                } : n\n                        }[\"useMap.useCallback[updateNodePosition]\"])\n                    })\n            }[\"useMap.useCallback[updateNodePosition]\"]);\n        }\n    }[\"useMap.useCallback[updateNodePosition]\"], [\n        setMapData\n    ]);\n    return {\n        mapData,\n        unlockNode,\n        attemptUnlockNode,\n        checkUnlockCondition,\n        updateNodePosition,\n        setMapData\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VNYXAudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OzREQUVvQztBQUNzQjtBQUNxQztBQUNqRDtBQUNSO0FBQ2dCO0FBQ047QUFFekMsU0FBU087SUFDZCw0REFBNEQ7SUFDNUQsTUFBTUMsZUFBZU4seURBQWVBO0lBQ3BDLE1BQU0sQ0FBQ08sU0FBU0MsV0FBVyxHQUFHVCx1RUFBa0JBLENBQVU7cUNBQVUsSUFBTU87O0lBQzFFLE1BQU0sRUFBRUcsT0FBTyxFQUFFLEdBQUdSLDJEQUFZQTtJQUNoQyxNQUFNLEVBQUVTLEtBQUssRUFBRSxHQUFHUixtREFBUUE7SUFDMUIsTUFBTSxFQUFFUyxNQUFNQyxVQUFVLEVBQUUsR0FBR1QsbUVBQWdCQTtJQUM3QyxNQUFNLEVBQUVVLFVBQVUsRUFBRSxHQUFHVCw2REFBYUE7SUFFcEMsTUFBTVUsdUJBQXVCaEIsa0RBQVdBO29EQUFDLENBQUNpQjtZQUN4QyxPQUFRQSxVQUFVQyxJQUFJO2dCQUNwQixLQUFLO29CQUNILCtDQUErQztvQkFDL0Msc0RBQXNEO29CQUN0RCxNQUFNQyxhQUFhLENBQUNQLE1BQU1RLGNBQWMsR0FBR1IsTUFBTVMsYUFBYSxHQUFHVCxNQUFNVSxpQkFBaUIsSUFBSTt3QkFDdEVMO29CQUF0QixPQUFPRSxjQUFlRixDQUFBQSxDQUFBQSxtQkFBQUEsVUFBVU0sS0FBSyxjQUFmTiw4QkFBQUEsbUJBQW1CLEdBQUU7Z0JBQzdDLEtBQUs7b0JBQ0gsT0FBT0gsV0FBV1UsSUFBSTtvRUFBQ0MsQ0FBQUEsTUFBT0EsSUFBSUMsUUFBUSxLQUFLVCxVQUFVVSxFQUFFOztnQkFDN0QsS0FBSztvQkFDSCxNQUFNQyxRQUFRYixXQUFXYyxJQUFJOzBFQUFDQyxDQUFBQSxJQUFLQSxFQUFFSCxFQUFFLEtBQUtWLFVBQVVVLEVBQUU7O3dCQUNqREM7b0JBQVAsT0FBT0EsQ0FBQUEsbUJBQUFBLGtCQUFBQSw0QkFBQUEsTUFBT0csU0FBUyxjQUFo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RHJlYW1cXGFwcFxcaG9va3NcXHVzZU1hcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgdXNlUGVyc2lzdGVudFN0YXRlIH0gZnJvbSAnLi91c2VQZXJzaXN0ZW50U3RhdGUnO1xyXG5pbXBvcnQgeyBjbG9uZURlZmF1bHRNYXAsIHR5cGUgTWFwRGF0YSwgdHlwZSBNYXBOb2RlLCB0eXBlIFVubG9ja0NvbmRpdGlvbiB9IGZyb20gJy4uL2xpYi9tYXAnO1xyXG5pbXBvcnQgeyB1c2VJbnZlbnRvcnkgfSBmcm9tICcuL3VzZUludmVudG9yeSc7XHJcbmltcG9ydCB7IHVzZVNoYW1lIH0gZnJvbSAnLi91c2VTaGFtZSc7XHJcbmltcG9ydCB7IHVzZVJpdHVhbHNFbmdpbmUgfSBmcm9tICcuL3VzZVJpdHVhbHNFbmdpbmUnO1xyXG5pbXBvcnQgeyB1c2VRdWVzdGxpbmVzIH0gZnJvbSAnLi91c2VRdWVzdGxpbmVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VNYXAoKSB7XHJcbiAgLy8gRm9yY2UgdXNlIHRoZSB1cGRhdGVkIGNvb3JkaW5hdGVzIGltbWVkaWF0ZWx5LCBubyBjYWNoaW5nXHJcbiAgY29uc3QgZnJlc2hNYXBEYXRhID0gY2xvbmVEZWZhdWx0TWFwKCk7XHJcbiAgY29uc3QgW21hcERhdGEsIHNldE1hcERhdGFdID0gdXNlUGVyc2lzdGVudFN0YXRlPE1hcERhdGE+KCdtYXBfdjInLCAoKSA9PiBmcmVzaE1hcERhdGEpO1xyXG4gIGNvbnN0IHsgYXdhcmRYcCB9ID0gdXNlSW52ZW50b3J5KCk7XHJcbiAgY29uc3QgeyBzaGFtZSB9ID0gdXNlU2hhbWUoKTtcclxuICBjb25zdCB7IGxvZ3M6IHJpdHVhbExvZ3MgfSA9IHVzZVJpdHVhbHNFbmdpbmUoKTtcclxuICBjb25zdCB7IHF1ZXN0bGluZXMgfSA9IHVzZVF1ZXN0bGluZXMoKTtcclxuXHJcbiAgY29uc3QgY2hlY2tVbmxvY2tDb25kaXRpb24gPSB1c2VDYWxsYmFjaygoY29uZGl0aW9uOiBVbmxvY2tDb25kaXRpb24pOiBib29sZWFuID0+IHtcclxuICAgIHN3aXRjaCAoY29uZGl0aW9uLnR5cGUpIHtcclxuICAgICAgY2FzZSAnc2hhbWUnOlxyXG4gICAgICAgIC8vIFRoaXMgaXMgYSBwbGFjZWhvbGRlciBmb3Igc2hhbWUgbGV2ZWwgbG9naWMuXHJcbiAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRvdGFsIHNoYW1lIHBvaW50cyAvIDEwMCBpcyB0aGUgbGV2ZWwuXHJcbiAgICAgICAgY29uc3Qgc2hhbWVMZXZlbCA9IChzaGFtZS5wYW50aWVzU25pZmZlZCArIHNoYW1lLnJpdHVhbHNGYWlsZWQgKyBzaGFtZS5kaXJ0eVRva2Vuc0J1cm5lZCkgLyAxMDA7XHJcbiAgICAgICAgcmV0dXJuIHNoYW1lTGV2ZWwgPj0gKGNvbmRpdGlvbi5sZXZlbCA/PyA5OTkpO1xyXG4gICAgICBjYXNlICdyaXR1YWwnOlxyXG4gICAgICAgIHJldHVybiByaXR1YWxMb2dzLnNvbWUobG9nID0+IGxvZy5yaXR1YWxJZCA9PT0gY29uZGl0aW9uLmlkKTtcclxuICAgICAgY2FzZSAncXVlc3QnOlxyXG4gICAgICAgIGNvbnN0IHF1ZXN0ID0gcXVlc3RsaW5lcy5maW5kKHEgPT4gcS5pZCA9PT0gY29uZGl0aW9uLmlkKTtcclxuICAgICAgICByZXR1cm4gcXVlc3Q/LmNvbXBsZXRlZCA/PyBmYWxzZTtcclxuICAgICAgY2FzZSAnaXRlbSc6XHJcbiAgICAgICAgLy8gUGxhY2Vob2xkZXIgZm9yIGludmVudG9yeSBjaGVja1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSwgW3NoYW1lLCByaXR1YWxMb2dzLCBxdWVzdGxpbmVzXSk7XHJcblxyXG4gIGNvbnN0IHVubG9ja05vZGUgPSB1c2VDYWxsYmFjayhcclxuICAgIChub2RlSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICBsZXQgbm9kZVdhc1VubG9ja2VkID0gZmFsc2U7XHJcblxyXG4gICAgICBzZXRNYXBEYXRhKChwcmV2KSA9PiB7XHJcbiAgICAgICAgY29uc3Qgbm9kZSA9IHByZXYubm9kZXMuZmluZCgobikgPT4gbi5pZCA9PT0gbm9kZUlkKTtcclxuICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZS51bmxvY2tlZCkge1xyXG4gICAgICAgICAgcmV0dXJuIHByZXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlV2FzVW5sb2NrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBjb25zdCBuZXdOb2RlcyA9IHByZXYubm9kZXMubWFwKChuKSA9PlxyXG4gICAgICAgICAgbi5pZCA9PT0gbm9kZUlkID8geyAuLi5uLCB1bmxvY2tlZDogdHJ1ZSB9IDogblxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ld0xpbmtzID0gcHJldi5saW5rcy5tYXAoKGwpID0+IHtcclxuICAgICAgICAgIGlmIChsLmZyb20gPT09IG5vZGVJZCkge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgJ3RvJyBub2RlIGlzIHVubG9ja2VkXHJcbiAgICAgICAgICAgIGNvbnN0IHRvTm9kZSA9IG5ld05vZGVzLmZpbmQobiA9PiBuLmlkID09PSBsLnRvKTtcclxuICAgICAgICAgICAgaWYgKHRvTm9kZT8udW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4geyAuLi5sLCBsb2NrZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChsLnRvID09PSBub2RlSWQpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlICdmcm9tJyBub2RlIGlzIHVubG9ja2VkXHJcbiAgICAgICAgICAgIGNvbnN0IGZyb21Ob2RlID0gbmV3Tm9kZXMuZmluZChuID0+IG4uaWQgPT09IGwuZnJvbSk7XHJcbiAgICAgICAgICAgIGlmIChmcm9tTm9kZT8udW5sb2NrZWQpIHtcclxuICAgICAgICAgICAgICByZXR1cm4geyAuLi5sLCBsb2NrZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4geyBub2RlczogbmV3Tm9kZXMsIGxpbmtzOiBuZXdMaW5rcyB9O1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChub2RlV2FzVW5sb2NrZWQpIHtcclxuICAgICAgICAvLyBHcmFudCBYUCBmb3IgdW5sb2NraW5nIGEgbmV3IG5vZGVcclxuICAgICAgICBhd2FyZFhwKDEwMCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBbc2V0TWFwRGF0YSwgYXdhcmRYcF1cclxuICApO1xyXG5cclxuICBjb25zdCBhdHRlbXB0VW5sb2NrTm9kZSA9IHVzZUNhbGxiYWNrKChub2RlSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xyXG4gICAgY29uc3Qgbm9kZSA9IG1hcERhdGEubm9kZXMuZmluZChuID0+IG4uaWQgPT09IG5vZGVJZCk7XHJcbiAgICBpZiAoIW5vZGUgfHwgbm9kZS51bmxvY2tlZCB8fCAhbm9kZS51bmxvY2tDb25kaXRpb24pIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGVja1VubG9ja0NvbmRpdGlvbihub2RlLnVubG9ja0NvbmRpdGlvbikpIHtcclxuICAgICAgdW5sb2NrTm9kZShub2RlSWQpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfSwgW21hcERhdGEubm9kZXMsIGNoZWNrVW5sb2NrQ29uZGl0aW9uLCB1bmxvY2tOb2RlXSk7XHJcblxyXG4gIGNvbnN0IHVwZGF0ZU5vZGVQb3NpdGlvbiA9IHVzZUNhbGxiYWNrKChub2RlSWQ6IHN0cmluZywgY29vcmRzOiBbbnVtYmVyLCBudW1iZXJdKSA9PiB7XHJcbiAgICBzZXRNYXBEYXRhKHByZXYgPT4gKHtcclxuICAgICAgLi4ucHJldixcclxuICAgICAgbm9kZXM6IHByZXYubm9kZXMubWFwKG4gPT4gbi5pZCA9PT0gbm9kZUlkID8geyAuLi5uLCBjb29yZHMgfSA6IG4pXHJcbiAgICB9KSk7XHJcbiAgfSwgW3NldE1hcERhdGFdKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG1hcERhdGEsXHJcbiAgICB1bmxvY2tOb2RlLFxyXG4gICAgYXR0ZW1wdFVubG9ja05vZGUsXHJcbiAgICBjaGVja1VubG9ja0NvbmRpdGlvbixcclxuICAgIHVwZGF0ZU5vZGVQb3NpdGlvbixcclxuICAgIHNldE1hcERhdGEsIC8vIEZvciBDb250cm9sIE5leHVzXHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VQZXJzaXN0ZW50U3RhdGUiLCJjbG9uZURlZmF1bHRNYXAiLCJ1c2VJbnZlbnRvcnkiLCJ1c2VTaGFtZSIsInVzZVJpdHVhbHNFbmdpbmUiLCJ1c2VRdWVzdGxpbmVzIiwidXNlTWFwIiwiZnJlc2hNYXBEYXRhIiwibWFwRGF0YSIsInNldE1hcERhdGEiLCJhd2FyZFhwIiwic2hhbWUiLCJsb2dzIiwicml0dWFsTG9ncyIsInF1ZXN0bGluZXMiLCJjaGVja1VubG9ja0NvbmRpdGlvbiIsImNvbmRpdGlvbiIsInR5cGUiLCJzaGFtZUxldmVsIiwicGFudGllc1NuaWZmZWQiLCJyaXR1YWxzRmFpbGVkIiwiZGlydHlUb2tlbnNCdXJuZWQiLCJsZXZlbCIsInNvbWUiLCJsb2ciLCJyaXR1YWxJZCIsImlkIiwicXVlc3QiLCJmaW5kIiwicSIsImNvbXBsZXRlZCIsInVubG9ja05vZGUiLCJub2RlSWQiLCJub2RlV2FzVW5sb2NrZWQiLCJwcmV2Iiwibm9kZSIsIm5vZGVzIiwibiIsInVubG9ja2VkIiwibmV3Tm9kZXMiLCJtYXAiLCJuZXdMaW5rcyIsImxpbmtzIiwibCIsImZyb20iLCJ0b05vZGUiLCJ0byIsImxvY2tlZCIsImZyb21Ob2RlIiwiYXR0ZW1wdFVubG9ja05vZGUiLCJ1bmxvY2tDb25kaXRpb24iLCJ1cGRhdGVOb2RlUG9zaXRpb24iLCJjb29yZHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useMap.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useMapAchievements.ts":
/*!*****************************************!*\
  !*** ./app/hooks/useMapAchievements.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMapAchievements: () => (/* binding */ useMapAchievements)\n/* harmony export */ });\n/* harmony import */ var _useMap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useMap */ \"(app-pages-browser)/./app/hooks/useMap.ts\");\n/* harmony import */ var _useAchievements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAchievements */ \"(app-pages-browser)/./app/hooks/useAchievements.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ useMapAchievements auto */ \n\n\nfunction useMapAchievements() {\n    const { mapData } = (0,_useMap__WEBPACK_IMPORTED_MODULE_0__.useMap)();\n    const { triggerAchievement } = (0,_useAchievements__WEBPACK_IMPORTED_MODULE_1__.useAchievements)();\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"useMapAchievements.useEffect\": ()=>{\n            const unlockedNodes = mapData.nodes.filter({\n                \"useMapAchievements.useEffect.unlockedNodes\": (n)=>n.unlocked\n            }[\"useMapAchievements.useEffect.unlockedNodes\"]);\n            unlockedNodes.forEach({\n                \"useMapAchievements.useEffect\": (node)=>{\n                    triggerAchievement('MAP_NODE_UNLOCKED', node.id);\n                }\n            }[\"useMapAchievements.useEffect\"]);\n            const allNodesUnlocked = mapData.nodes.every({\n                \"useMapAchievements.useEffect.allNodesUnlocked\": (n)=>n.unlocked\n            }[\"useMapAchievements.useEffect.allNodesUnlocked\"]);\n            if (allNodesUnlocked && mapData.nodes.length > 0) {\n                triggerAchievement('MAP_ALL_NODES_UNLOCKED');\n            }\n        }\n    }[\"useMapAchievements.useEffect\"], [\n        mapData.nodes,\n        triggerAchievement\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VNYXBBY2hpZXZlbWVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7d0VBRWtDO0FBQ2tCO0FBQ2xCO0FBRTNCLFNBQVNHO0lBQ2QsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR0osK0NBQU1BO0lBQzFCLE1BQU0sRUFBRUssa0JBQWtCLEVBQUUsR0FBR0osaUVBQWVBO0lBRTlDQyxnREFBU0E7d0NBQUM7WUFDUixNQUFNSSxnQkFBZ0JGLFFBQVFHLEtBQUssQ0FBQ0MsTUFBTTs4REFBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsUUFBUTs7WUFFMURKLGNBQWNLLE9BQU87Z0RBQUNDLENBQUFBO29CQUNwQlAsbUJBQW1CLHFCQUFxQk8sS0FBS0MsRUFBRTtnQkFDakQ7O1lBRUEsTUFBTUMsbUJBQW1CVixRQUFRRyxLQUFLLENBQUNRLEtBQUs7aUVBQUNOLENBQUFBLElBQUtBLEVBQUVDLFFBQVE7O1lBQzVELElBQUlJLG9CQUFvQlYsUUFBUUcsS0FBSyxDQUFDUyxNQUFNLEdBQUcsR0FBRztnQkFDaERYLG1CQUFtQjtZQUNyQjtRQUNGO3VDQUFHO1FBQUNELFFBQVFHLEtBQUs7UUFBRUY7S0FBbUI7QUFDeEMiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcaG9va3NcXHVzZU1hcEFjaGlldmVtZW50cy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgeyB1c2VNYXAgfSBmcm9tICcuL3VzZU1hcCc7XHJcbmltcG9ydCB7IHVzZUFjaGlldmVtZW50cyB9IGZyb20gJy4vdXNlQWNoaWV2ZW1lbnRzJztcclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZU1hcEFjaGlldmVtZW50cygpIHtcclxuICBjb25zdCB7IG1hcERhdGEgfSA9IHVzZU1hcCgpO1xyXG4gIGNvbnN0IHsgdHJpZ2dlckFjaGlldmVtZW50IH0gPSB1c2VBY2hpZXZlbWVudHMoKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IHVubG9ja2VkTm9kZXMgPSBtYXBEYXRhLm5vZGVzLmZpbHRlcihuID0+IG4udW5sb2NrZWQpO1xyXG5cclxuICAgIHVubG9ja2VkTm9kZXMuZm9yRWFjaChub2RlID0+IHtcclxuICAgICAgdHJpZ2dlckFjaGlldmVtZW50KCdNQVBfTk9ERV9VTkxPQ0tFRCcsIG5vZGUuaWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgYWxsTm9kZXNVbmxvY2tlZCA9IG1hcERhdGEubm9kZXMuZXZlcnkobiA9PiBuLnVubG9ja2VkKTtcclxuICAgIGlmIChhbGxOb2Rlc1VubG9ja2VkICYmIG1hcERhdGEubm9kZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0cmlnZ2VyQWNoaWV2ZW1lbnQoJ01BUF9BTExfTk9ERVNfVU5MT0NLRUQnKTtcclxuICAgIH1cclxuICB9LCBbbWFwRGF0YS5ub2RlcywgdHJpZ2dlckFjaGlldmVtZW50XSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZU1hcCIsInVzZUFjaGlldmVtZW50cyIsInVzZUVmZmVjdCIsInVzZU1hcEFjaGlldmVtZW50cyIsIm1hcERhdGEiLCJ0cmlnZ2VyQWNoaWV2ZW1lbnQiLCJ1bmxvY2tlZE5vZGVzIiwibm9kZXMiLCJmaWx0ZXIiLCJuIiwidW5sb2NrZWQiLCJmb3JFYWNoIiwibm9kZSIsImlkIiwiYWxsTm9kZXNVbmxvY2tlZCIsImV2ZXJ5IiwibGVuZ3RoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useMapAchievements.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useNpcs.ts":
/*!******************************!*\
  !*** ./app/hooks/useNpcs.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useNpcs: () => (/* binding */ useNpcs)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _lib_npcs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/npcs */ \"(app-pages-browser)/./app/lib/npcs.ts\");\n/* harmony import */ var _useInventory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useInventory */ \"(app-pages-browser)/./app/hooks/useInventory.ts\");\n/* __next_internal_client_entry_do_not_use__ useNpcs,default auto */ \n\n\n\nconst NPC_ACHIEVEMENTS_KEY = 'npcAchievements';\nfunction useNpcs() {\n    const [npcs, setNpcs] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('npcs', _lib_npcs__WEBPACK_IMPORTED_MODULE_2__.cloneDefaultNpcs);\n    const [achievements, setAchievements] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(NPC_ACHIEVEMENTS_KEY, {\n        \"useNpcs.usePersistentState\": ()=>[]\n    }[\"useNpcs.usePersistentState\"]);\n    const [titles, setTitles] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)('titlesUnlocked', {\n        \"useNpcs.usePersistentState\": ()=>[]\n    }[\"useNpcs.usePersistentState\"]);\n    const { awardXp } = (0,_useInventory__WEBPACK_IMPORTED_MODULE_3__.useInventory)();\n    const setSafe = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[setSafe]\": (updater)=>{\n            setNpcs({\n                \"useNpcs.useCallback[setSafe]\": (previous)=>updater(previous).map({\n                        \"useNpcs.useCallback[setSafe]\": (npc)=>(0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.normaliseNpc)(npc)\n                    }[\"useNpcs.useCallback[setSafe]\"])\n            }[\"useNpcs.useCallback[setSafe]\"]);\n        }\n    }[\"useNpcs.useCallback[setSafe]\"], [\n        setNpcs\n    ]);\n    const addNpc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[addNpc]\": (npc)=>{\n            setSafe({\n                \"useNpcs.useCallback[addNpc]\": (previous)=>{\n                    const exists = previous.some({\n                        \"useNpcs.useCallback[addNpc].exists\": (entry)=>entry.id === npc.id\n                    }[\"useNpcs.useCallback[addNpc].exists\"]);\n                    return exists ? previous.map({\n                        \"useNpcs.useCallback[addNpc]\": (entry)=>entry.id === npc.id ? (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.normaliseNpc)({\n                                ...entry,\n                                ...npc\n                            }) : entry\n                    }[\"useNpcs.useCallback[addNpc]\"]) : [\n                        ...previous,\n                        (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.normaliseNpc)(npc)\n                    ];\n                }\n            }[\"useNpcs.useCallback[addNpc]\"]);\n            awardXp(10);\n        }\n    }[\"useNpcs.useCallback[addNpc]\"], [\n        awardXp,\n        setSafe\n    ]);\n    const updateNpc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[updateNpc]\": (npcId, updater)=>{\n            setSafe({\n                \"useNpcs.useCallback[updateNpc]\": (previous)=>previous.map({\n                        \"useNpcs.useCallback[updateNpc]\": (entry)=>entry.id === npcId ? (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.normaliseNpc)(updater({\n                                ...entry\n                            })) : entry\n                    }[\"useNpcs.useCallback[updateNpc]\"])\n            }[\"useNpcs.useCallback[updateNpc]\"]);\n        }\n    }[\"useNpcs.useCallback[updateNpc]\"], [\n        setSafe\n    ]);\n    const removeNpc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[removeNpc]\": (npcId)=>{\n            setSafe({\n                \"useNpcs.useCallback[removeNpc]\": (previous)=>previous.filter({\n                        \"useNpcs.useCallback[removeNpc]\": (npc)=>npc.id !== npcId\n                    }[\"useNpcs.useCallback[removeNpc]\"])\n            }[\"useNpcs.useCallback[removeNpc]\"]);\n        }\n    }[\"useNpcs.useCallback[removeNpc]\"], [\n        setSafe\n    ]);\n    const ensureNpcByName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[ensureNpcByName]\": function(name) {\n            let role = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 'Friend';\n            const existing = npcs.find({\n                \"useNpcs.useCallback[ensureNpcByName].existing\": (npc)=>npc.name.toLowerCase() === name.toLowerCase()\n            }[\"useNpcs.useCallback[ensureNpcByName].existing\"]);\n            if (existing) return existing;\n            const id = \"npc-\".concat(Date.now().toString(36), \"-\").concat(Math.random().toString(36).slice(2, 6));\n            const newNpc = {\n                id,\n                name,\n                role,\n                dreamCount: 0,\n                trust: 30,\n                shame: 10,\n                bio: '',\n                dialogues: []\n            };\n            const normalised = (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.normaliseNpc)(newNpc);\n            setSafe({\n                \"useNpcs.useCallback[ensureNpcByName]\": (previous)=>[\n                        ...previous,\n                        normalised\n                    ]\n            }[\"useNpcs.useCallback[ensureNpcByName]\"]);\n            return normalised;\n        }\n    }[\"useNpcs.useCallback[ensureNpcByName]\"], [\n        npcs,\n        setSafe\n    ]);\n    const incrementDreamCount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[incrementDreamCount]\": function(npcId) {\n            let amount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n            if (amount === 0) return;\n            updateNpc(npcId, {\n                \"useNpcs.useCallback[incrementDreamCount]\": (npc)=>({\n                        ...npc,\n                        dreamCount: Math.max(0, npc.dreamCount + amount)\n                    })\n            }[\"useNpcs.useCallback[incrementDreamCount]\"]);\n        }\n    }[\"useNpcs.useCallback[incrementDreamCount]\"], [\n        updateNpc\n    ]);\n    const adjustTrust = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[adjustTrust]\": (npcId, delta)=>{\n            if (delta === 0) return;\n            updateNpc(npcId, {\n                \"useNpcs.useCallback[adjustTrust]\": (npc)=>{\n                    const trust = (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.clampMeter)(npc.trust + delta);\n                    if (trust >= 100 && !achievements.includes('Bonded Dreamer')) {\n                        setAchievements({\n                            \"useNpcs.useCallback[adjustTrust]\": (previous)=>previous.includes('Bonded Dreamer') ? previous : [\n                                    ...previous,\n                                    'Bonded Dreamer'\n                                ]\n                        }[\"useNpcs.useCallback[adjustTrust]\"]);\n                        awardXp(25);\n                    }\n                    return {\n                        ...npc,\n                        trust\n                    };\n                }\n            }[\"useNpcs.useCallback[adjustTrust]\"]);\n        }\n    }[\"useNpcs.useCallback[adjustTrust]\"], [\n        achievements,\n        awardXp,\n        setAchievements,\n        updateNpc\n    ]);\n    const adjustShame = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[adjustShame]\": (npcId, delta)=>{\n            if (delta === 0) return;\n            updateNpc(npcId, {\n                \"useNpcs.useCallback[adjustShame]\": (npc)=>{\n                    const shame = (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.clampMeter)(npc.shame + delta);\n                    if (shame >= 100 && !titles.includes('Worthless Toy')) {\n                        setTitles({\n                            \"useNpcs.useCallback[adjustShame]\": (previous)=>previous.includes('Worthless Toy') ? previous : [\n                                    ...previous,\n                                    'Worthless Toy'\n                                ]\n                        }[\"useNpcs.useCallback[adjustShame]\"]);\n                    }\n                    return {\n                        ...npc,\n                        shame\n                    };\n                }\n            }[\"useNpcs.useCallback[adjustShame]\"]);\n        }\n    }[\"useNpcs.useCallback[adjustShame]\"], [\n        setTitles,\n        titles,\n        updateNpc\n    ]);\n    const addDialogue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[addDialogue]\": function(npcId, text) {\n            let date = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : new Date().toISOString();\n            if (!text.trim()) return;\n            const dialogue = (0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.normaliseDialogue)({\n                id: \"dlg-\".concat(Date.now().toString(36), \"-\").concat(Math.random().toString(36).slice(2, 6)),\n                text: text.trim(),\n                date\n            });\n            let shouldAwardBonus = false;\n            updateNpc(npcId, {\n                \"useNpcs.useCallback[addDialogue]\": (npc)=>{\n                    shouldAwardBonus = npc.dialogues.length === 0;\n                    return {\n                        ...npc,\n                        dialogues: [\n                            ...npc.dialogues,\n                            dialogue\n                        ]\n                    };\n                }\n            }[\"useNpcs.useCallback[addDialogue]\"]);\n            if (shouldAwardBonus) {\n                awardXp(20);\n            }\n        }\n    }[\"useNpcs.useCallback[addDialogue]\"], [\n        awardXp,\n        updateNpc\n    ]);\n    const resetNpcs = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useNpcs.useCallback[resetNpcs]\": ()=>{\n            setNpcs((0,_lib_npcs__WEBPACK_IMPORTED_MODULE_2__.cloneDefaultNpcs)());\n            setAchievements([]);\n        }\n    }[\"useNpcs.useCallback[resetNpcs]\"], [\n        setAchievements,\n        setNpcs\n    ]);\n    return {\n        npcs,\n        achievements,\n        addNpc,\n        updateNpc,\n        removeNpc,\n        ensureNpcByName,\n        incrementDreamCount,\n        adjustTrust,\n        adjustShame,\n        addDialogue,\n        resetNpcs\n    };\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useNpcs);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VOcGNzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7cUVBRW9DO0FBQ3NCO0FBQ2dFO0FBQzVFO0FBRTlDLE1BQU1PLHVCQUF1QjtBQUV0QixTQUFTQztJQUNkLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHVCx1RUFBa0JBLENBQVEsUUFBUUMsdURBQWdCQTtJQUMxRSxNQUFNLENBQUNTLGNBQWNDLGdCQUFnQixHQUFHWCx1RUFBa0JBLENBQVdNO3NDQUFzQixJQUFNLEVBQUU7O0lBQ25HLE1BQU0sQ0FBQ00sUUFBUUMsVUFBVSxHQUFHYix1RUFBa0JBLENBQVc7c0NBQWtCLElBQU0sRUFBRTs7SUFDbkYsTUFBTSxFQUFFYyxPQUFPLEVBQUUsR0FBR1QsMkRBQVlBO0lBRWhDLE1BQU1VLFVBQVVoQixrREFBV0E7d0NBQ3pCLENBQUNpQjtZQUNDUDtnREFBUSxDQUFDUSxXQUFhRCxRQUFRQyxVQUFVQyxHQUFHO3dEQUFDLENBQUNDLE1BQVFmLHVEQUFZQSxDQUFDZTs7O1FBQ3BFO3VDQUNBO1FBQUNWO0tBQVE7SUFHWCxNQUFNVyxTQUFTckIsa0RBQVdBO3VDQUN4QixDQUFDb0I7WUFDQ0o7K0NBQVEsQ0FBQ0U7b0JBQ1AsTUFBTUksU0FBU0osU0FBU0ssSUFBSTs4REFBQyxDQUFDQyxRQUFVQSxNQUFNQyxFQUFFLEtBQUtMLElBQUlLLEVBQUU7O29CQUMzRCxPQUFPSCxTQUNISixTQUFTQyxHQUFHO3VEQUFDLENBQUNLLFFBQVdBLE1BQU1DLEVBQUUsS0FBS0wsSUFBSUssRUFBRSxHQUFHcEIsdURBQVlBLENBQUM7Z0NBQUUsR0FBR21CLEtBQUs7Z0NBQUUsR0FBR0osR0FBRzs0QkFBQyxLQUFLSTt3REFDcEY7MkJBQUlOO3dCQUFVYix1REFBWUEsQ0FBQ2U7cUJBQUs7Z0JBQ3RDOztZQUNBTCxRQUFRO1FBQ1Y7c0NBQ0E7UUFBQ0E7UUFBU0M7S0FBUTtJQUdwQixNQUFNVSxZQUFZMUIsa0RBQVdB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QUFVO0lBR2hDLE1BQU04QixjQUFjeEQsa0RBQVdBOzRDQUM3QixTQUFDMkIsT0FBZThCO2dCQUFjQyx3RUFBZSxJQUFJckIsT0FBT3NCLFdBQVc7WUFDakUsSUFBSSxDQUFDRixLQUFLRyxJQUFJLElBQUk7WUFDbEIsTUFBTUMsV0FBMEJ6RCw0REFBaUJBLENBQUM7Z0JBQ2hEcUIsSUFBSSxPQUFrQ1csT0FBM0JDLEtBQUtDLEdBQUcsR0FBR0MsUUFBUSxDQUFDLEtBQUksS0FBMEMsT0FBdkNILEtBQUtJLE1BQU0sR0FBR0QsUUFBUSxDQUFDLElBQUlFLEtBQUssQ0FBQyxHQUFHO2dCQUMxRWdCLE1BQU1BLEtBQUtHLElBQUk7Z0JBQ2ZGO1lBQ0Y7WUFDQSxJQUFJSSxtQkFBbUI7WUFDdkJwQyxVQUFVQztvREFBTyxDQUFDUDtvQkFDaEIwQyxtQkFBbUIxQyxJQUFJMkIsU0FBUyxDQUFDZ0IsTUFBTSxLQUFLO29CQUM1QyxPQUFPO3dCQUNMLEdBQUczQyxHQUFHO3dCQUNOMkIsV0FBVzsrQkFBSTNCLElBQUkyQixTQUFTOzRCQUFFYzt5QkFBUztvQkFDekM7Z0JBQ0Y7O1lBQ0EsSUFBSUMsa0JBQWtCO2dCQUNwQi9DLFFBQVE7WUFDVjtRQUNGOzJDQUNBO1FBQUNBO1FBQVNXO0tBQVU7SUFHdEIsTUFBTXNDLFlBQVloRSxrREFBV0E7MENBQUM7WUFDNUJVLFFBQVFSLDJEQUFnQkE7WUFDeEJVLGdCQUFnQixFQUFFO1FBQ3BCO3lDQUFHO1FBQUNBO1FBQWlCRjtLQUFRO0lBRTdCLE9BQU87UUFDTEQ7UUFDQUU7UUFDQVU7UUFDQUs7UUFDQUU7UUFDQUU7UUFDQW1CO1FBQ0FHO1FBQ0FHO1FBQ0FDO1FBQ0FRO0lBQ0Y7QUFDRjtBQUVBLGlFQUFleEQsT0FBT0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlTnBjcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUGVyc2lzdGVudFN0YXRlIH0gZnJvbSAnLi91c2VQZXJzaXN0ZW50U3RhdGUnO1xuaW1wb3J0IHsgY2xvbmVEZWZhdWx0TnBjcywgY2xhbXBNZXRlciwgbm9ybWFsaXNlRGlhbG9ndWUsIG5vcm1hbGlzZU5wYywgdHlwZSBEaWFsb2d1ZUVudHJ5LCB0eXBlIE5wYyB9IGZyb20gJy4uL2xpYi9ucGNzJztcbmltcG9ydCB7IHVzZUludmVudG9yeSB9IGZyb20gJy4vdXNlSW52ZW50b3J5JztcblxuY29uc3QgTlBDX0FDSElFVkVNRU5UU19LRVkgPSAnbnBjQWNoaWV2ZW1lbnRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZU5wY3MoKSB7XG4gIGNvbnN0IFtucGNzLCBzZXROcGNzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxOcGNbXT4oJ25wY3MnLCBjbG9uZURlZmF1bHROcGNzKTtcbiAgY29uc3QgW2FjaGlldmVtZW50cywgc2V0QWNoaWV2ZW1lbnRzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxzdHJpbmdbXT4oTlBDX0FDSElFVkVNRU5UU19LRVksICgpID0+IFtdKTtcbiAgY29uc3QgW3RpdGxlcywgc2V0VGl0bGVzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxzdHJpbmdbXT4oJ3RpdGxlc1VubG9ja2VkJywgKCkgPT4gW10pO1xuICBjb25zdCB7IGF3YXJkWHAgfSA9IHVzZUludmVudG9yeSgpO1xuXG4gIGNvbnN0IHNldFNhZmUgPSB1c2VDYWxsYmFjayhcbiAgICAodXBkYXRlcjogKHByZXZpb3VzOiBOcGNbXSkgPT4gTnBjW10pID0+IHtcbiAgICAgIHNldE5wY3MoKHByZXZpb3VzKSA9PiB1cGRhdGVyKHByZXZpb3VzKS5tYXAoKG5wYykgPT4gbm9ybWFsaXNlTnBjKG5wYykpKTtcbiAgICB9LFxuICAgIFtzZXROcGNzXVxuICApO1xuXG4gIGNvbnN0IGFkZE5wYyA9IHVzZUNhbGxiYWNrKFxuICAgIChucGM6IE5wYykgPT4ge1xuICAgICAgc2V0U2FmZSgocHJldmlvdXMpID0+IHtcbiAgICAgICAgY29uc3QgZXhpc3RzID0gcHJldmlvdXMuc29tZSgoZW50cnkpID0+IGVudHJ5LmlkID09PSBucGMuaWQpO1xuICAgICAgICByZXR1cm4gZXhpc3RzXG4gICAgICAgICAgPyBwcmV2aW91cy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5wYy5pZCA/IG5vcm1hbGlzZU5wYyh7IC4uLmVudHJ5LCAuLi5ucGMgfSkgOiBlbnRyeSkpXG4gICAgICAgICAgOiBbLi4ucHJldmlvdXMsIG5vcm1hbGlzZU5wYyhucGMpXTtcbiAgICAgIH0pO1xuICAgICAgYXdhcmRYcCgxMCk7XG4gICAgfSxcbiAgICBbYXdhcmRYcCwgc2V0U2FmZV1cbiAgKTtcblxuICBjb25zdCB1cGRhdGVOcGMgPSB1c2VDYWxsYmFjayhcbiAgICAobnBjSWQ6IHN0cmluZywgdXBkYXRlcjogKG5wYzogTnBjKSA9PiBOcGMpID0+IHtcbiAgICAgIHNldFNhZmUoKHByZXZpb3VzKSA9PlxuICAgICAgICBwcmV2aW91cy5tYXAoKGVudHJ5KSA9PiAoZW50cnkuaWQgPT09IG5wY0lkID8gbm9ybWFsaXNlTnBjKHVwZGF0ZXIoeyAuLi5lbnRyeSB9KSkgOiBlbnRyeSkpXG4gICAgICApO1xuICAgIH0sXG4gICAgW3NldFNhZmVdXG4gICk7XG5cbiAgY29uc3QgcmVtb3ZlTnBjID0gdXNlQ2FsbGJhY2soXG4gICAgKG5wY0lkOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldFNhZmUoKHByZXZpb3VzKSA9PiBwcmV2aW91cy5maWx0ZXIoKG5wYykgPT4gbnBjLmlkICE9PSBucGNJZCkpO1xuICAgIH0sXG4gICAgW3NldFNhZmVdXG4gICk7XG5cbiAgY29uc3QgZW5zdXJlTnBjQnlOYW1lID0gdXNlQ2FsbGJhY2soXG4gICAgKG5hbWU6IHN0cmluZywgcm9sZTogc3RyaW5nID0gJ0ZyaWVuZCcpID0+IHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gbnBjcy5maW5kKChucGMpID0+IG5wYy5uYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICBpZiAoZXhpc3RpbmcpIHJldHVybiBleGlzdGluZztcbiAgICAgIGNvbnN0IGlkID0gYG5wYy0ke0RhdGUubm93KCkudG9TdHJpbmcoMzYpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsIDYpfWA7XG4gICAgICBjb25zdCBuZXdOcGM6IE5wYyA9IHtcbiAgICAgICAgaWQsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHJvbGUsXG4gICAgICAgIGRyZWFtQ291bnQ6IDAsXG4gICAgICAgIHRydXN0OiAzMCxcbiAgICAgICAgc2hhbWU6IDEwLFxuICAgICAgICBiaW86ICcnLFxuICAgICAgICBkaWFsb2d1ZXM6IFtdLFxuICAgICAgfTtcbiAgICAgIGNvbnN0IG5vcm1hbGlzZWQgPSBub3JtYWxpc2VOcGMobmV3TnBjKTtcbiAgICAgIHNldFNhZmUoKHByZXZpb3VzKSA9PiBbLi4ucHJldmlvdXMsIG5vcm1hbGlzZWRdKTtcbiAgICAgIHJldHVybiBub3JtYWxpc2VkO1xuICAgIH0sXG4gICAgW25wY3MsIHNldFNhZmVdXG4gICk7XG5cbiAgY29uc3QgaW5jcmVtZW50RHJlYW1Db3VudCA9IHVzZUNhbGxiYWNrKFxuICAgIChucGNJZDogc3RyaW5nLCBhbW91bnQ6IG51bWJlciA9IDEpID0+IHtcbiAgICAgIGlmIChhbW91bnQgPT09IDApIHJldHVybjtcbiAgICAgIHVwZGF0ZU5wYyhucGNJZCwgKG5wYykgPT4gKHtcbiAgICAgICAgLi4ubnBjLFxuICAgICAgICBkcmVhbUNvdW50OiBNYXRoLm1heCgwLCBucGMuZHJlYW1Db3VudCArIGFtb3VudCksXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbdXBkYXRlTnBjXVxuICApO1xuXG4gIGNvbnN0IGFkanVzdFRydXN0ID0gdXNlQ2FsbGJhY2soXG4gICAgKG5wY0lkOiBzdHJpbmcsIGRlbHRhOiBudW1iZXIpID0+IHtcbiAgICAgIGlmIChkZWx0YSA9PT0gMCkgcmV0dXJuO1xuICAgICAgdXBkYXRlTnBjKG5wY0lkLCAobnBjKSA9PiB7XG4gICAgICAgIGNvbnN0IHRydXN0ID0gY2xhbXBNZXRlcihucGMudHJ1c3QgKyBkZWx0YSk7XG4gICAgICAgIGlmICh0cnVzdCA+PSAxMDAgJiYgIWFjaGlldmVtZW50cy5pbmNsdWRlcygnQm9uZGVkIERyZWFtZXInKSkge1xuICAgICAgICAgIHNldEFjaGlldmVtZW50cygocHJldmlvdXMpID0+IChwcmV2aW91cy5pbmNsdWRlcygnQm9uZGVkIERyZWFtZXInKSA/IHByZXZpb3VzIDogWy4uLnByZXZpb3VzLCAnQm9uZGVkIERyZWFtZXInXSkpO1xuICAgICAgICAgIGF3YXJkWHAoMjUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IC4uLm5wYywgdHJ1c3QgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2FjaGlldmVtZW50cywgYXdhcmRYcCwgc2V0QWNoaWV2ZW1lbnRzLCB1cGRhdGVOcGNdXG4gICk7XG5cbiAgY29uc3QgYWRqdXN0U2hhbWUgPSB1c2VDYWxsYmFjayhcbiAgICAobnBjSWQ6IHN0cmluZywgZGVsdGE6IG51bWJlcikgPT4ge1xuICAgICAgaWYgKGRlbHRhID09PSAwKSByZXR1cm47XG4gICAgICB1cGRhdGVOcGMobnBjSWQsIChucGMpID0+IHtcbiAgICAgICAgY29uc3Qgc2hhbWUgPSBjbGFtcE1ldGVyKG5wYy5zaGFtZSArIGRlbHRhKTtcbiAgICAgICAgaWYgKHNoYW1lID49IDEwMCAmJiAhdGl0bGVzLmluY2x1ZGVzKCdXb3J0aGxlc3MgVG95JykpIHtcbiAgICAgICAgICBzZXRUaXRsZXMoKHByZXZpb3VzKSA9PiAocHJldmlvdXMuaW5jbHVkZXMoJ1dvcnRobGVzcyBUb3knKSA/IHByZXZpb3VzIDogWy4uLnByZXZpb3VzLCAnV29ydGhsZXNzIFRveSddKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgLi4ubnBjLCBzaGFtZSB9O1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbc2V0VGl0bGVzLCB0aXRsZXMsIHVwZGF0ZU5wY11cbiAgKTtcblxuICBjb25zdCBhZGREaWFsb2d1ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChucGNJZDogc3RyaW5nLCB0ZXh0OiBzdHJpbmcsIGRhdGU6IHN0cmluZyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSkgPT4ge1xuICAgICAgaWYgKCF0ZXh0LnRyaW0oKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZGlhbG9ndWU6IERpYWxvZ3VlRW50cnkgPSBub3JtYWxpc2VEaWFsb2d1ZSh7XG4gICAgICAgIGlkOiBgZGxnLSR7RGF0ZS5ub3coKS50b1N0cmluZygzNil9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiwgNil9YCxcbiAgICAgICAgdGV4dDogdGV4dC50cmltKCksXG4gICAgICAgIGRhdGUsXG4gICAgICB9KTtcbiAgICAgIGxldCBzaG91bGRBd2FyZEJvbnVzID0gZmFsc2U7XG4gICAgICB1cGRhdGVOcGMobnBjSWQsIChucGMpID0+IHtcbiAgICAgICAgc2hvdWxkQXdhcmRCb251cyA9IG5wYy5kaWFsb2d1ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLm5wYyxcbiAgICAgICAgICBkaWFsb2d1ZXM6IFsuLi5ucGMuZGlhbG9ndWVzLCBkaWFsb2d1ZV0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGlmIChzaG91bGRBd2FyZEJvbnVzKSB7XG4gICAgICAgIGF3YXJkWHAoMjApO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2F3YXJkWHAsIHVwZGF0ZU5wY11cbiAgKTtcblxuICBjb25zdCByZXNldE5wY3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0TnBjcyhjbG9uZURlZmF1bHROcGNzKCkpO1xuICAgIHNldEFjaGlldmVtZW50cyhbXSk7XG4gIH0sIFtzZXRBY2hpZXZlbWVudHMsIHNldE5wY3NdKTtcblxuICByZXR1cm4ge1xuICAgIG5wY3MsXG4gICAgYWNoaWV2ZW1lbnRzLFxuICAgIGFkZE5wYyxcbiAgICB1cGRhdGVOcGMsXG4gICAgcmVtb3ZlTnBjLFxuICAgIGVuc3VyZU5wY0J5TmFtZSxcbiAgICBpbmNyZW1lbnREcmVhbUNvdW50LFxuICAgIGFkanVzdFRydXN0LFxuICAgIGFkanVzdFNoYW1lLFxuICAgIGFkZERpYWxvZ3VlLFxuICAgIHJlc2V0TnBjcyxcbiAgfSBhcyBjb25zdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdXNlTnBjcztcbiJdLCJuYW1lcyI6WyJ1c2VDYWxsYmFjayIsInVzZVBlcnNpc3RlbnRTdGF0ZSIsImNsb25lRGVmYXVsdE5wY3MiLCJjbGFtcE1ldGVyIiwibm9ybWFsaXNlRGlhbG9ndWUiLCJub3JtYWxpc2VOcGMiLCJ1c2VJbnZlbnRvcnkiLCJOUENfQUNISUVWRU1FTlRTX0tFWSIsInVzZU5wY3MiLCJucGNzIiwic2V0TnBjcyIsImFjaGlldmVtZW50cyIsInNldEFjaGlldmVtZW50cyIsInRpdGxlcyIsInNldFRpdGxlcyIsImF3YXJkWHAiLCJzZXRTYWZlIiwidXBkYXRlciIsInByZXZpb3VzIiwibWFwIiwibnBjIiwiYWRkTnBjIiwiZXhpc3RzIiwic29tZSIsImVudHJ5IiwiaWQiLCJ1cGRhdGVOcGMiLCJucGNJZCIsInJlbW92ZU5wYyIsImZpbHRlciIsImVuc3VyZU5wY0J5TmFtZSIsIm5hbWUiLCJyb2xlIiwiZXhpc3RpbmciLCJmaW5kIiwidG9Mb3dlckNhc2UiLCJNYXRoIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwicmFuZG9tIiwic2xpY2UiLCJuZXdOcGMiLCJkcmVhbUNvdW50IiwidHJ1c3QiLCJzaGFtZSIsImJpbyIsImRpYWxvZ3VlcyIsIm5vcm1hbGlzZWQiLCJpbmNyZW1lbnREcmVhbUNvdW50IiwiYW1vdW50IiwibWF4IiwiYWRqdXN0VHJ1c3QiLCJkZWx0YSIsImluY2x1ZGVzIiwiYWRqdXN0U2hhbWUiLCJhZGREaWFsb2d1ZSIsInRleHQiLCJkYXRlIiwidG9JU09TdHJpbmciLCJ0cmltIiwiZGlhbG9ndWUiLCJzaG91bGRBd2FyZEJvbnVzIiwibGVuZ3RoIiwicmVzZXROcGNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useNpcs.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/usePersistentState.ts":
/*!*****************************************!*\
  !*** ./app/hooks/usePersistentState.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePersistentState: () => (/* binding */ usePersistentState)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* __next_internal_client_entry_do_not_use__ usePersistentState auto */ \nfunction usePersistentState(key, initializer) {\n    const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"usePersistentState.useState\": ()=>{\n            if (false) {}\n            try {\n                const raw = window.localStorage.getItem(key);\n                if (!raw) {\n                    const value = initializer();\n                    window.localStorage.setItem(key, JSON.stringify(value));\n                    return value;\n                }\n                return JSON.parse(raw);\n            } catch (error) {\n                console.warn(\"[usePersistentState] failed to read \".concat(key), error);\n                const value = initializer();\n                if (true) {\n                    try {\n                        window.localStorage.setItem(key, JSON.stringify(value));\n                    } catch (writeError) {\n                        console.warn(\"[usePersistentState] failed to write fallback for \".concat(key), writeError);\n                    }\n                }\n                return value;\n            }\n        }\n    }[\"usePersistentState.useState\"]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"usePersistentState.useEffect\": ()=>{\n            if (false) {}\n            try {\n                window.localStorage.setItem(key, JSON.stringify(state));\n            } catch (error) {\n                console.warn(\"[usePersistentState] failed to persist \".concat(key), error);\n            }\n        }\n    }[\"usePersistentState.useEffect\"], [\n        key,\n        state\n    ]);\n    return [\n        state,\n        setState\n    ];\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VQZXJzaXN0ZW50U3RhdGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O3dFQUU0QztBQUlyQyxTQUFTRSxtQkFDZEMsR0FBVyxFQUNYQyxXQUEyQjtJQUUzQixNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBR0wsK0NBQVFBO3VDQUFJO1lBQ3BDLElBQUksS0FBNkIsRUFBRSxFQUVsQztZQUNELElBQUk7Z0JBQ0YsTUFBTU0sTUFBTUMsT0FBT0MsWUFBWSxDQUFDQyxPQUFPLENBQUNQO2dCQUN4QyxJQUFJLENBQUNJLEtBQUs7b0JBQ1IsTUFBTUksUUFBUVA7b0JBQ2RJLE9BQU9DLFlBQVksQ0FBQ0csT0FBTyxDQUFDVCxLQUFLVSxLQUFLQyxTQUFTLENBQUNIO29CQUNoRCxPQUFPQTtnQkFDVDtnQkFDQSxPQUFPRSxLQUFLRSxLQUFLLENBQUNSO1lBQ3BCLEVBQUUsT0FBT1MsT0FBTztnQkFDZEMsUUFBUUMsSUFBSSxDQUFDLHVDQUEyQyxPQUFKZixNQUFPYTtnQkFDM0QsTUFBTUwsUUFBUVA7Z0JBQ2QsSUFBSSxJQUE2QixFQUFFO29CQUNqQyxJQUFJO3dCQUNGSSxPQUFPQyxZQUFZLENBQUNHLE9BQU8sQ0FBQ1QsS0FBS1UsS0FBS0MsU0FBUyxDQUFDSDtvQkFDbEQsRUFBRSxPQUFPUSxZQUFZO3dCQUNuQkYsUUFBUUMsSUFBSSxDQUFDLHFEQUF5RCxPQUFKZixNQUFPZ0I7b0JBQzNFO2dCQUNGO2dCQUNBLE9BQU9SO1lBQ1Q7UUFDRjs7SUFFQVgsZ0RBQVNBO3dDQUFDO1lBQ1IsSUFBSSxLQUE2QixFQUFFLEVBQU87WUFDMUMsSUFBSTtnQkFDRlEsT0FBT0MsWUFBWSxDQUFDRyxPQUFPLENBQUNULEtBQUtVLEtBQUtDLFNBQVMsQ0FBQ1Q7WUFDbEQsRUFBRSxPQUFPVyxPQUFPO2dCQUNkQyxRQUFRQyxJQUFJLENBQUMsMENBQThDLE9BQUpmLE1BQU9hO1lBQ2hFO1FBQ0Y7dUNBQUc7UUFBQ2I7UUFBS0U7S0FBTTtJQUVmLE9BQU87UUFBQ0E7UUFBT0M7S0FBUztBQUMxQiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlUGVyc2lzdGVudFN0YXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIEluaXRpYWxpemVyPFQ+ID0gKCkgPT4gVDtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVBlcnNpc3RlbnRTdGF0ZTxUPihcbiAga2V5OiBzdHJpbmcsXG4gIGluaXRpYWxpemVyOiBJbml0aWFsaXplcjxUPlxuKSB7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGU8VD4oKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gaW5pdGlhbGl6ZXIoKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJhdyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgaWYgKCFyYXcpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsaXplcigpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpIGFzIFQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW3VzZVBlcnNpc3RlbnRTdGF0ZV0gZmFpbGVkIHRvIHJlYWQgJHtrZXl9YCwgZXJyb3IpO1xuICAgICAgY29uc3QgdmFsdWUgPSBpbml0aWFsaXplcigpO1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICB9IGNhdGNoICh3cml0ZUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBbdXNlUGVyc2lzdGVudFN0YXRlXSBmYWlsZWQgdG8gd3JpdGUgZmFsbGJhY2sgZm9yICR7a2V5fWAsIHdyaXRlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW3VzZVBlcnNpc3RlbnRTdGF0ZV0gZmFpbGVkIHRvIHBlcnNpc3QgJHtrZXl9YCwgZXJyb3IpO1xuICAgIH1cbiAgfSwgW2tleSwgc3RhdGVdKTtcblxuICByZXR1cm4gW3N0YXRlLCBzZXRTdGF0ZV0gYXMgY29uc3Q7XG59XG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VQZXJzaXN0ZW50U3RhdGUiLCJrZXkiLCJpbml0aWFsaXplciIsInN0YXRlIiwic2V0U3RhdGUiLCJyYXciLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidmFsdWUiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsIndyaXRlRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/usePersistentState.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/usePunishments.ts":
/*!*************************************!*\
  !*** ./app/hooks/usePunishments.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   usePunishments: () => (/* binding */ usePunishments)\n/* harmony export */ });\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _data_punishments_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/punishments.json */ \"(app-pages-browser)/./data/punishments.json\");\n/* __next_internal_client_entry_do_not_use__ usePunishments auto */ \n\nconst PUNISHMENTS_STORAGE_KEY = 'punishments';\nconst ACTIVE_PUNISHMENTS_STORAGE_KEY = 'activePunishments';\nfunction usePunishments() {\n    const [punishments, setPunishments] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_0__.usePersistentState)(PUNISHMENTS_STORAGE_KEY, {\n        \"usePunishments.usePersistentState\": ()=>_data_punishments_json__WEBPACK_IMPORTED_MODULE_1__\n    }[\"usePunishments.usePersistentState\"]);\n    const [activePunishments, setActivePunishments] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_0__.usePersistentState)(ACTIVE_PUNISHMENTS_STORAGE_KEY, {\n        \"usePunishments.usePersistentState\": ()=>[]\n    }[\"usePunishments.usePersistentState\"]);\n    const assignPunishment = (punishmentId)=>{\n        const punishment = punishments.find((p)=>p.id === punishmentId);\n        if (punishment && !activePunishments.some((p)=>p.id === punishmentId)) {\n            const newActivePunishment = {\n                ...punishment,\n                assignedAt: new Date().toISOString()\n            };\n            setActivePunishments((prev)=>[\n                    ...prev,\n                    newActivePunishment\n                ]);\n            return newActivePunishment;\n        }\n        return null;\n    };\n    const completePunishment = (punishmentId)=>{\n        setActivePunishments((prev)=>prev.filter((p)=>p.id !== punishmentId));\n    };\n    return {\n        punishments,\n        activePunishments,\n        assignPunishment,\n        completePunishment\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VQdW5pc2htZW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7b0VBRTBEO0FBQ0c7QUFZN0QsTUFBTUUsMEJBQTBCO0FBQ2hDLE1BQU1DLGlDQUFpQztBQUVoQyxTQUFTQztJQUNkLE1BQU0sQ0FBQ0MsYUFBYUMsZUFBZSxHQUFHTix1RUFBa0JBLENBQ3RERTs2Q0FDQSxJQUFNRCxtREFBa0JBOztJQUcxQixNQUFNLENBQUNNLG1CQUFtQkMscUJBQXFCLEdBQUdSLHVFQUFrQkEsQ0FDbEVHOzZDQUNBLElBQU0sRUFBRTs7SUFHVixNQUFNTSxtQkFBbUIsQ0FBQ0M7UUFDeEIsTUFBTUMsYUFBYU4sWUFBWU8sSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxFQUFFLEtBQUtKO1FBQ2xELElBQUlDLGNBQWMsQ0FBQ0osa0JBQWtCUSxJQUFJLENBQUNGLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBS0osZUFBZTtZQUNyRSxNQUFNTSxzQkFBd0M7Z0JBQzVDLEdBQUdMLFVBQVU7Z0JBQ2JNLFlBQVksSUFBSUMsT0FBT0MsV0FBVztZQUNwQztZQUNBWCxxQkFBcUJZLENBQUFBLE9BQVE7dUJBQUlBO29CQUFNSjtpQkFBb0I7WUFDM0QsT0FBT0E7UUFDVDtRQUNBLE9BQU87SUFDVDtJQUVBLE1BQU1LLHFCQUFxQixDQUFDWDtRQUMxQkYscUJBQXFCWSxDQUFBQSxPQUFRQSxLQUFLRSxNQUFNLENBQUNULENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBS0o7SUFDekQ7SUFFQSxPQUFPO1FBQ0xMO1FBQ0FFO1FBQ0FFO1FBQ0FZO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlUHVuaXNobWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlUGVyc2lzdGVudFN0YXRlIH0gZnJvbSAnLi91c2VQZXJzaXN0ZW50U3RhdGUnO1xyXG5pbXBvcnQgZGVmYXVsdFB1bmlzaG1lbnRzIGZyb20gJy4uLy4uL2RhdGEvcHVuaXNobWVudHMuanNvbic7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFB1bmlzaG1lbnQge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZlUHVuaXNobWVudCBleHRlbmRzIFB1bmlzaG1lbnQge1xyXG4gIGFzc2lnbmVkQXQ6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgUFVOSVNITUVOVFNfU1RPUkFHRV9LRVkgPSAncHVuaXNobWVudHMnO1xyXG5jb25zdCBBQ1RJVkVfUFVOSVNITUVOVFNfU1RPUkFHRV9LRVkgPSAnYWN0aXZlUHVuaXNobWVudHMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVB1bmlzaG1lbnRzKCkge1xyXG4gIGNvbnN0IFtwdW5pc2htZW50cywgc2V0UHVuaXNobWVudHNdID0gdXNlUGVyc2lzdGVudFN0YXRlPFB1bmlzaG1lbnRbXT4oXHJcbiAgICBQVU5JU0hNRU5UU19TVE9SQUdFX0tFWSxcclxuICAgICgpID0+IGRlZmF1bHRQdW5pc2htZW50c1xyXG4gICk7XHJcblxyXG4gIGNvbnN0IFthY3RpdmVQdW5pc2htZW50cywgc2V0QWN0aXZlUHVuaXNobWVudHNdID0gdXNlUGVyc2lzdGVudFN0YXRlPEFjdGl2ZVB1bmlzaG1lbnRbXT4oXHJcbiAgICBBQ1RJVkVfUFVOSVNITUVOVFNfU1RPUkFHRV9LRVksXHJcbiAgICAoKSA9PiBbXVxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGFzc2lnblB1bmlzaG1lbnQgPSAocHVuaXNobWVudElkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHB1bmlzaG1lbnQgPSBwdW5pc2htZW50cy5maW5kKHAgPT4gcC5pZCA9PT0gcHVuaXNobWVudElkKTtcclxuICAgIGlmIChwdW5pc2htZW50ICYmICFhY3RpdmVQdW5pc2htZW50cy5zb21lKHAgPT4gcC5pZCA9PT0gcHVuaXNobWVudElkKSkge1xyXG4gICAgICBjb25zdCBuZXdBY3RpdmVQdW5pc2htZW50OiBBY3RpdmVQdW5pc2htZW50ID0ge1xyXG4gICAgICAgIC4uLnB1bmlzaG1lbnQsXHJcbiAgICAgICAgYXNzaWduZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB9O1xyXG4gICAgICBzZXRBY3RpdmVQdW5pc2htZW50cyhwcmV2ID0+IFsuLi5wcmV2LCBuZXdBY3RpdmVQdW5pc2htZW50XSk7XHJcbiAgICAgIHJldHVybiBuZXdBY3RpdmVQdW5pc2htZW50O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY29tcGxldGVQdW5pc2htZW50ID0gKHB1bmlzaG1lbnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRBY3RpdmVQdW5pc2htZW50cyhwcmV2ID0+IHByZXYuZmlsdGVyKHAgPT4gcC5pZCAhPT0gcHVuaXNobWVudElkKSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHB1bmlzaG1lbnRzLFxyXG4gICAgYWN0aXZlUHVuaXNobWVudHMsXHJcbiAgICBhc3NpZ25QdW5pc2htZW50LFxyXG4gICAgY29tcGxldGVQdW5pc2htZW50LFxyXG4gIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZVBlcnNpc3RlbnRTdGF0ZSIsImRlZmF1bHRQdW5pc2htZW50cyIsIlBVTklTSE1FTlRTX1NUT1JBR0VfS0VZIiwiQUNUSVZFX1BVTklTSE1FTlRTX1NUT1JBR0VfS0VZIiwidXNlUHVuaXNobWVudHMiLCJwdW5pc2htZW50cyIsInNldFB1bmlzaG1lbnRzIiwiYWN0aXZlUHVuaXNobWVudHMiLCJzZXRBY3RpdmVQdW5pc2htZW50cyIsImFzc2lnblB1bmlzaG1lbnQiLCJwdW5pc2htZW50SWQiLCJwdW5pc2htZW50IiwiZmluZCIsInAiLCJpZCIsInNvbWUiLCJuZXdBY3RpdmVQdW5pc2htZW50IiwiYXNzaWduZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInByZXYiLCJjb21wbGV0ZVB1bmlzaG1lbnQiLCJmaWx0ZXIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/usePunishments.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useQuestlines.ts":
/*!************************************!*\
  !*** ./app/hooks/useQuestlines.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useQuestlines: () => (/* binding */ useQuestlines)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _useBuffs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useBuffs */ \"(app-pages-browser)/./app/hooks/useBuffs.ts\");\n/* harmony import */ var _useInventory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useInventory */ \"(app-pages-browser)/./app/hooks/useInventory.ts\");\n/* harmony import */ var _useCompanions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useCompanions */ \"(app-pages-browser)/./app/hooks/useCompanions.ts\");\n/* harmony import */ var _useNpcs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useNpcs */ \"(app-pages-browser)/./app/hooks/useNpcs.ts\");\n/* harmony import */ var _lib_questlines__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/questlines */ \"(app-pages-browser)/./app/lib/questlines.ts\");\n/* __next_internal_client_entry_do_not_use__ useQuestlines auto */ \n\n\n\n\n\n\nconst TITLES_STORAGE_KEY = \"titlesUnlocked\";\nfunction cloneStage(stage) {\n    var _stage_branchChoices;\n    var _stage_branchChoices_map;\n    return {\n        ...stage,\n        branchChoices: (_stage_branchChoices_map = (_stage_branchChoices = stage.branchChoices) === null || _stage_branchChoices === void 0 ? void 0 : _stage_branchChoices.map((branch)=>({\n                ...branch\n            }))) !== null && _stage_branchChoices_map !== void 0 ? _stage_branchChoices_map : undefined\n    };\n}\nfunction useQuestlines() {\n    const [questlines, setQuestlines] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"questlines\", _lib_questlines__WEBPACK_IMPORTED_MODULE_6__.cloneDefaultQuestlines);\n    const [xp, setXp] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"xpTotal\", {\n        \"useQuestlines.usePersistentState\": ()=>3400\n    }[\"useQuestlines.usePersistentState\"]);\n    const [titles, setTitles] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(TITLES_STORAGE_KEY, {\n        \"useQuestlines.usePersistentState\": ()=>[]\n    }[\"useQuestlines.usePersistentState\"]);\n    const { applyEvent, triggerBuffBySource } = (0,_useBuffs__WEBPACK_IMPORTED_MODULE_2__.useBuffs)();\n    const { gainItem } = (0,_useInventory__WEBPACK_IMPORTED_MODULE_3__.useInventory)();\n    const { companions, gainXpForCompanions } = (0,_useCompanions__WEBPACK_IMPORTED_MODULE_4__.useCompanions)();\n    const { npcs, adjustTrust: adjustNpcTrust } = (0,_useNpcs__WEBPACK_IMPORTED_MODULE_5__.useNpcs)();\n    const awardTitle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[awardTitle]\": (title)=>{\n            if (!title || title.trim().length === 0) return;\n            setTitles({\n                \"useQuestlines.useCallback[awardTitle]\": (prev)=>prev.includes(title) ? prev : [\n                        ...prev,\n                        title\n                    ]\n            }[\"useQuestlines.useCallback[awardTitle]\"]);\n        }\n    }[\"useQuestlines.useCallback[awardTitle]\"], [\n        setTitles\n    ]);\n    const awardReward = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[awardReward]\": (reward)=>{\n            if (!reward) return;\n            if (reward.xp && reward.xp > 0) {\n                const rewarded = applyEvent(\"xp\", reward.xp);\n                if (rewarded > 0) {\n                    setXp({\n                        \"useQuestlines.useCallback[awardReward]\": (prev)=>prev + rewarded\n                    }[\"useQuestlines.useCallback[awardReward]\"]);\n                }\n            }\n            if (reward.item) {\n                gainItem(reward.item, 1);\n            }\n            if (reward.buff) {\n                triggerBuffBySource(reward.buff);\n            }\n            if (reward.title) {\n                awardTitle(reward.title);\n            }\n        }\n    }[\"useQuestlines.useCallback[awardReward]\"], [\n        applyEvent,\n        awardTitle,\n        gainItem,\n        setXp,\n        triggerBuffBySource\n    ]);\n    const updateQuestline = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[updateQuestline]\": (questlineId, updater)=>{\n            setQuestlines({\n                \"useQuestlines.useCallback[updateQuestline]\": (previous)=>previous.map({\n                        \"useQuestlines.useCallback[updateQuestline]\": (questline)=>questline.id === questlineId ? updater((0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.cloneQuestline)(questline)) : questline\n                    }[\"useQuestlines.useCallback[updateQuestline]\"])\n            }[\"useQuestlines.useCallback[updateQuestline]\"]);\n        }\n    }[\"useQuestlines.useCallback[updateQuestline]\"], [\n        setQuestlines\n    ]);\n    const mutateStage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[mutateStage]\": (questlineId, stageId, mutator)=>{\n            updateQuestline(questlineId, {\n                \"useQuestlines.useCallback[mutateStage]\": (questline)=>({\n                        ...questline,\n                        stages: questline.stages.map({\n                            \"useQuestlines.useCallback[mutateStage]\": (stage)=>stage.id === stageId ? mutator(cloneStage(stage)) : stage\n                        }[\"useQuestlines.useCallback[mutateStage]\"])\n                    })\n            }[\"useQuestlines.useCallback[mutateStage]\"]);\n        }\n    }[\"useQuestlines.useCallback[mutateStage]\"], [\n        updateQuestline\n    ]);\n    const completeStage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[completeStage]\": (questlineId, stageId, branchId)=>{\n            let completion = \"completed\";\n            setQuestlines({\n                \"useQuestlines.useCallback[completeStage]\": (previous)=>previous.map({\n                        \"useQuestlines.useCallback[completeStage]\": (questline)=>{\n                            if (questline.id !== questlineId) {\n                                return questline;\n                            }\n                            const working = (0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.cloneQuestline)(questline);\n                            const located = (0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.findStage)(working, stageId);\n                            if (!located) {\n                                return questline;\n                            }\n                            const { stage, index } = located;\n                            if (stage.completed) {\n                                completion = \"already-completed\";\n                                return questline;\n                            }\n                            if (stage.branchChoices && stage.branchChoices.length > 0) {\n                                var _ref;\n                                const chosen = (_ref = branchId !== null && branchId !== void 0 ? branchId : stage.chosenBranchId) !== null && _ref !== void 0 ? _ref : undefined;\n                                if (!chosen) {\n                                    completion = \"branch-required\";\n                                    return questline;\n                                }\n                                stage.chosenBranchId = chosen;\n                                const branch = stage.branchChoices.find({\n                                    \"useQuestlines.useCallback[completeStage].branch\": (option)=>option.id === chosen\n                                }[\"useQuestlines.useCallback[completeStage].branch\"]);\n                                if (branch === null || branch === void 0 ? void 0 : branch.reward) {\n                                    awardReward(branch.reward);\n                                    if (branch.reward.xp) {\n                                        gainXpForCompanions(\"quest\", branch.reward.xp);\n                                    }\n                                }\n                            }\n                            stage.completed = true;\n                            const stageReward = {\n                                xp: stage.xp,\n                                ...stage.reward\n                            };\n                            awardReward(stageReward);\n                            if (stageReward.xp) {\n                                gainXpForCompanions(\"quest\", stageReward.xp);\n                            }\n                            var _stage_title, _stage_description, _questline_name;\n                            const stageText = \"\".concat((_stage_title = stage.title) !== null && _stage_title !== void 0 ? _stage_title : '', \" \").concat((_stage_description = stage.description) !== null && _stage_description !== void 0 ? _stage_description : '', \" \").concat((_questline_name = questline.name) !== null && _questline_name !== void 0 ? _questline_name : '').toLowerCase();\n                            npcs.forEach({\n                                \"useQuestlines.useCallback[completeStage]\": (npc)=>{\n                                    if (stageText.includes(npc.name.toLowerCase())) {\n                                        adjustNpcTrust(npc.id, 5);\n                                    }\n                                }\n                            }[\"useQuestlines.useCallback[completeStage]\"]);\n                            working.stages[index] = stage;\n                            if ((0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.isQuestlineComplete)(working)) {\n                                working.completed = true;\n                                if (working.reward) {\n                                    awardReward(working.reward);\n                                    if (working.reward.xp) {\n                                        gainXpForCompanions(\"quest\", working.reward.xp);\n                                    }\n                                }\n                                completion = \"questline-completed\";\n                            }\n                            return working;\n                        }\n                    }[\"useQuestlines.useCallback[completeStage]\"])\n            }[\"useQuestlines.useCallback[completeStage]\"]);\n            return completion;\n        }\n    }[\"useQuestlines.useCallback[completeStage]\"], [\n        adjustNpcTrust,\n        awardReward,\n        gainXpForCompanions,\n        npcs,\n        setQuestlines\n    ]);\n    const chooseBranch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[chooseBranch]\": (questlineId, stageId, branchId)=>{\n            mutateStage(questlineId, stageId, {\n                \"useQuestlines.useCallback[chooseBranch]\": (stage)=>({\n                        ...stage,\n                        chosenBranchId: branchId\n                    })\n            }[\"useQuestlines.useCallback[chooseBranch]\"]);\n        }\n    }[\"useQuestlines.useCallback[chooseBranch]\"], [\n        mutateStage\n    ]);\n    const resetQuestline = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[resetQuestline]\": (questlineId)=>{\n            updateQuestline(questlineId, {\n                \"useQuestlines.useCallback[resetQuestline]\": (questline)=>({\n                        ...questline,\n                        completed: false,\n                        stages: questline.stages.map({\n                            \"useQuestlines.useCallback[resetQuestline]\": (stage)=>({\n                                    ...stage,\n                                    completed: false,\n                                    chosenBranchId: stage.branchChoices ? null : stage.chosenBranchId\n                                })\n                        }[\"useQuestlines.useCallback[resetQuestline]\"])\n                    })\n            }[\"useQuestlines.useCallback[resetQuestline]\"]);\n        }\n    }[\"useQuestlines.useCallback[resetQuestline]\"], [\n        updateQuestline\n    ]);\n    const addQuestline = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[addQuestline]\": (questline)=>{\n            setQuestlines({\n                \"useQuestlines.useCallback[addQuestline]\": (previous)=>[\n                        ...previous,\n                        (0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.cloneQuestline)(questline)\n                    ]\n            }[\"useQuestlines.useCallback[addQuestline]\"]);\n        }\n    }[\"useQuestlines.useCallback[addQuestline]\"], [\n        setQuestlines\n    ]);\n    const removeQuestline = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[removeQuestline]\": (questlineId)=>{\n            setQuestlines({\n                \"useQuestlines.useCallback[removeQuestline]\": (previous)=>previous.filter({\n                        \"useQuestlines.useCallback[removeQuestline]\": (questline)=>questline.id !== questlineId\n                    }[\"useQuestlines.useCallback[removeQuestline]\"])\n            }[\"useQuestlines.useCallback[removeQuestline]\"]);\n        }\n    }[\"useQuestlines.useCallback[removeQuestline]\"], [\n        setQuestlines\n    ]);\n    const addStage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[addStage]\": (questlineId, stage)=>{\n            updateQuestline(questlineId, {\n                \"useQuestlines.useCallback[addStage]\": (questline)=>({\n                        ...questline,\n                        stages: [\n                            ...questline.stages,\n                            cloneStage(stage)\n                        ]\n                    })\n            }[\"useQuestlines.useCallback[addStage]\"]);\n        }\n    }[\"useQuestlines.useCallback[addStage]\"], [\n        updateQuestline\n    ]);\n    const updateStageFields = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[updateStageFields]\": (questlineId, stageId, patch)=>{\n            mutateStage(questlineId, stageId, {\n                \"useQuestlines.useCallback[updateStageFields]\": (stage)=>({\n                        ...stage,\n                        ...patch\n                    })\n            }[\"useQuestlines.useCallback[updateStageFields]\"]);\n        }\n    }[\"useQuestlines.useCallback[updateStageFields]\"], [\n        mutateStage\n    ]);\n    const removeStage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQuestlines.useCallback[removeStage]\": (questlineId, stageId)=>{\n            updateQuestline(questlineId, {\n                \"useQuestlines.useCallback[removeStage]\": (questline)=>({\n                        ...questline,\n                        stages: questline.stages.filter({\n                            \"useQuestlines.useCallback[removeStage]\": (stage)=>stage.id !== stageId\n                        }[\"useQuestlines.useCallback[removeStage]\"])\n                    })\n            }[\"useQuestlines.useCallback[removeStage]\"]);\n        }\n    }[\"useQuestlines.useCallback[removeStage]\"], [\n        updateQuestline\n    ]);\n    const questlineSummaries = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useQuestlines.useMemo[questlineSummaries]\": ()=>questlines.map({\n                \"useQuestlines.useMemo[questlineSummaries]\": (questline)=>({\n                        questline,\n                        progress: (0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.getQuestlineProgress)(questline),\n                        activeStage: (0,_lib_questlines__WEBPACK_IMPORTED_MODULE_6__.getActiveStage)(questline)\n                    })\n            }[\"useQuestlines.useMemo[questlineSummaries]\"])\n    }[\"useQuestlines.useMemo[questlineSummaries]\"], [\n        questlines\n    ]);\n    return {\n        questlines,\n        questlineSummaries,\n        completeStage,\n        chooseBranch,\n        resetQuestline,\n        addQuestline,\n        updateQuestline,\n        removeQuestline,\n        addStage,\n        updateStage: updateStageFields,\n        removeStage,\n        mutateStage\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VRdWVzdGxpbmVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OzttRUFFNkM7QUFDYTtBQUNwQjtBQUNRO0FBQ0U7QUFDWjtBQVlUO0FBUTNCLE1BQU1hLHFCQUFxQjtBQUUzQixTQUFTQyxXQUFXQyxLQUFpQjtRQUdsQkE7UUFBQUE7SUFGakIsT0FBTztRQUNMLEdBQUdBLEtBQUs7UUFDUkMsZUFBZUQsQ0FBQUEsNEJBQUFBLHVCQUFBQSxNQUFNQyxhQUFhLGNBQW5CRCwyQ0FBQUEscUJBQXFCRSxHQUFHLENBQUMsQ0FBQ0MsU0FBWTtnQkFBRSxHQUFHQSxNQUFNO1lBQUMsaUJBQWxESCxzQ0FBQUEsMkJBQXlESTtJQUMxRTtBQUNGO0FBRU8sU0FBU0M7SUFDZCxNQUFNLENBQUNDLFlBQVlDLGNBQWMsR0FBR3BCLHVFQUFrQkEsQ0FDcEQsY0FDQUssbUVBQXNCQTtJQUV4QixNQUFNLENBQUNnQixJQUFJQyxNQUFNLEdBQUd0Qix1RUFBa0JBLENBQVM7NENBQVcsSUFBTTs7SUFDaEUsTUFBTSxDQUFDdUIsUUFBUUMsVUFBVSxHQUFHeEIsdUVBQWtCQSxDQUFXVzs0Q0FBb0IsSUFBTSxFQUFFOztJQUNyRixNQUFNLEVBQUVjLFVBQVUsRUFBRUMsbUJBQW1CLEVBQUUsR0FBR3pCLG1EQUFRQTtJQUNwRCxNQUFNLEVBQUUwQixRQUFRLEVBQUUsR0FBR3pCLDJEQUFZQTtJQUNqQyxNQUFNLEVBQUUwQixVQUFVLEVBQUVDLG1CQUFtQixFQUFFLEdBQUcxQiw2REFBYUE7SUFDekQsTUFBTSxFQUFFMkIsSUFBSSxFQUFFQyxhQUFhQyxjQUFjLEVBQUUsR0FBRzVCLGlEQUFPQTtJQUVyRCxNQUFNNkIsYUFBYW5DLGtEQUFXQTtpREFDNUIsQ0FBQ29DO1lBQ0MsSUFBSSxDQUFDQSxTQUFTQSxNQUFNQyxJQUFJLEdBQUdDLE1BQU0sS0FBSyxHQUFHO1lBQ3pDWjt5REFBVSxDQUFDYSxPQUFVQSxLQUFLQyxRQUFR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bEQ7O1FBQ0Y7OENBQ0E7UUFBQytCO0tBQWdCO0lBR25CLE1BQU1rQyxvQkFBb0JoRixrREFBV0E7d0RBQ25DLENBQUMrQyxhQUFxQk0sU0FBaUI0QjtZQUNyQzdCLFlBQVlMLGFBQWFNO2dFQUFTLENBQUN0QyxRQUFXO3dCQUM1QyxHQUFHQSxLQUFLO3dCQUNSLEdBQUdrRSxLQUFLO29CQUNWOztRQUNGO3VEQUNBO1FBQUM3QjtLQUFZO0lBR2YsTUFBTThCLGNBQWNsRixrREFBV0E7a0RBQzdCLENBQUMrQyxhQUFxQk07WUFDcEJQLGdCQUFnQkM7MERBQWEsQ0FBQ0csWUFBZTt3QkFDM0MsR0FBR0EsU0FBUzt3QkFDWkssUUFBUUwsVUFBVUssTUFBTSxDQUFDdUIsTUFBTTtzRUFBQyxDQUFDL0QsUUFBVUEsTUFBTW9DLEVBQUUsS0FBS0U7O29CQUMxRDs7UUFDRjtpREFDQTtRQUFDUDtLQUFnQjtJQUduQixNQUFNcUMscUJBQXFCbEYsOENBQU9BO3FEQUNoQyxJQUNFb0IsV0FBV0osR0FBRzs2REFBQyxDQUFDaUMsWUFBZTt3QkFDN0JBO3dCQUNBa0MsVUFBVXpFLHFFQUFvQkEsQ0FBQ3VDO3dCQUMvQm1DLGFBQWEzRSwrREFBY0EsQ0FBQ3dDO29CQUM5Qjs7b0RBQ0Y7UUFBQzdCO0tBQVc7SUFHZCxPQUFPO1FBQ0xBO1FBQ0E4RDtRQUNBM0I7UUFDQWtCO1FBQ0FDO1FBQ0FDO1FBQ0E5QjtRQUNBK0I7UUFDQUU7UUFDQU8sYUFBYU47UUFDYkU7UUFDQTlCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlUXVlc3RsaW5lcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VQZXJzaXN0ZW50U3RhdGUgfSBmcm9tIFwiLi91c2VQZXJzaXN0ZW50U3RhdGVcIjtcbmltcG9ydCB7IHVzZUJ1ZmZzIH0gZnJvbSBcIi4vdXNlQnVmZnNcIjtcbmltcG9ydCB7IHVzZUludmVudG9yeSB9IGZyb20gXCIuL3VzZUludmVudG9yeVwiO1xuaW1wb3J0IHsgdXNlQ29tcGFuaW9ucyB9IGZyb20gXCIuL3VzZUNvbXBhbmlvbnNcIjtcbmltcG9ydCB7IHVzZU5wY3MgfSBmcm9tIFwiLi91c2VOcGNzXCI7XG5pbXBvcnQge1xuICBjbG9uZURlZmF1bHRRdWVzdGxpbmVzLFxuICBjbG9uZVF1ZXN0bGluZSxcbiAgZmluZFN0YWdlLFxuICBnZXRBY3RpdmVTdGFnZSxcbiAgZ2V0UXVlc3RsaW5lUHJvZ3Jlc3MsXG4gIGlzUXVlc3RsaW5lQ29tcGxldGUsXG4gIHR5cGUgUXVlc3RCcmFuY2gsXG4gIHR5cGUgUXVlc3RSZXdhcmQsXG4gIHR5cGUgUXVlc3RTdGFnZSxcbiAgdHlwZSBRdWVzdGxpbmUsXG59IGZyb20gXCIuLi9saWIvcXVlc3RsaW5lc1wiO1xuXG5leHBvcnQgdHlwZSBTdGFnZUNvbXBsZXRpb25SZXN1bHQgPVxuICB8IFwiY29tcGxldGVkXCJcbiAgfCBcImFscmVhZHktY29tcGxldGVkXCJcbiAgfCBcImJyYW5jaC1yZXF1aXJlZFwiXG4gIHwgXCJxdWVzdGxpbmUtY29tcGxldGVkXCI7XG5cbmNvbnN0IFRJVExFU19TVE9SQUdFX0tFWSA9IFwidGl0bGVzVW5sb2NrZWRcIjtcblxuZnVuY3Rpb24gY2xvbmVTdGFnZShzdGFnZTogUXVlc3RTdGFnZSk6IFF1ZXN0U3RhZ2Uge1xuICByZXR1cm4ge1xuICAgIC4uLnN0YWdlLFxuICAgIGJyYW5jaENob2ljZXM6IHN0YWdlLmJyYW5jaENob2ljZXM/Lm1hcCgoYnJhbmNoKSA9PiAoeyAuLi5icmFuY2ggfSkpID8/IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXN0bGluZXMoKSB7XG4gIGNvbnN0IFtxdWVzdGxpbmVzLCBzZXRRdWVzdGxpbmVzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxRdWVzdGxpbmVbXT4oXG4gICAgXCJxdWVzdGxpbmVzXCIsXG4gICAgY2xvbmVEZWZhdWx0UXVlc3RsaW5lc1xuICApO1xuICBjb25zdCBbeHAsIHNldFhwXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxudW1iZXI+KFwieHBUb3RhbFwiLCAoKSA9PiAzNDAwKTtcbiAgY29uc3QgW3RpdGxlcywgc2V0VGl0bGVzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxzdHJpbmdbXT4oVElUTEVTX1NUT1JBR0VfS0VZLCAoKSA9PiBbXSk7XG4gIGNvbnN0IHsgYXBwbHlFdmVudCwgdHJpZ2dlckJ1ZmZCeVNvdXJjZSB9ID0gdXNlQnVmZnMoKTtcbiAgY29uc3QgeyBnYWluSXRlbSB9ID0gdXNlSW52ZW50b3J5KCk7XG4gIGNvbnN0IHsgY29tcGFuaW9ucywgZ2FpblhwRm9yQ29tcGFuaW9ucyB9ID0gdXNlQ29tcGFuaW9ucygpO1xuICBjb25zdCB7IG5wY3MsIGFkanVzdFRydXN0OiBhZGp1c3ROcGNUcnVzdCB9ID0gdXNlTnBjcygpO1xuXG4gIGNvbnN0IGF3YXJkVGl0bGUgPSB1c2VDYWxsYmFjayhcbiAgICAodGl0bGU/OiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICghdGl0bGUgfHwgdGl0bGUudHJpbSgpLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgICAgc2V0VGl0bGVzKChwcmV2KSA9PiAocHJldi5pbmNsdWRlcyh0aXRsZSkgPyBwcmV2IDogWy4uLnByZXYsIHRpdGxlXSkpO1xuICAgIH0sXG4gICAgW3NldFRpdGxlc11cbiAgKTtcblxuICBjb25zdCBhd2FyZFJld2FyZCA9IHVzZUNhbGxiYWNrKFxuICAgIChyZXdhcmQ/OiBRdWVzdFJld2FyZCkgPT4ge1xuICAgICAgaWYgKCFyZXdhcmQpIHJldHVybjtcbiAgICAgIGlmIChyZXdhcmQueHAgJiYgcmV3YXJkLnhwID4gMCkge1xuICAgICAgICBjb25zdCByZXdhcmRlZCA9IGFwcGx5RXZlbnQoXCJ4cFwiLCByZXdhcmQueHApO1xuICAgICAgICBpZiAocmV3YXJkZWQgPiAwKSB7XG4gICAgICAgICAgc2V0WHAoKHByZXYpID0+IHByZXYgKyByZXdhcmRlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXdhcmQuaXRlbSkge1xuICAgICAgICBnYWluSXRlbShyZXdhcmQuaXRlbSwgMSk7XG4gICAgICB9XG4gICAgICBpZiAocmV3YXJkLmJ1ZmYpIHtcbiAgICAgICAgdHJpZ2dlckJ1ZmZCeVNvdXJjZShyZXdhcmQuYnVmZik7XG4gICAgICB9XG4gICAgICBpZiAocmV3YXJkLnRpdGxlKSB7XG4gICAgICAgIGF3YXJkVGl0bGUocmV3YXJkLnRpdGxlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFthcHBseUV2ZW50LCBhd2FyZFRpdGxlLCBnYWluSXRlbSwgc2V0WHAsIHRyaWdnZXJCdWZmQnlTb3VyY2VdXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlUXVlc3RsaW5lID0gdXNlQ2FsbGJhY2soXG4gICAgKHF1ZXN0bGluZUlkOiBzdHJpbmcsIHVwZGF0ZXI6IChxdWVzdGxpbmU6IFF1ZXN0bGluZSkgPT4gUXVlc3RsaW5lKSA9PiB7XG4gICAgICBzZXRRdWVzdGxpbmVzKChwcmV2aW91cykgPT5cbiAgICAgICAgcHJldmlvdXMubWFwKChxdWVzdGxpbmUpID0+XG4gICAgICAgICAgcXVlc3RsaW5lLmlkID09PSBxdWVzdGxpbmVJZCA/IHVwZGF0ZXIoY2xvbmVRdWVzdGxpbmUocXVlc3RsaW5lKSkgOiBxdWVzdGxpbmVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9LFxuICAgIFtzZXRRdWVzdGxpbmVzXVxuICApO1xuXG4gIGNvbnN0IG11dGF0ZVN0YWdlID0gdXNlQ2FsbGJhY2soXG4gICAgKFxuICAgICAgcXVlc3RsaW5lSWQ6IHN0cmluZyxcbiAgICAgIHN0YWdlSWQ6IHN0cmluZyxcbiAgICAgIG11dGF0b3I6IChzdGFnZTogUXVlc3RTdGFnZSkgPT4gUXVlc3RTdGFnZVxuICAgICkgPT4ge1xuICAgICAgdXBkYXRlUXVlc3RsaW5lKHF1ZXN0bGluZUlkLCAocXVlc3RsaW5lKSA9PiAoe1xuICAgICAgICAuLi5xdWVzdGxpbmUsXG4gICAgICAgIHN0YWdlczogcXVlc3RsaW5lLnN0YWdlcy5tYXAoKHN0YWdlKSA9PlxuICAgICAgICAgIHN0YWdlLmlkID09PSBzdGFnZUlkID8gbXV0YXRvcihjbG9uZVN0YWdlKHN0YWdlKSkgOiBzdGFnZVxuICAgICAgICApLFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW3VwZGF0ZVF1ZXN0bGluZV1cbiAgKTtcblxuICBjb25zdCBjb21wbGV0ZVN0YWdlID0gdXNlQ2FsbGJhY2soXG4gICAgKHF1ZXN0bGluZUlkOiBzdHJpbmcsIHN0YWdlSWQ6IHN0cmluZywgYnJhbmNoSWQ/OiBzdHJpbmcpOiBTdGFnZUNvbXBsZXRpb25SZXN1bHQgPT4ge1xuICAgICAgbGV0IGNvbXBsZXRpb246IFN0YWdlQ29tcGxldGlvblJlc3VsdCA9IFwiY29tcGxldGVkXCI7XG5cbiAgICAgIHNldFF1ZXN0bGluZXMoKHByZXZpb3VzKSA9PlxuICAgICAgICBwcmV2aW91cy5tYXAoKHF1ZXN0bGluZSkgPT4ge1xuICAgICAgICAgIGlmIChxdWVzdGxpbmUuaWQgIT09IHF1ZXN0bGluZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlc3RsaW5lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHdvcmtpbmcgPSBjbG9uZVF1ZXN0bGluZShxdWVzdGxpbmUpO1xuICAgICAgICAgIGNvbnN0IGxvY2F0ZWQgPSBmaW5kU3RhZ2Uod29ya2luZywgc3RhZ2VJZCk7XG4gICAgICAgICAgaWYgKCFsb2NhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlc3RsaW5lO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgc3RhZ2UsIGluZGV4IH0gPSBsb2NhdGVkO1xuXG4gICAgICAgICAgaWYgKHN0YWdlLmNvbXBsZXRlZCkge1xuICAgICAgICAgICAgY29tcGxldGlvbiA9IFwiYWxyZWFkeS1jb21wbGV0ZWRcIjtcbiAgICAgICAgICAgIHJldHVybiBxdWVzdGxpbmU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHN0YWdlLmJyYW5jaENob2ljZXMgJiYgc3RhZ2UuYnJhbmNoQ2hvaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBjaG9zZW4gPSBicmFuY2hJZCA/PyBzdGFnZS5jaG9zZW5CcmFuY2hJZCA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIWNob3Nlbikge1xuICAgICAgICAgICAgICBjb21wbGV0aW9uID0gXCJicmFuY2gtcmVxdWlyZWRcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHF1ZXN0bGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWdlLmNob3NlbkJyYW5jaElkID0gY2hvc2VuO1xuICAgICAgICAgICAgY29uc3QgYnJhbmNoID0gc3RhZ2UuYnJhbmNoQ2hvaWNlcy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5pZCA9PT0gY2hvc2VuKTtcbiAgICAgICAgICAgIGlmIChicmFuY2g/LnJld2FyZCkge1xuICAgICAgICAgICAgICBhd2FyZFJld2FyZChicmFuY2gucmV3YXJkKTtcbiAgICAgICAgICAgICAgaWYgKGJyYW5jaC5yZXdhcmQueHApIHtcbiAgICAgICAgICAgICAgICBnYWluWHBGb3JDb21wYW5pb25zKFwicXVlc3RcIiwgYnJhbmNoLnJld2FyZC54cCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzdGFnZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHN0YWdlUmV3YXJkID0geyB4cDogc3RhZ2UueHAsIC4uLnN0YWdlLnJld2FyZCB9O1xuICAgICAgICAgIGF3YXJkUmV3YXJkKHN0YWdlUmV3YXJkKTtcbiAgICAgICAgICBpZiAoc3RhZ2VSZXdhcmQueHApIHtcbiAgICAgICAgICAgIGdhaW5YcEZvckNvbXBhbmlvbnMoXCJxdWVzdFwiLCBzdGFnZVJld2FyZC54cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3Qgc3RhZ2VUZXh0ID0gYCR7c3RhZ2UudGl0bGUgPz8gJyd9ICR7c3RhZ2UuZGVzY3JpcHRpb24gPz8gJyd9ICR7cXVlc3RsaW5lLm5hbWUgPz8gJyd9YC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIG5wY3MuZm9yRWFjaCgobnBjKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3RhZ2VUZXh0LmluY2x1ZGVzKG5wYy5uYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgIGFkanVzdE5wY1RydXN0KG5wYy5pZCwgNSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB3b3JraW5nLnN0YWdlc1tpbmRleF0gPSBzdGFnZTtcblxuICAgICAgICAgIGlmIChpc1F1ZXN0bGluZUNvbXBsZXRlKHdvcmtpbmcpKSB7XG4gICAgICAgICAgICB3b3JraW5nLmNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAod29ya2luZy5yZXdhcmQpIHtcbiAgICAgICAgICAgICAgYXdhcmRSZXdhcmQod29ya2luZy5yZXdhcmQpO1xuICAgICAgICAgICAgICBpZiAod29ya2luZy5yZXdhcmQueHApIHtcbiAgICAgICAgICAgICAgICBnYWluWHBGb3JDb21wYW5pb25zKFwicXVlc3RcIiwgd29ya2luZy5yZXdhcmQueHApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wbGV0aW9uID0gXCJxdWVzdGxpbmUtY29tcGxldGVkXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHdvcmtpbmc7XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gY29tcGxldGlvbjtcbiAgICB9LFxuICAgIFthZGp1c3ROcGNUcnVzdCwgYXdhcmRSZXdhcmQsIGdhaW5YcEZvckNvbXBhbmlvbnMsIG5wY3MsIHNldFF1ZXN0bGluZXNdXG4gICk7XG5cbiAgY29uc3QgY2hvb3NlQnJhbmNoID0gdXNlQ2FsbGJhY2soXG4gICAgKHF1ZXN0bGluZUlkOiBzdHJpbmcsIHN0YWdlSWQ6IHN0cmluZywgYnJhbmNoSWQ6IHN0cmluZykgPT4ge1xuICAgICAgbXV0YXRlU3RhZ2UocXVlc3RsaW5lSWQsIHN0YWdlSWQsIChzdGFnZSkgPT4gKHtcbiAgICAgICAgLi4uc3RhZ2UsXG4gICAgICAgIGNob3NlbkJyYW5jaElkOiBicmFuY2hJZCxcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFttdXRhdGVTdGFnZV1cbiAgKTtcblxuICBjb25zdCByZXNldFF1ZXN0bGluZSA9IHVzZUNhbGxiYWNrKFxuICAgIChxdWVzdGxpbmVJZDogc3RyaW5nKSA9PiB7XG4gICAgICB1cGRhdGVRdWVzdGxpbmUocXVlc3RsaW5lSWQsIChxdWVzdGxpbmUpID0+ICh7XG4gICAgICAgIC4uLnF1ZXN0bGluZSxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgc3RhZ2VzOiBxdWVzdGxpbmUuc3RhZ2VzLm1hcCgoc3RhZ2UpID0+ICh7XG4gICAgICAgICAgLi4uc3RhZ2UsXG4gICAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBjaG9zZW5CcmFuY2hJZDogc3RhZ2UuYnJhbmNoQ2hvaWNlcyA/IG51bGwgOiBzdGFnZS5jaG9zZW5CcmFuY2hJZCxcbiAgICAgICAgfSkpLFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW3VwZGF0ZVF1ZXN0bGluZV1cbiAgKTtcblxuICBjb25zdCBhZGRRdWVzdGxpbmUgPSB1c2VDYWxsYmFjayhcbiAgICAocXVlc3RsaW5lOiBRdWVzdGxpbmUpID0+IHtcbiAgICAgIHNldFF1ZXN0bGluZXMoKHByZXZpb3VzKSA9PiBbLi4ucHJldmlvdXMsIGNsb25lUXVlc3RsaW5lKHF1ZXN0bGluZSldKTtcbiAgICB9LFxuICAgIFtzZXRRdWVzdGxpbmVzXVxuICApO1xuXG4gIGNvbnN0IHJlbW92ZVF1ZXN0bGluZSA9IHVzZUNhbGxiYWNrKFxuICAgIChxdWVzdGxpbmVJZDogc3RyaW5nKSA9PiB7XG4gICAgICBzZXRRdWVzdGxpbmVzKChwcmV2aW91cykgPT4gcHJldmlvdXMuZmlsdGVyKChxdWVzdGxpbmUpID0+IHF1ZXN0bGluZS5pZCAhPT0gcXVlc3RsaW5lSWQpKTtcbiAgICB9LFxuICAgIFtzZXRRdWVzdGxpbmVzXVxuICApO1xuXG4gIGNvbnN0IGFkZFN0YWdlID0gdXNlQ2FsbGJhY2soXG4gICAgKHF1ZXN0bGluZUlkOiBzdHJpbmcsIHN0YWdlOiBRdWVzdFN0YWdlKSA9PiB7XG4gICAgICB1cGRhdGVRdWVzdGxpbmUocXVlc3RsaW5lSWQsIChxdWVzdGxpbmUpID0+ICh7XG4gICAgICAgIC4uLnF1ZXN0bGluZSxcbiAgICAgICAgc3RhZ2VzOiBbLi4ucXVlc3RsaW5lLnN0YWdlcywgY2xvbmVTdGFnZShzdGFnZSldLFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW3VwZGF0ZVF1ZXN0bGluZV1cbiAgKTtcblxuICBjb25zdCB1cGRhdGVTdGFnZUZpZWxkcyA9IHVzZUNhbGxiYWNrKFxuICAgIChxdWVzdGxpbmVJZDogc3RyaW5nLCBzdGFnZUlkOiBzdHJpbmcsIHBhdGNoOiBQYXJ0aWFsPFF1ZXN0U3RhZ2U+KSA9PiB7XG4gICAgICBtdXRhdGVTdGFnZShxdWVzdGxpbmVJZCwgc3RhZ2VJZCwgKHN0YWdlKSA9PiAoe1xuICAgICAgICAuLi5zdGFnZSxcbiAgICAgICAgLi4ucGF0Y2gsXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbbXV0YXRlU3RhZ2VdXG4gICk7XG5cbiAgY29uc3QgcmVtb3ZlU3RhZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAocXVlc3RsaW5lSWQ6IHN0cmluZywgc3RhZ2VJZDogc3RyaW5nKSA9PiB7XG4gICAgICB1cGRhdGVRdWVzdGxpbmUocXVlc3RsaW5lSWQsIChxdWVzdGxpbmUpID0+ICh7XG4gICAgICAgIC4uLnF1ZXN0bGluZSxcbiAgICAgICAgc3RhZ2VzOiBxdWVzdGxpbmUuc3RhZ2VzLmZpbHRlcigoc3RhZ2UpID0+IHN0YWdlLmlkICE9PSBzdGFnZUlkKSxcbiAgICAgIH0pKTtcbiAgICB9LFxuICAgIFt1cGRhdGVRdWVzdGxpbmVdXG4gICk7XG5cbiAgY29uc3QgcXVlc3RsaW5lU3VtbWFyaWVzID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcXVlc3RsaW5lcy5tYXAoKHF1ZXN0bGluZSkgPT4gKHtcbiAgICAgICAgcXVlc3RsaW5lLFxuICAgICAgICBwcm9ncmVzczogZ2V0UXVlc3RsaW5lUHJvZ3Jlc3MocXVlc3RsaW5lKSxcbiAgICAgICAgYWN0aXZlU3RhZ2U6IGdldEFjdGl2ZVN0YWdlKHF1ZXN0bGluZSksXG4gICAgICB9KSksXG4gICAgW3F1ZXN0bGluZXNdXG4gICk7XG5cbiAgcmV0dXJuIHtcbiAgICBxdWVzdGxpbmVzLFxuICAgIHF1ZXN0bGluZVN1bW1hcmllcyxcbiAgICBjb21wbGV0ZVN0YWdlLFxuICAgIGNob29zZUJyYW5jaCxcbiAgICByZXNldFF1ZXN0bGluZSxcbiAgICBhZGRRdWVzdGxpbmUsXG4gICAgdXBkYXRlUXVlc3RsaW5lLFxuICAgIHJlbW92ZVF1ZXN0bGluZSxcbiAgICBhZGRTdGFnZSxcbiAgICB1cGRhdGVTdGFnZTogdXBkYXRlU3RhZ2VGaWVsZHMsXG4gICAgcmVtb3ZlU3RhZ2UsXG4gICAgbXV0YXRlU3RhZ2UsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlUGVyc2lzdGVudFN0YXRlIiwidXNlQnVmZnMiLCJ1c2VJbnZlbnRvcnkiLCJ1c2VDb21wYW5pb25zIiwidXNlTnBjcyIsImNsb25lRGVmYXVsdFF1ZXN0bGluZXMiLCJjbG9uZVF1ZXN0bGluZSIsImZpbmRTdGFnZSIsImdldEFjdGl2ZVN0YWdlIiwiZ2V0UXVlc3RsaW5lUHJvZ3Jlc3MiLCJpc1F1ZXN0bGluZUNvbXBsZXRlIiwiVElUTEVTX1NUT1JBR0VfS0VZIiwiY2xvbmVTdGFnZSIsInN0YWdlIiwiYnJhbmNoQ2hvaWNlcyIsIm1hcCIsImJyYW5jaCIsInVuZGVmaW5lZCIsInVzZVF1ZXN0bGluZXMiLCJxdWVzdGxpbmVzIiwic2V0UXVlc3RsaW5lcyIsInhwIiwic2V0WHAiLCJ0aXRsZXMiLCJzZXRUaXRsZXMiLCJhcHBseUV2ZW50IiwidHJpZ2dlckJ1ZmZCeVNvdXJjZSIsImdhaW5JdGVtIiwiY29tcGFuaW9ucyIsImdhaW5YcEZvckNvbXBhbmlvbnMiLCJucGNzIiwiYWRqdXN0VHJ1c3QiLCJhZGp1c3ROcGNUcnVzdCIsImF3YXJkVGl0bGUiLCJ0aXRsZSIsInRyaW0iLCJsZW5ndGgiLCJwcmV2IiwiaW5jbHVkZXMiLCJhd2FyZFJld2FyZCIsInJld2FyZCIsInJld2FyZGVkIiwiaXRlbSIsImJ1ZmYiLCJ1cGRhdGVRdWVzdGxpbmUiLCJxdWVzdGxpbmVJZCIsInVwZGF0ZXIiLCJwcmV2aW91cyIsInF1ZXN0bGluZSIsImlkIiwibXV0YXRlU3RhZ2UiLCJzdGFnZUlkIiwibXV0YXRvciIsInN0YWdlcyIsImNvbXBsZXRlU3RhZ2UiLCJicmFuY2hJZCIsImNvbXBsZXRpb24iLCJ3b3JraW5nIiwibG9jYXRlZCIsImluZGV4IiwiY29tcGxldGVkIiwiY2hvc2VuIiwiY2hvc2VuQnJhbmNoSWQiLCJmaW5kIiwib3B0aW9uIiwic3RhZ2VSZXdhcmQiLCJzdGFnZVRleHQiLCJkZXNjcmlwdGlvbiIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImZvckVhY2giLCJucGMiLCJjaG9vc2VCcmFuY2giLCJyZXNldFF1ZXN0bGluZSIsImFkZFF1ZXN0bGluZSIsInJlbW92ZVF1ZXN0bGluZSIsImZpbHRlciIsImFkZFN0YWdlIiwidXBkYXRlU3RhZ2VGaWVsZHMiLCJwYXRjaCIsInJlbW92ZVN0YWdlIiwicXVlc3RsaW5lU3VtbWFyaWVzIiwicHJvZ3Jlc3MiLCJhY3RpdmVTdGFnZSIsInVwZGF0ZVN0YWdlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useQuestlines.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useRitualAchievements.ts":
/*!********************************************!*\
  !*** ./app/hooks/useRitualAchievements.ts ***!
  \********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRitualAchievements: () => (/* binding */ useRitualAchievements)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useAchievements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAchievements */ \"(app-pages-browser)/./app/hooks/useAchievements.ts\");\n/* harmony import */ var _useRitualsEngine__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useRitualsEngine */ \"(app-pages-browser)/./app/hooks/useRitualsEngine.ts\");\n/* __next_internal_client_entry_do_not_use__ useRitualAchievements auto */ \n\n\n/**\r\n * A custom hook to manage ritual-related achievements.\r\n * It listens to changes in ritual progress and unlocks achievements when their triggers are met.\r\n */ function useRitualAchievements() {\n    const { achievements, unlockAchievement } = (0,_useAchievements__WEBPACK_IMPORTED_MODULE_1__.useAchievements)();\n    const { progressById } = (0,_useRitualsEngine__WEBPACK_IMPORTED_MODULE_2__.useRitualsEngine)();\n    const completedRitualsCount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useRitualAchievements.useMemo[completedRitualsCount]\": ()=>{\n            if (!progressById) return 0;\n            // Count how many rituals have their 'completed' flag set to true.\n            return Object.values(progressById).filter({\n                \"useRitualAchievements.useMemo[completedRitualsCount]\": (p)=>p.completed\n            }[\"useRitualAchievements.useMemo[completedRitualsCount]\"]).length;\n        }\n    }[\"useRitualAchievements.useMemo[completedRitualsCount]\"], [\n        progressById\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useRitualAchievements.useEffect\": ()=>{\n            // Don't run if achievements or ritual progress haven't loaded yet\n            if (!achievements || achievements.length === 0 || !progressById) return;\n            // Filter for only un-unlocked Ritual achievements to check\n            const ritualAchievements = achievements.filter({\n                \"useRitualAchievements.useEffect.ritualAchievements\": (a)=>!a.unlocked && a.category === 'Ritual'\n            }[\"useRitualAchievements.useEffect.ritualAchievements\"]);\n            if (ritualAchievements.length === 0) return;\n            ritualAchievements.forEach({\n                \"useRitualAchievements.useEffect\": (achievement)=>{\n                    const { trigger } = achievement;\n                    let conditionMet = false;\n                    if (trigger.type === 'RITUAL_COMPLETED' && completedRitualsCount >= trigger.value) {\n                        conditionMet = true;\n                    }\n                    if (conditionMet) {\n                        unlockAchievement(achievement.id);\n                    }\n                }\n            }[\"useRitualAchievements.useEffect\"]);\n        // This effect should re-run whenever the player's ritual progress changes.\n        }\n    }[\"useRitualAchievements.useEffect\"], [\n        completedRitualsCount,\n        achievements,\n        unlockAchievement\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VSaXR1YWxBY2hpZXZlbWVudHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7MkVBRTJDO0FBQ1M7QUFDRTtBQUV0RDs7O0NBR0MsR0FDTSxTQUFTSTtJQUNkLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHSixpRUFBZUE7SUFDM0QsTUFBTSxFQUFFSyxZQUFZLEVBQUUsR0FBR0osbUVBQWdCQTtJQUV6QyxNQUFNSyx3QkFBd0JQLDhDQUFPQTtnRUFBQztZQUNwQyxJQUFJLENBQUNNLGNBQWMsT0FBTztZQUMxQixrRUFBa0U7WUFDbEUsT0FBT0UsT0FBT0MsTUFBTSxDQUFDSCxjQUFjSSxNQUFNO3dFQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxTQUFTO3VFQUFFQyxNQUFNO1FBQ3BFOytEQUFHO1FBQUNQO0tBQWE7SUFFakJQLGdEQUFTQTsyQ0FBQztZQUNSLGtFQUFrRTtZQUNsRSxJQUFJLENBQUNLLGdCQUFnQkEsYUFBYVMsTUFBTSxLQUFLLEtBQUssQ0FBQ1AsY0FBYztZQUVqRSwyREFBMkQ7WUFDM0QsTUFBTVEscUJBQXFCVixhQUFhTSxNQUFNO3NFQUM1Q0ssQ0FBQUEsSUFBSyxDQUFDQSxFQUFFQyxRQUFRLElBQUlELEVBQUVFLFFBQVEsS0FBSzs7WUFHckMsSUFBSUgsbUJBQW1CRCxNQUFNLEtBQUssR0FBRztZQUVyQ0MsbUJBQW1CSSxPQUFPO21EQUFDQyxDQUFBQTtvQkFDekIsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR0Q7b0JBQ3BCLElBQUlFLGVBQWU7b0JBRW5CLElBQUlELFFBQVFFLElBQUksS0FBSyxzQkFBc0JmLHlCQUF5QmEsUUFBUUcsS0FBSyxFQUFFO3dCQUNqRkYsZUFBZTtvQkFDakI7b0JBRUEsSUFBSUEsY0FBYzt3QkFDaEJoQixrQkFBa0JjLFlBQVlLLEVBQUU7b0JBQ2xDO2dCQUNGOztRQUNBLDJFQUEyRTtRQUM3RTswQ0FBRztRQUFDakI7UUFBdUJIO1FBQWNDO0tBQWtCO0FBQzdEIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXEx1Y2lkIERyZWFtXFxhcHBcXGhvb2tzXFx1c2VSaXR1YWxBY2hpZXZlbWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBY2hpZXZlbWVudHMgfSBmcm9tICcuL3VzZUFjaGlldmVtZW50cyc7XHJcbmltcG9ydCB7IHVzZVJpdHVhbHNFbmdpbmUgfSBmcm9tICcuL3VzZVJpdHVhbHNFbmdpbmUnO1xyXG5cclxuLyoqXHJcbiAqIEEgY3VzdG9tIGhvb2sgdG8gbWFuYWdlIHJpdHVhbC1yZWxhdGVkIGFjaGlldmVtZW50cy5cclxuICogSXQgbGlzdGVucyB0byBjaGFuZ2VzIGluIHJpdHVhbCBwcm9ncmVzcyBhbmQgdW5sb2NrcyBhY2hpZXZlbWVudHMgd2hlbiB0aGVpciB0cmlnZ2VycyBhcmUgbWV0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJpdHVhbEFjaGlldmVtZW50cygpIHtcclxuICBjb25zdCB7IGFjaGlldmVtZW50cywgdW5sb2NrQWNoaWV2ZW1lbnQgfSA9IHVzZUFjaGlldmVtZW50cygpO1xyXG4gIGNvbnN0IHsgcHJvZ3Jlc3NCeUlkIH0gPSB1c2VSaXR1YWxzRW5naW5lKCk7XHJcblxyXG4gIGNvbnN0IGNvbXBsZXRlZFJpdHVhbHNDb3VudCA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKCFwcm9ncmVzc0J5SWQpIHJldHVybiAwO1xyXG4gICAgLy8gQ291bnQgaG93IG1hbnkgcml0dWFscyBoYXZlIHRoZWlyICdjb21wbGV0ZWQnIGZsYWcgc2V0IHRvIHRydWUuXHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhwcm9ncmVzc0J5SWQpLmZpbHRlcihwID0+IHAuY29tcGxldGVkKS5sZW5ndGg7XHJcbiAgfSwgW3Byb2dyZXNzQnlJZF0pO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gRG9uJ3QgcnVuIGlmIGFjaGlldmVtZW50cyBvciByaXR1YWwgcHJvZ3Jlc3MgaGF2ZW4ndCBsb2FkZWQgeWV0XHJcbiAgICBpZiAoIWFjaGlldmVtZW50cyB8fCBhY2hpZXZlbWVudHMubGVuZ3RoID09PSAwIHx8ICFwcm9ncmVzc0J5SWQpIHJldHVybjtcclxuXHJcbiAgICAvLyBGaWx0ZXIgZm9yIG9ubHkgdW4tdW5sb2NrZWQgUml0dWFsIGFjaGlldmVtZW50cyB0byBjaGVja1xyXG4gICAgY29uc3Qgcml0dWFsQWNoaWV2ZW1lbnRzID0gYWNoaWV2ZW1lbnRzLmZpbHRlcihcclxuICAgICAgYSA9PiAhYS51bmxvY2tlZCAmJiBhLmNhdGVnb3J5ID09PSAnUml0dWFsJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAocml0dWFsQWNoaWV2ZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgIHJpdHVhbEFjaGlldmVtZW50cy5mb3JFYWNoKGFjaGlldmVtZW50ID0+IHtcclxuICAgICAgY29uc3QgeyB0cmlnZ2VyIH0gPSBhY2hpZXZlbWVudDtcclxuICAgICAgbGV0IGNvbmRpdGlvbk1ldCA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKHRyaWdnZXIudHlwZSA9PT0gJ1JJVFVBTF9DT01QTEVURUQnICYmIGNvbXBsZXRlZFJpdHVhbHNDb3VudCA+PSB0cmlnZ2VyLnZhbHVlKSB7XHJcbiAgICAgICAgY29uZGl0aW9uTWV0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNvbmRpdGlvbk1ldCkge1xyXG4gICAgICAgIHVubG9ja0FjaGlldmVtZW50KGFjaGlldmVtZW50LmlkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBUaGlzIGVmZmVjdCBzaG91bGQgcmUtcnVuIHdoZW5ldmVyIHRoZSBwbGF5ZXIncyByaXR1YWwgcHJvZ3Jlc3MgY2hhbmdlcy5cclxuICB9LCBbY29tcGxldGVkUml0dWFsc0NvdW50LCBhY2hpZXZlbWVudHMsIHVubG9ja0FjaGlldmVtZW50XSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VBY2hpZXZlbWVudHMiLCJ1c2VSaXR1YWxzRW5naW5lIiwidXNlUml0dWFsQWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRzIiwidW5sb2NrQWNoaWV2ZW1lbnQiLCJwcm9ncmVzc0J5SWQiLCJjb21wbGV0ZWRSaXR1YWxzQ291bnQiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmaWx0ZXIiLCJwIiwiY29tcGxldGVkIiwibGVuZ3RoIiwicml0dWFsQWNoaWV2ZW1lbnRzIiwiYSIsInVubG9ja2VkIiwiY2F0ZWdvcnkiLCJmb3JFYWNoIiwiYWNoaWV2ZW1lbnQiLCJ0cmlnZ2VyIiwiY29uZGl0aW9uTWV0IiwidHlwZSIsInZhbHVlIiwiaWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useRitualAchievements.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useRitualsEngine.ts":
/*!***************************************!*\
  !*** ./app/hooks/useRitualsEngine.ts ***!
  \***************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRitualsEngine: () => (/* binding */ useRitualsEngine)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _useBuffs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useBuffs */ \"(app-pages-browser)/./app/hooks/useBuffs.ts\");\n/* harmony import */ var _useCompanions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useCompanions */ \"(app-pages-browser)/./app/hooks/useCompanions.ts\");\n/* harmony import */ var _useNpcs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useNpcs */ \"(app-pages-browser)/./app/hooks/useNpcs.ts\");\n/* harmony import */ var _useShame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useShame */ \"(app-pages-browser)/./app/hooks/useShame.ts\");\n/* harmony import */ var _lib_rituals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/rituals */ \"(app-pages-browser)/./app/lib/rituals.ts\");\n/* __next_internal_client_entry_do_not_use__ useRitualsEngine auto */ \n\n\n\n\n\n\nconst FALLBACK_ID = ()=>typeof crypto !== \"undefined\" && typeof crypto.randomUUID === \"function\" ? crypto.randomUUID() : 'ritual-' + Date.now().toString(36);\nfunction useRitualsEngine() {\n    const [rituals, setRituals] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"rituals\", _lib_rituals__WEBPACK_IMPORTED_MODULE_6__.cloneDefaultRituals);\n    const [logs, setLogs] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"ritualLogs\", _lib_rituals__WEBPACK_IMPORTED_MODULE_6__.cloneDefaultRitualLogs);\n    const [xp, setXp] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"xpTotal\", {\n        \"useRitualsEngine.usePersistentState\": ()=>3400\n    }[\"useRitualsEngine.usePersistentState\"]);\n    const [obedience, setObedience] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_1__.usePersistentState)(\"obediencePoints\", {\n        \"useRitualsEngine.usePersistentState\": ()=>0\n    }[\"useRitualsEngine.usePersistentState\"]);\n    const { applyEvent, triggerBuffBySource } = (0,_useBuffs__WEBPACK_IMPORTED_MODULE_2__.useBuffs)();\n    const { companions, gainXpForCompanions } = (0,_useCompanions__WEBPACK_IMPORTED_MODULE_3__.useCompanions)();\n    const { npcs, adjustShame: adjustNpcShame } = (0,_useNpcs__WEBPACK_IMPORTED_MODULE_4__.useNpcs)();\n    const { incrementCounter } = (0,_useShame__WEBPACK_IMPORTED_MODULE_5__.useShame)();\n    const progressById = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useRitualsEngine.useMemo[progressById]\": ()=>{\n            const now = new Date();\n            return rituals.reduce({\n                \"useRitualsEngine.useMemo[progressById]\": (acc, ritual)=>{\n                    acc[ritual.id] = (0,_lib_rituals__WEBPACK_IMPORTED_MODULE_6__.computeRitualProgress)(ritual, logs, now);\n                    return acc;\n                }\n            }[\"useRitualsEngine.useMemo[progressById]\"], {});\n        }\n    }[\"useRitualsEngine.useMemo[progressById]\"], [\n        logs,\n        rituals\n    ]);\n    const readStreakMultiplierEnabled = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[readStreakMultiplierEnabled]\": ()=>{\n            if (false) {}\n            try {\n                var _parsed_rituals;\n                const raw = window.localStorage.getItem(\"controlNexus\");\n                if (!raw) return true;\n                const parsed = JSON.parse(raw);\n                return (parsed === null || parsed === void 0 ? void 0 : (_parsed_rituals = parsed.rituals) === null || _parsed_rituals === void 0 ? void 0 : _parsed_rituals.streakMultiplierEnabled) !== false;\n            } catch (e) {\n                return true;\n            }\n        }\n    }[\"useRitualsEngine.useCallback[readStreakMultiplierEnabled]\"], []);\n    const completeRitual = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[completeRitual]\": (ritualId)=>{\n            const ritual = rituals.find({\n                \"useRitualsEngine.useCallback[completeRitual].ritual\": (item)=>item.id === ritualId\n            }[\"useRitualsEngine.useCallback[completeRitual].ritual\"]);\n            if (!ritual) {\n                return {\n                    status: \"not-found\"\n                };\n            }\n            const now = new Date();\n            let outcome = {\n                status: \"already-completed\",\n                ritual,\n                progress: (0,_lib_rituals__WEBPACK_IMPORTED_MODULE_6__.computeRitualProgress)(ritual, logs, now)\n            };\n            setLogs({\n                \"useRitualsEngine.useCallback[completeRitual]\": (previousLogs)=>{\n                    const progressBefore = (0,_lib_rituals__WEBPACK_IMPORTED_MODULE_6__.computeRitualProgress)(ritual, previousLogs, now);\n                    if (progressBefore.completed) {\n                        outcome = {\n                            status: \"already-completed\",\n                            ritual,\n                            progress: progressBefore\n                        };\n                        return previousLogs;\n                    }\n                    const baseLog = {\n                        id: FALLBACK_ID(),\n                        ritualId,\n                        timestamp: now.toISOString()\n                    };\n                    const tentativeLogs = [\n                        ...previousLogs,\n                        baseLog\n                    ];\n                    const progressAfter = (0,_lib_rituals__WEBPACK_IMPORTED_MODULE_6__.computeRitualProgress)(ritual, tentativeLogs, now);\n                    const multiplierEnabled = readStreakMultiplierEnabled();\n                    const appliedMultiplier = multiplierEnabled ? progressAfter.multiplier : 0;\n                    const xpWithBonus = Math.round(ritual.xp * (1 + appliedMultiplier));\n                    const obedienceAwarded = ritual.obedience;\n                    const finalXp = applyEvent(\"xp\", xpWithBonus);\n                    const finalObedience = applyEvent(\"obedience\", obedienceAwarded);\n                    const completedLog = {\n                        ...baseLog,\n                        xpAwarded: finalXp,\n                        obedienceAwarded: finalObedience,\n                        multiplierApplied: appliedMultiplier\n                    };\n                    const updatedLogs = [\n                        ...previousLogs,\n                        completedLog\n                    ];\n                    setXp({\n                        \"useRitualsEngine.useCallback[completeRitual]\": (prev)=>prev + finalXp\n                    }[\"useRitualsEngine.useCallback[completeRitual]\"]);\n                    gainXpForCompanions(\"ritual\", finalXp);\n                    setObedience({\n                        \"useRitualsEngine.useCallback[completeRitual]\": (prev)=>prev + finalObedience\n                    }[\"useRitualsEngine.useCallback[completeRitual]\"]);\n                    setRituals({\n                        \"useRitualsEngine.useCallback[completeRitual]\": (prev)=>prev.map({\n                                \"useRitualsEngine.useCallback[completeRitual]\": (item)=>item.id === ritualId ? {\n                                        ...item,\n                                        streak: progressAfter.streak\n                                    } : item\n                            }[\"useRitualsEngine.useCallback[completeRitual]\"])\n                    }[\"useRitualsEngine.useCallback[completeRitual]\"]);\n                    triggerBuffBySource(ritual.name);\n                    const ritualText = ritual.name.toLowerCase();\n                    npcs.forEach({\n                        \"useRitualsEngine.useCallback[completeRitual]\": (npc)=>{\n                            if (ritualText.includes(npc.name.toLowerCase())) {\n                                adjustNpcShame(npc.id, 5);\n                            }\n                        }\n                    }[\"useRitualsEngine.useCallback[completeRitual]\"]);\n                    outcome = {\n                        status: \"completed\",\n                        ritual,\n                        xpAwarded: finalXp,\n                        obedienceAwarded: finalObedience,\n                        progress: progressAfter,\n                        log: completedLog\n                    };\n                    return updatedLogs;\n                }\n            }[\"useRitualsEngine.useCallback[completeRitual]\"]);\n            return outcome;\n        }\n    }[\"useRitualsEngine.useCallback[completeRitual]\"], [\n        adjustNpcShame,\n        applyEvent,\n        gainXpForCompanions,\n        logs,\n        npcs,\n        readStreakMultiplierEnabled,\n        rituals,\n        setLogs,\n        setObedience,\n        setRituals,\n        setXp,\n        triggerBuffBySource\n    ]);\n    const resetRitualStreak = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[resetRitualStreak]\": (ritualId)=>{\n            setRituals({\n                \"useRitualsEngine.useCallback[resetRitualStreak]\": (prev)=>prev.map({\n                        \"useRitualsEngine.useCallback[resetRitualStreak]\": (item)=>item.id === ritualId ? {\n                                ...item,\n                                streak: 0\n                            } : item\n                    }[\"useRitualsEngine.useCallback[resetRitualStreak]\"])\n            }[\"useRitualsEngine.useCallback[resetRitualStreak]\"]);\n            setLogs({\n                \"useRitualsEngine.useCallback[resetRitualStreak]\": (prev)=>prev.filter({\n                        \"useRitualsEngine.useCallback[resetRitualStreak]\": (log)=>log.ritualId !== ritualId\n                    }[\"useRitualsEngine.useCallback[resetRitualStreak]\"])\n            }[\"useRitualsEngine.useCallback[resetRitualStreak]\"]);\n        }\n    }[\"useRitualsEngine.useCallback[resetRitualStreak]\"], [\n        setLogs,\n        setRituals\n    ]);\n    const failRitual = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[failRitual]\": (ritualId)=>{\n            incrementCounter('ritualsFailed', 1);\n            resetRitualStreak(ritualId);\n        }\n    }[\"useRitualsEngine.useCallback[failRitual]\"], [\n        incrementCounter,\n        resetRitualStreak\n    ]);\n    const addRitual = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[addRitual]\": (ritual)=>{\n            setRituals({\n                \"useRitualsEngine.useCallback[addRitual]\": (prev)=>[\n                        ...prev,\n                        ritual\n                    ]\n            }[\"useRitualsEngine.useCallback[addRitual]\"]);\n        }\n    }[\"useRitualsEngine.useCallback[addRitual]\"], [\n        setRituals\n    ]);\n    const updateRitual = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[updateRitual]\": (ritualId, patch)=>{\n            setRituals({\n                \"useRitualsEngine.useCallback[updateRitual]\": (prev)=>prev.map({\n                        \"useRitualsEngine.useCallback[updateRitual]\": (item)=>item.id === ritualId ? {\n                                ...item,\n                                ...patch\n                            } : item\n                    }[\"useRitualsEngine.useCallback[updateRitual]\"])\n            }[\"useRitualsEngine.useCallback[updateRitual]\"]);\n        }\n    }[\"useRitualsEngine.useCallback[updateRitual]\"], [\n        setRituals\n    ]);\n    const deleteRitual = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useRitualsEngine.useCallback[deleteRitual]\": (ritualId)=>{\n            setRituals({\n                \"useRitualsEngine.useCallback[deleteRitual]\": (prev)=>prev.filter({\n                        \"useRitualsEngine.useCallback[deleteRitual]\": (item)=>item.id !== ritualId\n                    }[\"useRitualsEngine.useCallback[deleteRitual]\"])\n            }[\"useRitualsEngine.useCallback[deleteRitual]\"]);\n            setLogs({\n                \"useRitualsEngine.useCallback[deleteRitual]\": (prev)=>prev.filter({\n                        \"useRitualsEngine.useCallback[deleteRitual]\": (log)=>log.ritualId !== ritualId\n                    }[\"useRitualsEngine.useCallback[deleteRitual]\"])\n            }[\"useRitualsEngine.useCallback[deleteRitual]\"]);\n        }\n    }[\"useRitualsEngine.useCallback[deleteRitual]\"], [\n        setLogs,\n        setRituals\n    ]);\n    const ritualLogsDescending = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useRitualsEngine.useMemo[ritualLogsDescending]\": ()=>{\n            return [\n                ...logs\n            ].sort({\n                \"useRitualsEngine.useMemo[ritualLogsDescending]\": (a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\n            }[\"useRitualsEngine.useMemo[ritualLogsDescending]\"]);\n        }\n    }[\"useRitualsEngine.useMemo[ritualLogsDescending]\"], [\n        logs\n    ]);\n    return {\n        rituals,\n        logs: ritualLogsDescending,\n        progressById,\n        completeRitual,\n        addRitual,\n        updateRitual,\n        deleteRitual,\n        resetRitualStreak,\n        failRitual,\n        xp,\n        obedience,\n        setXp,\n        setObedience\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VSaXR1YWxzRW5naW5lLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztzRUFFNkM7QUFDYTtBQUNwQjtBQUNVO0FBQ1o7QUFDRTtBQVFkO0FBb0J4QixNQUFNVSxjQUFjLElBQ2xCLE9BQU9DLFdBQVcsZUFBZSxPQUFPQSxPQUFPQyxVQUFVLEtBQUssYUFDMURELE9BQU9DLFVBQVUsS0FDakIsWUFBWUMsS0FBS0MsR0FBRyxHQUFHQyxRQUFRLENBQUM7QUFFL0IsU0FBU0M7SUFDZCxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR2hCLHVFQUFrQkEsQ0FBVyxXQUFXTSw2REFBbUJBO0lBQ3pGLE1BQU0sQ0FBQ1csTUFBTUMsUUFBUSxHQUFHbEIsdUVBQWtCQSxDQUFjLGNBQWNLLGdFQUFzQkE7SUFDNUYsTUFBTSxDQUFDYyxJQUFJQyxNQUFNLEdBQUdwQix1RUFBa0JBLENBQVM7K0NBQVcsSUFBTTs7SUFDaEUsTUFBTSxDQUFDcUIsV0FBV0MsYUFBYSxHQUFHdEIsdUVBQWtCQSxDQUFTOytDQUFtQixJQUFNOztJQUN0RixNQUFNLEVBQUV1QixVQUFVLEVBQUVDLG1CQUFtQixFQUFFLEdBQUd2QixtREFBUUE7SUFDcEQsTUFBTSxFQUFFd0IsVUFBVSxFQUFFQyxtQkFBbUIsRUFBRSxHQUFHeEIsNkRBQWFBO0lBQ3pELE1BQU0sRUFBRXlCLElBQUksRUFBRUMsYUFBYUMsY0FBYyxFQUFFLEdBQUcxQixpREFBT0E7SUFDckQsTUFBTSxFQUFFMkIsZ0JBQWdCLEVBQUUsR0FBRzFCLG1EQUFRQTtJQUVyQyxNQUFNMkIsZUFBZWhDLDhDQUFPQTtrREFBQztZQUMzQixNQUFNYSxNQUFNLElBQUlEO1lBQ2hCLE9BQU9JLFFBQVFpQixNQUFNOzBEQUFpQyxDQUFDQyxLQUFLQztvQkFDMURELEdBQUcsQ0FBQ0MsT0FBT0MsRUFBRSxDQUFDLEdBQUc1QixtRUFBcUJBLENBQUMyQixRQUFRakIsTUFBTUw7b0JBQ3JE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O0tBQVc7SUFHZCxNQUFNeUUsZUFBZTNGLGtEQUFXQTtzREFDOUIsQ0FBQ2dEO1lBQ0M5Qjs4REFBVyxDQUFDeUQsT0FBU0EsS0FBS1csTUFBTTtzRUFBQyxDQUFDcEMsT0FBU0EsS0FBS2IsRUFBRSxLQUFLVzs7O1lBQ3ZENUI7OERBQVEsQ0FBQ3VELE9BQVNBLEtBQUtXLE1BQU07c0VBQUMsQ0FBQ0YsTUFBUUEsSUFBSXBDLFFBQVEsS0FBS0E7OztRQUMxRDtxREFDQTtRQUFDNUI7UUFBU0Y7S0FBVztJQUd2QixNQUFNMEUsdUJBQXVCM0YsOENBQU9BOzBEQUFDO1lBQ25DLE9BQU87bUJBQUlrQjthQUFLLENBQUMwRSxJQUFJO2tFQUFDLENBQUNDLEdBQUdDLElBQU0sSUFBSWxGLEtBQUtrRixFQUFFckMsU0FBUyxFQUFFc0MsT0FBTyxLQUFLLElBQUluRixLQUFLaUYsRUFBRXBDLFNBQVMsRUFBRXNDLE9BQU87O1FBQ2pHO3lEQUFHO1FBQUM3RTtLQUFLO0lBRVQsT0FBTztRQUNMRjtRQUNBRSxNQUFNeUU7UUFDTjNEO1FBQ0FjO1FBQ0F5QztRQUNBQztRQUNBRTtRQUNBTjtRQUNBRTtRQUNBbEU7UUFDQUU7UUFDQUQ7UUFDQUU7SUFDRjtBQUNGIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXEx1Y2lkIERyZWFtXFxhcHBcXGhvb2tzXFx1c2VSaXR1YWxzRW5naW5lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVBlcnNpc3RlbnRTdGF0ZSB9IGZyb20gXCIuL3VzZVBlcnNpc3RlbnRTdGF0ZVwiO1xuaW1wb3J0IHsgdXNlQnVmZnMgfSBmcm9tIFwiLi91c2VCdWZmc1wiO1xuaW1wb3J0IHsgdXNlQ29tcGFuaW9ucyB9IGZyb20gXCIuL3VzZUNvbXBhbmlvbnNcIjtcbmltcG9ydCB7IHVzZU5wY3MgfSBmcm9tIFwiLi91c2VOcGNzXCI7XG5pbXBvcnQgeyB1c2VTaGFtZSB9IGZyb20gXCIuL3VzZVNoYW1lXCI7XG5pbXBvcnQge1xuICBjbG9uZURlZmF1bHRSaXR1YWxMb2dzLFxuICBjbG9uZURlZmF1bHRSaXR1YWxzLFxuICBjb21wdXRlUml0dWFsUHJvZ3Jlc3MsXG4gIHR5cGUgUml0dWFsLFxuICB0eXBlIFJpdHVhbExvZyxcbiAgdHlwZSBSaXR1YWxQcm9ncmVzcyxcbn0gZnJvbSBcIi4uL2xpYi9yaXR1YWxzXCI7XG5cbmV4cG9ydCB0eXBlIENvbXBsZXRlUml0dWFsT3V0Y29tZSA9XG4gIHwge1xuICAgICAgc3RhdHVzOiBcImNvbXBsZXRlZFwiO1xuICAgICAgcml0dWFsOiBSaXR1YWw7XG4gICAgICB4cEF3YXJkZWQ6IG51bWJlcjtcbiAgICAgIG9iZWRpZW5jZUF3YXJkZWQ6IG51bWJlcjtcbiAgICAgIHByb2dyZXNzOiBSaXR1YWxQcm9ncmVzcztcbiAgICAgIGxvZzogUml0dWFsTG9nO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0dXM6IFwiYWxyZWFkeS1jb21wbGV0ZWRcIjtcbiAgICAgIHJpdHVhbDogUml0dWFsO1xuICAgICAgcHJvZ3Jlc3M6IFJpdHVhbFByb2dyZXNzO1xuICAgIH1cbiAgfCB7XG4gICAgICBzdGF0dXM6IFwibm90LWZvdW5kXCI7XG4gICAgfTtcblxuY29uc3QgRkFMTEJBQ0tfSUQgPSAoKSA9PlxuICB0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBjcnlwdG8ucmFuZG9tVVVJRCA9PT0gXCJmdW5jdGlvblwiXG4gICAgPyBjcnlwdG8ucmFuZG9tVVVJRCgpXG4gICAgOiAncml0dWFsLScgKyBEYXRlLm5vdygpLnRvU3RyaW5nKDM2KTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVJpdHVhbHNFbmdpbmUoKSB7XG4gIGNvbnN0IFtyaXR1YWxzLCBzZXRSaXR1YWxzXSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxSaXR1YWxbXT4oXCJyaXR1YWxzXCIsIGNsb25lRGVmYXVsdFJpdHVhbHMpO1xuICBjb25zdCBbbG9ncywgc2V0TG9nc10gPSB1c2VQZXJzaXN0ZW50U3RhdGU8Uml0dWFsTG9nW10+KFwicml0dWFsTG9nc1wiLCBjbG9uZURlZmF1bHRSaXR1YWxMb2dzKTtcbiAgY29uc3QgW3hwLCBzZXRYcF0gPSB1c2VQZXJzaXN0ZW50U3RhdGU8bnVtYmVyPihcInhwVG90YWxcIiwgKCkgPT4gMzQwMCk7XG4gIGNvbnN0IFtvYmVkaWVuY2UsIHNldE9iZWRpZW5jZV0gPSB1c2VQZXJzaXN0ZW50U3RhdGU8bnVtYmVyPihcIm9iZWRpZW5jZVBvaW50c1wiLCAoKSA9PiAwKTtcbiAgY29uc3QgeyBhcHBseUV2ZW50LCB0cmlnZ2VyQnVmZkJ5U291cmNlIH0gPSB1c2VCdWZmcygpO1xuICBjb25zdCB7IGNvbXBhbmlvbnMsIGdhaW5YcEZvckNvbXBhbmlvbnMgfSA9IHVzZUNvbXBhbmlvbnMoKTtcbiAgY29uc3QgeyBucGNzLCBhZGp1c3RTaGFtZTogYWRqdXN0TnBjU2hhbWUgfSA9IHVzZU5wY3MoKTtcbiAgY29uc3QgeyBpbmNyZW1lbnRDb3VudGVyIH0gPSB1c2VTaGFtZSgpO1xuXG4gIGNvbnN0IHByb2dyZXNzQnlJZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgcmV0dXJuIHJpdHVhbHMucmVkdWNlPFJlY29yZDxzdHJpbmcsIFJpdHVhbFByb2dyZXNzPj4oKGFjYywgcml0dWFsKSA9PiB7XG4gICAgICBhY2Nbcml0dWFsLmlkXSA9IGNvbXB1dGVSaXR1YWxQcm9ncmVzcyhyaXR1YWwsIGxvZ3MsIG5vdyk7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgfSwgW2xvZ3MsIHJpdHVhbHNdKTtcblxuICBjb25zdCByZWFkU3RyZWFrTXVsdGlwbGllckVuYWJsZWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByYXcgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb250cm9sTmV4dXNcIik7XG4gICAgICBpZiAoIXJhdykgcmV0dXJuIHRydWU7XG4gICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKHJhdykgYXMgeyByaXR1YWxzPzogeyBzdHJlYWtNdWx0aXBsaWVyRW5hYmxlZD86IGJvb2xlYW4gfSB9O1xuICAgICAgcmV0dXJuIHBhcnNlZD8ucml0dWFscz8uc3RyZWFrTXVsdGlwbGllckVuYWJsZWQgIT09IGZhbHNlO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgY29tcGxldGVSaXR1YWwgPSB1c2VDYWxsYmFjayhcbiAgICAocml0dWFsSWQ6IHN0cmluZyk6IENvbXBsZXRlUml0dWFsT3V0Y29tZSA9PiB7XG4gICAgICBjb25zdCByaXR1YWwgPSByaXR1YWxzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IHJpdHVhbElkKTtcbiAgICAgIGlmICghcml0dWFsKSB7XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJub3QtZm91bmRcIiB9O1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgbGV0IG91dGNvbWU6IENvbXBsZXRlUml0dWFsT3V0Y29tZSA9IHtcbiAgICAgICAgc3RhdHVzOiBcImFscmVhZHktY29tcGxldGVkXCIsXG4gICAgICAgIHJpdHVhbCxcbiAgICAgICAgcHJvZ3Jlc3M6IGNvbXB1dGVSaXR1YWxQcm9ncmVzcyhyaXR1YWwsIGxvZ3MsIG5vdyksXG4gICAgICB9O1xuXG4gICAgICBzZXRMb2dzKChwcmV2aW91c0xvZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCZWZvcmUgPSBjb21wdXRlUml0dWFsUHJvZ3Jlc3Mocml0dWFsLCBwcmV2aW91c0xvZ3MsIG5vdyk7XG4gICAgICAgIGlmIChwcm9ncmVzc0JlZm9yZS5jb21wbGV0ZWQpIHtcbiAgICAgICAgICBvdXRjb21lID0geyBzdGF0dXM6IFwiYWxyZWFkeS1jb21wbGV0ZWRcIiwgcml0dWFsLCBwcm9ncmVzczogcHJvZ3Jlc3NCZWZvcmUgfTtcbiAgICAgICAgICByZXR1cm4gcHJldmlvdXNMb2dzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYmFzZUxvZzogUml0dWFsTG9nID0ge1xuICAgICAgICAgIGlkOiBGQUxMQkFDS19JRCgpLFxuICAgICAgICAgIHJpdHVhbElkLFxuICAgICAgICAgIHRpbWVzdGFtcDogbm93LnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdGVudGF0aXZlTG9ncyA9IFsuLi5wcmV2aW91c0xvZ3MsIGJhc2VMb2ddO1xuICAgICAgICBjb25zdCBwcm9ncmVzc0FmdGVyID0gY29tcHV0ZVJpdHVhbFByb2dyZXNzKHJpdHVhbCwgdGVudGF0aXZlTG9ncywgbm93KTtcbiAgICAgICAgY29uc3QgbXVsdGlwbGllckVuYWJsZWQgPSByZWFkU3RyZWFrTXVsdGlwbGllckVuYWJsZWQoKTtcbiAgICAgICAgY29uc3QgYXBwbGllZE11bHRpcGxpZXIgPSBtdWx0aXBsaWVyRW5hYmxlZCA/IHByb2dyZXNzQWZ0ZXIubXVsdGlwbGllciA6IDA7XG4gICAgICAgIGNvbnN0IHhwV2l0aEJvbnVzID0gTWF0aC5yb3VuZChyaXR1YWwueHAgKiAoMSArIGFwcGxpZWRNdWx0aXBsaWVyKSk7XG4gICAgICAgIGNvbnN0IG9iZWRpZW5jZUF3YXJkZWQgPSByaXR1YWwub2JlZGllbmNlO1xuICAgICAgICBjb25zdCBmaW5hbFhwID0gYXBwbHlFdmVudChcInhwXCIsIHhwV2l0aEJvbnVzKTtcbiAgICAgICAgY29uc3QgZmluYWxPYmVkaWVuY2UgPSBhcHBseUV2ZW50KFwib2JlZGllbmNlXCIsIG9iZWRpZW5jZUF3YXJkZWQpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZWRMb2c6IFJpdHVhbExvZyA9IHtcbiAgICAgICAgICAuLi5iYXNlTG9nLFxuICAgICAgICAgIHhwQXdhcmRlZDogZmluYWxYcCxcbiAgICAgICAgICBvYmVkaWVuY2VBd2FyZGVkOiBmaW5hbE9iZWRpZW5jZSxcbiAgICAgICAgICBtdWx0aXBsaWVyQXBwbGllZDogYXBwbGllZE11bHRpcGxpZXIsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXBkYXRlZExvZ3MgPSBbLi4ucHJldmlvdXNMb2dzLCBjb21wbGV0ZWRMb2ddO1xuXG4gICAgICAgIHNldFhwKChwcmV2KSA9PiBwcmV2ICsgZmluYWxYcCk7XG4gICAgICAgIGdhaW5YcEZvckNvbXBhbmlvbnMoXCJyaXR1YWxcIiwgZmluYWxYcCk7XG4gICAgICAgIHNldE9iZWRpZW5jZSgocHJldikgPT4gcHJldiArIGZpbmFsT2JlZGllbmNlKTtcbiAgICAgICAgc2V0Uml0dWFscygocHJldikgPT5cbiAgICAgICAgICBwcmV2Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICAgIGl0ZW0uaWQgPT09IHJpdHVhbElkXG4gICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgIHN0cmVhazogcHJvZ3Jlc3NBZnRlci5zdHJlYWssXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGl0ZW1cbiAgICAgICAgICApXG4gICAgICAgICk7XG5cbiAgICAgICAgdHJpZ2dlckJ1ZmZCeVNvdXJjZShyaXR1YWwubmFtZSk7XG5cbiAgICAgICAgY29uc3Qgcml0dWFsVGV4dCA9IHJpdHVhbC5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIG5wY3MuZm9yRWFjaCgobnBjKSA9PiB7XG4gICAgICAgICAgaWYgKHJpdHVhbFRleHQuaW5jbHVkZXMobnBjLm5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGFkanVzdE5wY1NoYW1lKG5wYy5pZCwgNSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBvdXRjb21lID0ge1xuICAgICAgICAgIHN0YXR1czogXCJjb21wbGV0ZWRcIixcbiAgICAgICAgICByaXR1YWwsXG4gICAgICAgICAgeHBBd2FyZGVkOiBmaW5hbFhwLFxuICAgICAgICAgIG9iZWRpZW5jZUF3YXJkZWQ6IGZpbmFsT2JlZGllbmNlLFxuICAgICAgICAgIHByb2dyZXNzOiBwcm9ncmVzc0FmdGVyLFxuICAgICAgICAgIGxvZzogY29tcGxldGVkTG9nLFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB1cGRhdGVkTG9ncztcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb3V0Y29tZTtcbiAgICB9LFxuICAgIFthZGp1c3ROcGNTaGFtZSwgYXBwbHlFdmVudCwgZ2FpblhwRm9yQ29tcGFuaW9ucywgbG9ncywgbnBjcywgcmVhZFN0cmVha011bHRpcGxpZXJFbmFibGVkLCByaXR1YWxzLCBzZXRMb2dzLCBzZXRPYmVkaWVuY2UsIHNldFJpdHVhbHMsIHNldFhwLCB0cmlnZ2VyQnVmZkJ5U291cmNlXVxuICApO1xuXG4gIGNvbnN0IHJlc2V0Uml0dWFsU3RyZWFrID0gdXNlQ2FsbGJhY2soXG4gICAgKHJpdHVhbElkOiBzdHJpbmcpID0+IHtcbiAgICAgIHNldFJpdHVhbHMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChpdGVtKSA9PlxuICAgICAgICAgIGl0ZW0uaWQgPT09IHJpdHVhbElkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgIHN0cmVhazogMCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBpdGVtXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBzZXRMb2dzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigobG9nKSA9PiBsb2cucml0dWFsSWQgIT09IHJpdHVhbElkKSk7XG4gICAgfSxcbiAgICBbc2V0TG9ncywgc2V0Uml0dWFsc11cbiAgKTtcblxuICBjb25zdCBmYWlsUml0dWFsID0gdXNlQ2FsbGJhY2soXG4gICAgKHJpdHVhbElkOiBzdHJpbmcpID0+IHtcbiAgICAgIGluY3JlbWVudENvdW50ZXIoJ3JpdHVhbHNGYWlsZWQnLCAxKTtcbiAgICAgIHJlc2V0Uml0dWFsU3RyZWFrKHJpdHVhbElkKTtcbiAgICB9LFxuICAgIFtpbmNyZW1lbnRDb3VudGVyLCByZXNldFJpdHVhbFN0cmVha11cbiAgKTtcblxuICBjb25zdCBhZGRSaXR1YWwgPSB1c2VDYWxsYmFjayhcbiAgICAocml0dWFsOiBSaXR1YWwpID0+IHtcbiAgICAgIHNldFJpdHVhbHMoKHByZXYpID0+IFsuLi5wcmV2LCByaXR1YWxdKTtcbiAgICB9LFxuICAgIFtzZXRSaXR1YWxzXVxuICApO1xuXG4gIGNvbnN0IHVwZGF0ZVJpdHVhbCA9IHVzZUNhbGxiYWNrKFxuICAgIChyaXR1YWxJZDogc3RyaW5nLCBwYXRjaDogUGFydGlhbDxSaXR1YWw+KSA9PiB7XG4gICAgICBzZXRSaXR1YWxzKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgoaXRlbSkgPT5cbiAgICAgICAgICBpdGVtLmlkID09PSByaXR1YWxJZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAuLi5wYXRjaCxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBpdGVtXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfSxcbiAgICBbc2V0Uml0dWFsc11cbiAgKTtcblxuICBjb25zdCBkZWxldGVSaXR1YWwgPSB1c2VDYWxsYmFjayhcbiAgICAocml0dWFsSWQ6IHN0cmluZykgPT4ge1xuICAgICAgc2V0Uml0dWFscygocHJldikgPT4gcHJldi5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uaWQgIT09IHJpdHVhbElkKSk7XG4gICAgICBzZXRMb2dzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigobG9nKSA9PiBsb2cucml0dWFsSWQgIT09IHJpdHVhbElkKSk7XG4gICAgfSxcbiAgICBbc2V0TG9ncywgc2V0Uml0dWFsc11cbiAgKTtcblxuICBjb25zdCByaXR1YWxMb2dzRGVzY2VuZGluZyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBbLi4ubG9nc10uc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi50aW1lc3RhbXApLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEudGltZXN0YW1wKS5nZXRUaW1lKCkpO1xuICB9LCBbbG9nc10pO1xuXG4gIHJldHVybiB7XG4gICAgcml0dWFscyxcbiAgICBsb2dzOiByaXR1YWxMb2dzRGVzY2VuZGluZyxcbiAgICBwcm9ncmVzc0J5SWQsXG4gICAgY29tcGxldGVSaXR1YWwsXG4gICAgYWRkUml0dWFsLFxuICAgIHVwZGF0ZVJpdHVhbCxcbiAgICBkZWxldGVSaXR1YWwsXG4gICAgcmVzZXRSaXR1YWxTdHJlYWssXG4gICAgZmFpbFJpdHVhbCxcbiAgICB4cCxcbiAgICBvYmVkaWVuY2UsXG4gICAgc2V0WHAsXG4gICAgc2V0T2JlZGllbmNlLFxuICB9O1xufVxuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZVBlcnNpc3RlbnRTdGF0ZSIsInVzZUJ1ZmZzIiwidXNlQ29tcGFuaW9ucyIsInVzZU5wY3MiLCJ1c2VTaGFtZSIsImNsb25lRGVmYXVsdFJpdHVhbExvZ3MiLCJjbG9uZURlZmF1bHRSaXR1YWxzIiwiY29tcHV0ZVJpdHVhbFByb2dyZXNzIiwiRkFMTEJBQ0tfSUQiLCJjcnlwdG8iLCJyYW5kb21VVUlEIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwidXNlUml0dWFsc0VuZ2luZSIsInJpdHVhbHMiLCJzZXRSaXR1YWxzIiwibG9ncyIsInNldExvZ3MiLCJ4cCIsInNldFhwIiwib2JlZGllbmNlIiwic2V0T2JlZGllbmNlIiwiYXBwbHlFdmVudCIsInRyaWdnZXJCdWZmQnlTb3VyY2UiLCJjb21wYW5pb25zIiwiZ2FpblhwRm9yQ29tcGFuaW9ucyIsIm5wY3MiLCJhZGp1c3RTaGFtZSIsImFkanVzdE5wY1NoYW1lIiwiaW5jcmVtZW50Q291bnRlciIsInByb2dyZXNzQnlJZCIsInJlZHVjZSIsImFjYyIsInJpdHVhbCIsImlkIiwicmVhZFN0cmVha011bHRpcGxpZXJFbmFibGVkIiwicGFyc2VkIiwicmF3Iiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInN0cmVha011bHRpcGxpZXJFbmFibGVkIiwiY29tcGxldGVSaXR1YWwiLCJyaXR1YWxJZCIsImZpbmQiLCJpdGVtIiwic3RhdHVzIiwib3V0Y29tZSIsInByb2dyZXNzIiwicHJldmlvdXNMb2dzIiwicHJvZ3Jlc3NCZWZvcmUiLCJjb21wbGV0ZWQiLCJiYXNlTG9nIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJ0ZW50YXRpdmVMb2dzIiwicHJvZ3Jlc3NBZnRlciIsIm11bHRpcGxpZXJFbmFibGVkIiwiYXBwbGllZE11bHRpcGxpZXIiLCJtdWx0aXBsaWVyIiwieHBXaXRoQm9udXMiLCJNYXRoIiwicm91bmQiLCJvYmVkaWVuY2VBd2FyZGVkIiwiZmluYWxYcCIsImZpbmFsT2JlZGllbmNlIiwiY29tcGxldGVkTG9nIiwieHBBd2FyZGVkIiwibXVsdGlwbGllckFwcGxpZWQiLCJ1cGRhdGVkTG9ncyIsInByZXYiLCJtYXAiLCJzdHJlYWsiLCJuYW1lIiwicml0dWFsVGV4dCIsInRvTG93ZXJDYXNlIiwiZm9yRWFjaCIsIm5wYyIsImluY2x1ZGVzIiwibG9nIiwicmVzZXRSaXR1YWxTdHJlYWsiLCJmaWx0ZXIiLCJmYWlsUml0dWFsIiwiYWRkUml0dWFsIiwidXBkYXRlUml0dWFsIiwicGF0Y2giLCJkZWxldGVSaXR1YWwiLCJyaXR1YWxMb2dzRGVzY2VuZGluZyIsInNvcnQiLCJhIiwiYiIsImdldFRpbWUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useRitualsEngine.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useShame.ts":
/*!*******************************!*\
  !*** ./app/hooks/useShame.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useShame: () => (/* binding */ useShame)\n/* harmony export */ });\n/* harmony import */ var _usePersistentState__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./usePersistentState */ \"(app-pages-browser)/./app/hooks/usePersistentState.ts\");\n/* harmony import */ var _data_shame_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/shame.json */ \"(app-pages-browser)/./data/shame.json\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* __next_internal_client_entry_do_not_use__ useShame auto */ \n\n\nfunction useShame() {\n    const [shame, setShame] = (0,_usePersistentState__WEBPACK_IMPORTED_MODULE_0__.usePersistentState)('shame', {\n        \"useShame.usePersistentState\": ()=>_data_shame_json__WEBPACK_IMPORTED_MODULE_1__\n    }[\"useShame.usePersistentState\"]);\n    const addConfession = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"useShame.useCallback[addConfession]\": (text)=>{\n            const newConfession = {\n                id: \"c\".concat(Date.now()),\n                text,\n                date: new Date().toISOString().split('T')[0]\n            };\n            setShame({\n                \"useShame.useCallback[addConfession]\": (prev)=>({\n                        ...prev,\n                        confessions: [\n                            ...prev.confessions,\n                            newConfession\n                        ]\n                    })\n            }[\"useShame.useCallback[addConfession]\"]);\n        }\n    }[\"useShame.useCallback[addConfession]\"], [\n        setShame\n    ]);\n    const incrementCounter = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"useShame.useCallback[incrementCounter]\": function(counter) {\n            let amount = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n            setShame({\n                \"useShame.useCallback[incrementCounter]\": (prev)=>{\n                    if (typeof prev[counter] === 'number') {\n                        return {\n                            ...prev,\n                            [counter]: prev[counter] + amount\n                        };\n                    }\n                    return prev;\n                }\n            }[\"useShame.useCallback[incrementCounter]\"]);\n        }\n    }[\"useShame.useCallback[incrementCounter]\"], [\n        setShame\n    ]);\n    const resetShame = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"useShame.useCallback[resetShame]\": ()=>{\n            setShame(_data_shame_json__WEBPACK_IMPORTED_MODULE_1__);\n        }\n    }[\"useShame.useCallback[resetShame]\"], [\n        setShame\n    ]);\n    return {\n        shame,\n        addConfession,\n        incrementCounter,\n        resetShame\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VTaGFtZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs4REFFMEQ7QUFDVDtBQUNiO0FBZTdCLFNBQVNHO0lBQ2QsTUFBTSxDQUFDQyxPQUFPQyxTQUFTLEdBQUdMLHVFQUFrQkEsQ0FBYTt1Q0FBUyxJQUFNQyw2Q0FBWUE7O0lBRXBGLE1BQU1LLGdCQUFnQkosa0RBQVdBOytDQUFDLENBQUNLO1lBQ2pDLE1BQU1DLGdCQUE0QjtnQkFDaENDLElBQUksSUFBZSxPQUFYQyxLQUFLQyxHQUFHO2dCQUNoQko7Z0JBQ0FLLE1BQU0sSUFBSUYsT0FBT0csV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDOUM7WUFDQVQ7dURBQVNVLENBQUFBLE9BQVM7d0JBQ2hCLEdBQUdBLElBQUk7d0JBQ1BDLGFBQWE7K0JBQUlELEtBQUtDLFdBQVc7NEJBQUVSO3lCQUFjO29CQUNuRDs7UUFDRjs4Q0FBRztRQUFDSDtLQUFTO0lBRWIsTUFBTVksbUJBQW1CZixrREFBV0E7a0RBQUMsU0FBQ2dCO2dCQUEyQkMsMEVBQVM7WUFDeEVkOzBEQUFTVSxDQUFBQTtvQkFDUCxJQUFJLE9BQU9BLElBQUksQ0FBQ0csUUFBUSxLQUFLLFVBQVU7d0JBQ3JDLE9BQU87NEJBQ0wsR0FBR0gsSUFBSTs0QkFDUCxDQUFDRyxRQUFRLEVBQUUsSUFBSyxDQUFDQSxRQUFRLEdBQWNDO3dCQUN6QztvQkFDRjtvQkFDQSxPQUFPSjtnQkFDVDs7UUFDRjtpREFBRztRQUFDVjtLQUFTO0lBRWIsTUFBTWUsYUFBYWxCLGtEQUFXQTs0Q0FBQztZQUM3QkcsU0FBU0osNkNBQVlBO1FBQ3ZCOzJDQUFHO1FBQUNJO0tBQVM7SUFFYixPQUFPO1FBQ0xEO1FBQ0FFO1FBQ0FXO1FBQ0FHO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlU2hhbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlUGVyc2lzdGVudFN0YXRlIH0gZnJvbSAnLi91c2VQZXJzaXN0ZW50U3RhdGUnO1xyXG5pbXBvcnQgZGVmYXVsdFNoYW1lIGZyb20gJy4uLy4uL2RhdGEvc2hhbWUuanNvbic7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25mZXNzaW9uIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHRleHQ6IHN0cmluZztcclxuICBkYXRlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU2hhbWVTdGF0ZSB7XHJcbiAgcGFudGllc1NuaWZmZWQ6IG51bWJlcjtcclxuICByaXR1YWxzRmFpbGVkOiBudW1iZXI7XHJcbiAgZGlydHlUb2tlbnNCdXJuZWQ6IG51bWJlcjtcclxuICBjb25mZXNzaW9uczogQ29uZmVzc2lvbltdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlU2hhbWUoKSB7XHJcbiAgY29uc3QgW3NoYW1lLCBzZXRTaGFtZV0gPSB1c2VQZXJzaXN0ZW50U3RhdGU8U2hhbWVTdGF0ZT4oJ3NoYW1lJywgKCkgPT4gZGVmYXVsdFNoYW1lKTtcclxuXHJcbiAgY29uc3QgYWRkQ29uZmVzc2lvbiA9IHVzZUNhbGxiYWNrKCh0ZXh0OiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IG5ld0NvbmZlc3Npb246IENvbmZlc3Npb24gPSB7XHJcbiAgICAgIGlkOiBgYyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICB0ZXh0LFxyXG4gICAgICBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSxcclxuICAgIH07XHJcbiAgICBzZXRTaGFtZShwcmV2ID0+ICh7XHJcbiAgICAgIC4uLnByZXYsXHJcbiAgICAgIGNvbmZlc3Npb25zOiBbLi4ucHJldi5jb25mZXNzaW9ucywgbmV3Q29uZmVzc2lvbl0sXHJcbiAgICB9KSk7XHJcbiAgfSwgW3NldFNoYW1lXSk7XHJcblxyXG4gIGNvbnN0IGluY3JlbWVudENvdW50ZXIgPSB1c2VDYWxsYmFjaygoY291bnRlcjoga2V5b2YgU2hhbWVTdGF0ZSwgYW1vdW50ID0gMSkgPT4ge1xyXG4gICAgc2V0U2hhbWUocHJldiA9PiB7XHJcbiAgICAgIGlmICh0eXBlb2YgcHJldltjb3VudGVyXSA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ucHJldixcclxuICAgICAgICAgIFtjb3VudGVyXTogKHByZXZbY291bnRlcl0gYXMgbnVtYmVyKSArIGFtb3VudCxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgfSk7XHJcbiAgfSwgW3NldFNoYW1lXSk7XHJcblxyXG4gIGNvbnN0IHJlc2V0U2hhbWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBzZXRTaGFtZShkZWZhdWx0U2hhbWUpO1xyXG4gIH0sIFtzZXRTaGFtZV0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2hhbWUsXHJcbiAgICBhZGRDb25mZXNzaW9uLFxyXG4gICAgaW5jcmVtZW50Q291bnRlcixcclxuICAgIHJlc2V0U2hhbWUsXHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlUGVyc2lzdGVudFN0YXRlIiwiZGVmYXVsdFNoYW1lIiwidXNlQ2FsbGJhY2siLCJ1c2VTaGFtZSIsInNoYW1lIiwic2V0U2hhbWUiLCJhZGRDb25mZXNzaW9uIiwidGV4dCIsIm5ld0NvbmZlc3Npb24iLCJpZCIsIkRhdGUiLCJub3ciLCJkYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsInByZXYiLCJjb25mZXNzaW9ucyIsImluY3JlbWVudENvdW50ZXIiLCJjb3VudGVyIiwiYW1vdW50IiwicmVzZXRTaGFtZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useShame.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/hooks/useShameAchievements.ts":
/*!*******************************************!*\
  !*** ./app/hooks/useShameAchievements.ts ***!
  \*******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useShameAchievements: () => (/* binding */ useShameAchievements)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _useAchievements__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useAchievements */ \"(app-pages-browser)/./app/hooks/useAchievements.ts\");\n/* harmony import */ var _useShame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useShame */ \"(app-pages-browser)/./app/hooks/useShame.ts\");\n/* harmony import */ var _usePunishments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./usePunishments */ \"(app-pages-browser)/./app/hooks/usePunishments.ts\");\n/* __next_internal_client_entry_do_not_use__ useShameAchievements auto */ \n\n\n\n/**\r\n * A custom hook to manage shame-related achievements.\r\n * It listens to changes in shame state and unlocks achievements when their triggers are met.\r\n */ function useShameAchievements() {\n    const { achievements, unlockAchievement } = (0,_useAchievements__WEBPACK_IMPORTED_MODULE_1__.useAchievements)();\n    const { shame } = (0,_useShame__WEBPACK_IMPORTED_MODULE_2__.useShame)();\n    const { activePunishments } = (0,_usePunishments__WEBPACK_IMPORTED_MODULE_3__.usePunishments)();\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useShameAchievements.useEffect\": ()=>{\n            // Don't run if achievements haven't loaded yet\n            if (!achievements || achievements.length === 0) return;\n            // Filter for only un-unlocked Shame achievements to check\n            const shameAchievements = achievements.filter({\n                \"useShameAchievements.useEffect.shameAchievements\": (a)=>!a.unlocked && a.category === 'Shame'\n            }[\"useShameAchievements.useEffect.shameAchievements\"]);\n            if (shameAchievements.length === 0) return;\n            shameAchievements.forEach({\n                \"useShameAchievements.useEffect\": (achievement)=>{\n                    const { trigger } = achievement;\n                    let conditionMet = false;\n                    switch(trigger.type){\n                        case 'SHAME_COUNTER':\n                            // Ensure the counter exists on the shame object before checking\n                            if (trigger.counter in shame && shame[trigger.counter] >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'CONFESSION_LOGGED':\n                            if (shame.confessions.length >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        case 'PUNISHMENT_TIER_REACHED':\n                            // The tier is determined by the number of active punishments\n                            if (activePunishments.length >= trigger.value) {\n                                conditionMet = true;\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                    if (conditionMet) {\n                        unlockAchievement(achievement.id);\n                    }\n                }\n            }[\"useShameAchievements.useEffect\"]);\n        // This effect should re-run whenever the player's shame or punishment status changes.\n        }\n    }[\"useShameAchievements.useEffect\"], [\n        shame,\n        activePunishments,\n        achievements,\n        unlockAchievement\n    ]);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9ob29rcy91c2VTaGFtZUFjaGlldmVtZW50cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7MEVBRWtDO0FBQ2tCO0FBQ2Q7QUFDWTtBQUVsRDs7O0NBR0MsR0FDTSxTQUFTSTtJQUNkLE1BQU0sRUFBRUMsWUFBWSxFQUFFQyxpQkFBaUIsRUFBRSxHQUFHTCxpRUFBZUE7SUFDM0QsTUFBTSxFQUFFTSxLQUFLLEVBQUUsR0FBR0wsbURBQVFBO0lBQzFCLE1BQU0sRUFBRU0saUJBQWlCLEVBQUUsR0FBR0wsK0RBQWNBO0lBRTVDSCxnREFBU0E7MENBQUM7WUFDUiwrQ0FBK0M7WUFDL0MsSUFBSSxDQUFDSyxnQkFBZ0JBLGFBQWFJLE1BQU0sS0FBSyxHQUFHO1lBRWhELDBEQUEwRDtZQUMxRCxNQUFNQyxvQkFBb0JMLGFBQWFNLE1BQU07b0VBQzNDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUVDLFFBQVEsSUFBSUQsRUFBRUUsUUFBUSxLQUFLOztZQUdyQyxJQUFJSixrQkFBa0JELE1BQU0sS0FBSyxHQUFHO1lBRXBDQyxrQkFBa0JLLE9BQU87a0RBQUNDLENBQUFBO29CQUN4QixNQUFNLEVBQUVDLE9BQU8sRUFBRSxHQUFHRDtvQkFDcEIsSUFBSUUsZUFBZTtvQkFFbkIsT0FBUUQsUUFBUUUsSUFBSTt3QkFDbEIsS0FBSzs0QkFDSCxnRUFBZ0U7NEJBQ2hFLElBQUlGLFFBQVFHLE9BQU8sSUFBSWIsU0FBU0EsS0FBSyxDQUFDVSxRQUFRRyxPQUFPLENBQUMsSUFBSUgsUUFBUUksS0FBSyxFQUFFO2dDQUN2RUgsZUFBZTs0QkFDakI7NEJBQ0E7d0JBQ0YsS0FBSzs0QkFDSCxJQUFJWCxNQUFNZSxXQUFXLENBQUNiLE1BQU0sSUFBSVEsUUFBUUksS0FBSyxFQUFFO2dDQUM3Q0gsZUFBZTs0QkFDakI7NEJBQ0E7d0JBQ0YsS0FBSzs0QkFDRiw2REFBNkQ7NEJBQzlELElBQUlWLGtCQUFrQkMsTUFBTSxJQUFJUSxRQUFRSSxLQUFLLEVBQUU7Z0NBQzdDSCxlQUFlOzRCQUNqQjs0QkFDQTt3QkFDRjs0QkFFRTtvQkFDSjtvQkFFQSxJQUFJQSxjQUFjO3dCQUNoQlosa0JBQWtCVSxZQUFZTyxFQUFFO29CQUNsQztnQkFDRjs7UUFDQSxzRkFBc0Y7UUFDeEY7eUNBQUc7UUFBQ2hCO1FBQU9DO1FBQW1CSDtRQUFjQztLQUFrQjtBQUNoRSIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxob29rc1xcdXNlU2hhbWVBY2hpZXZlbWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBY2hpZXZlbWVudHMgfSBmcm9tICcuL3VzZUFjaGlldmVtZW50cyc7XHJcbmltcG9ydCB7IHVzZVNoYW1lIH0gZnJvbSAnLi91c2VTaGFtZSc7XHJcbmltcG9ydCB7IHVzZVB1bmlzaG1lbnRzIH0gZnJvbSAnLi91c2VQdW5pc2htZW50cyc7XHJcblxyXG4vKipcclxuICogQSBjdXN0b20gaG9vayB0byBtYW5hZ2Ugc2hhbWUtcmVsYXRlZCBhY2hpZXZlbWVudHMuXHJcbiAqIEl0IGxpc3RlbnMgdG8gY2hhbmdlcyBpbiBzaGFtZSBzdGF0ZSBhbmQgdW5sb2NrcyBhY2hpZXZlbWVudHMgd2hlbiB0aGVpciB0cmlnZ2VycyBhcmUgbWV0LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNoYW1lQWNoaWV2ZW1lbnRzKCkge1xyXG4gIGNvbnN0IHsgYWNoaWV2ZW1lbnRzLCB1bmxvY2tBY2hpZXZlbWVudCB9ID0gdXNlQWNoaWV2ZW1lbnRzKCk7XHJcbiAgY29uc3QgeyBzaGFtZSB9ID0gdXNlU2hhbWUoKTtcclxuICBjb25zdCB7IGFjdGl2ZVB1bmlzaG1lbnRzIH0gPSB1c2VQdW5pc2htZW50cygpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgLy8gRG9uJ3QgcnVuIGlmIGFjaGlldmVtZW50cyBoYXZlbid0IGxvYWRlZCB5ZXRcclxuICAgIGlmICghYWNoaWV2ZW1lbnRzIHx8IGFjaGlldmVtZW50cy5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcbiAgICAvLyBGaWx0ZXIgZm9yIG9ubHkgdW4tdW5sb2NrZWQgU2hhbWUgYWNoaWV2ZW1lbnRzIHRvIGNoZWNrXHJcbiAgICBjb25zdCBzaGFtZUFjaGlldmVtZW50cyA9IGFjaGlldmVtZW50cy5maWx0ZXIoXHJcbiAgICAgIGEgPT4gIWEudW5sb2NrZWQgJiYgYS5jYXRlZ29yeSA9PT0gJ1NoYW1lJ1xyXG4gICAgKTtcclxuXHJcbiAgICBpZiAoc2hhbWVBY2hpZXZlbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgc2hhbWVBY2hpZXZlbWVudHMuZm9yRWFjaChhY2hpZXZlbWVudCA9PiB7XHJcbiAgICAgIGNvbnN0IHsgdHJpZ2dlciB9ID0gYWNoaWV2ZW1lbnQ7XHJcbiAgICAgIGxldCBjb25kaXRpb25NZXQgPSBmYWxzZTtcclxuXHJcbiAgICAgIHN3aXRjaCAodHJpZ2dlci50eXBlKSB7XHJcbiAgICAgICAgY2FzZSAnU0hBTUVfQ09VTlRFUic6XHJcbiAgICAgICAgICAvLyBFbnN1cmUgdGhlIGNvdW50ZXIgZXhpc3RzIG9uIHRoZSBzaGFtZSBvYmplY3QgYmVmb3JlIGNoZWNraW5nXHJcbiAgICAgICAgICBpZiAodHJpZ2dlci5jb3VudGVyIGluIHNoYW1lICYmIHNoYW1lW3RyaWdnZXIuY291bnRlcl0gPj0gdHJpZ2dlci52YWx1ZSkge1xyXG4gICAgICAgICAgICBjb25kaXRpb25NZXQgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnQ09ORkVTU0lPTl9MT0dHRUQnOlxyXG4gICAgICAgICAgaWYgKHNoYW1lLmNvbmZlc3Npb25zLmxlbmd0aCA+PSB0cmlnZ2VyLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdQVU5JU0hNRU5UX1RJRVJfUkVBQ0hFRCc6XHJcbiAgICAgICAgICAgLy8gVGhlIHRpZXIgaXMgZGV0ZXJtaW5lZCBieSB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBwdW5pc2htZW50c1xyXG4gICAgICAgICAgaWYgKGFjdGl2ZVB1bmlzaG1lbnRzLmxlbmd0aCA+PSB0cmlnZ2VyLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGNvbmRpdGlvbk1ldCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgLy8gVGhpcyBhY2hpZXZlbWVudCdzIHRyaWdnZXIgaXMgbm90IGhhbmRsZWQgYnkgdGhpcyBzcGVjaWZpYyBob29rXHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGNvbmRpdGlvbk1ldCkge1xyXG4gICAgICAgIHVubG9ja0FjaGlldmVtZW50KGFjaGlldmVtZW50LmlkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyBUaGlzIGVmZmVjdCBzaG91bGQgcmUtcnVuIHdoZW5ldmVyIHRoZSBwbGF5ZXIncyBzaGFtZSBvciBwdW5pc2htZW50IHN0YXR1cyBjaGFuZ2VzLlxyXG4gIH0sIFtzaGFtZSwgYWN0aXZlUHVuaXNobWVudHMsIGFjaGlldmVtZW50cywgdW5sb2NrQWNoaWV2ZW1lbnRdKTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlQWNoaWV2ZW1lbnRzIiwidXNlU2hhbWUiLCJ1c2VQdW5pc2htZW50cyIsInVzZVNoYW1lQWNoaWV2ZW1lbnRzIiwiYWNoaWV2ZW1lbnRzIiwidW5sb2NrQWNoaWV2ZW1lbnQiLCJzaGFtZSIsImFjdGl2ZVB1bmlzaG1lbnRzIiwibGVuZ3RoIiwic2hhbWVBY2hpZXZlbWVudHMiLCJmaWx0ZXIiLCJhIiwidW5sb2NrZWQiLCJjYXRlZ29yeSIsImZvckVhY2giLCJhY2hpZXZlbWVudCIsInRyaWdnZXIiLCJjb25kaXRpb25NZXQiLCJ0eXBlIiwiY291bnRlciIsInZhbHVlIiwiY29uZmVzc2lvbnMiLCJpZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/hooks/useShameAchievements.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/companions.ts":
/*!*******************************!*\
  !*** ./app/lib/companions.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COMPANION_BUFF_KEYS: () => (/* binding */ COMPANION_BUFF_KEYS),\n/* harmony export */   XP_EVENT_VALUES: () => (/* binding */ XP_EVENT_VALUES),\n/* harmony export */   canEvolve: () => (/* binding */ canEvolve),\n/* harmony export */   cloneCompanion: () => (/* binding */ cloneCompanion),\n/* harmony export */   cloneDefaultCompanions: () => (/* binding */ cloneDefaultCompanions),\n/* harmony export */   getActiveForm: () => (/* binding */ getActiveForm),\n/* harmony export */   getNextForm: () => (/* binding */ getNextForm),\n/* harmony export */   getXpForEvent: () => (/* binding */ getXpForEvent),\n/* harmony export */   getXpProgression: () => (/* binding */ getXpProgression),\n/* harmony export */   levelForXp: () => (/* binding */ levelForXp),\n/* harmony export */   totalXpToReachLevel: () => (/* binding */ totalXpToReachLevel),\n/* harmony export */   xpNeededForLevel: () => (/* binding */ xpNeededForLevel)\n/* harmony export */ });\n/* harmony import */ var _data_companions_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/companions.json */ \"(app-pages-browser)/./data/companions.json\");\n\nconst COMPANION_BUFF_KEYS = [\n    \"xpMultiplier\",\n    \"obedienceGain\",\n    \"tokenMultiplier\",\n    \"clarityBoost\"\n];\nconst DEFAULT_COMPANIONS = _data_companions_json__WEBPACK_IMPORTED_MODULE_0__.map((companion)=>cloneCompanion(companion));\nfunction cloneCompanion(companion) {\n    var _normalisedForms_find, _normalisedForms_;\n    const normalisedForms = [\n        ...companion.evolutionTree\n    ].map((form, index)=>normaliseForm(form, index)).sort((a, b)=>{\n        var _a_unlockLevel, _b_unlockLevel;\n        return ((_a_unlockLevel = a.unlockLevel) !== null && _a_unlockLevel !== void 0 ? _a_unlockLevel : 0) - ((_b_unlockLevel = b.unlockLevel) !== null && _b_unlockLevel !== void 0 ? _b_unlockLevel : 0);\n    });\n    var _normalisedForms_find_id, _ref;\n    const currentForm = (_ref = (_normalisedForms_find_id = (_normalisedForms_find = normalisedForms.find((form)=>form.id === companion.currentForm)) === null || _normalisedForms_find === void 0 ? void 0 : _normalisedForms_find.id) !== null && _normalisedForms_find_id !== void 0 ? _normalisedForms_find_id : (_normalisedForms_ = normalisedForms[0]) === null || _normalisedForms_ === void 0 ? void 0 : _normalisedForms_.id) !== null && _ref !== void 0 ? _ref : companion.currentForm;\n    const level = Math.max(1, Number(companion.level) || 1);\n    const carryOverXp = Math.max(0, Number(companion.xp) || 0);\n    const sanitisedXp = clampXp(carryOverXp, level);\n    return {\n        ...companion,\n        level,\n        xp: sanitisedXp,\n        autoEvolve: Boolean(companion.autoEvolve),\n        currentForm,\n        evolutionTree: normalisedForms\n    };\n}\nfunction cloneDefaultCompanions() {\n    return DEFAULT_COMPANIONS.map((companion)=>cloneCompanion(companion));\n}\nfunction normaliseForm(form, index) {\n    const unlockLevel = typeof form.unlockLevel === \"number\" ? Math.max(1, form.unlockLevel) : index === 0 ? 1 : 1 + index * 2;\n    return {\n        ...form,\n        unlockLevel,\n        buff: form.buff ? {\n            ...form.buff\n        } : undefined\n    };\n}\nfunction clampXp(xp, level) {\n    const capacity = xpNeededForLevel(level + 1);\n    if (capacity <= 0) return 0;\n    return Math.min(xp, capacity - 1);\n}\nfunction getActiveForm(companion) {\n    if (!companion || !companion.evolutionTree) {\n        return undefined;\n    }\n    return companion.evolutionTree.find((form)=>form.id === companion.currentForm);\n}\nfunction getNextForm(companion) {\n    //  FIX: Guard against undefined evolutionTree\n    if (!(companion === null || companion === void 0 ? void 0 : companion.evolutionTree)) {\n        return undefined;\n    }\n    const next = companion.evolutionTree.filter((form)=>{\n        var _getActiveForm;\n        var _getActiveForm_unlockLevel;\n        return form.unlockLevel > ((_getActiveForm_unlockLevel = (_getActiveForm = getActiveForm(companion)) === null || _getActiveForm === void 0 ? void 0 : _getActiveForm.unlockLevel) !== null && _getActiveForm_unlockLevel !== void 0 ? _getActiveForm_unlockLevel : 0);\n    }).sort((a, b)=>a.unlockLevel - b.unlockLevel)[0];\n    return next;\n}\nfunction canEvolve(companion) {\n    const next = getNextForm(companion);\n    if (!next) return false;\n    return companion.level >= next.unlockLevel;\n}\nconst XP_EVENT_VALUES = {\n    dream: 10,\n    ritual: 20,\n    quest: 50,\n    panty: 30\n};\nfunction getXpForEvent(event) {\n    var _XP_EVENT_VALUES_event;\n    return (_XP_EVENT_VALUES_event = XP_EVENT_VALUES[event]) !== null && _XP_EVENT_VALUES_event !== void 0 ? _XP_EVENT_VALUES_event : 0;\n}\nfunction levelForXp(level, xp) {\n    let currentLevel = level;\n    let remainingXp = xp;\n    while(remainingXp >= xpNeededForLevel(currentLevel + 1)){\n        remainingXp -= xpNeededForLevel(currentLevel + 1);\n        currentLevel += 1;\n    }\n    return currentLevel;\n}\nfunction xpNeededForLevel(targetLevel) {\n    if (targetLevel <= 1) return 0;\n    return Math.max(20, targetLevel * 20);\n}\nfunction totalXpToReachLevel(level) {\n    if (level <= 1) return 0;\n    let total = 0;\n    for(let current = 2; current <= level; current += 1){\n        total += xpNeededForLevel(current);\n    }\n    return total;\n}\nfunction getXpProgression(companion) {\n    const nextLevel = companion.level + 1;\n    const needed = xpNeededForLevel(nextLevel);\n    return {\n        level: companion.level,\n        current: companion.xp,\n        needed,\n        ratio: needed <= 0 ? 0 : Math.max(0, Math.min(1, companion.xp / needed))\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvY29tcGFuaW9ucy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBV3BELE1BQU1DLHNCQUEwQztJQUNyRDtJQUNBO0lBQ0E7SUFDQTtDQUNELENBQUM7QUF5QkYsTUFBTUMscUJBQXFCLG1EQUFtQ0MsR0FBRyxDQUFDLENBQUNDLFlBQWNDLGVBQWVEO0FBRXpGLFNBQVNDLGVBQWVELFNBQW9CO1FBSzdCRSx1QkFDZkE7SUFMTCxNQUFNQSxrQkFBa0I7V0FBSUYsVUFBVUcsYUFBYTtLQUFDLENBQ2pESixHQUFHLENBQUMsQ0FBQ0ssTUFBTUMsUUFBVUMsY0FBY0YsTUFBTUMsUUFDekNFLElBQUksQ0FBQyxDQUFDQyxHQUFHQztZQUFPRCxnQkFBdUJDO2VBQXhCLENBQUNELENBQUFBLGlCQUFBQSxFQUFFRSxXQUFXLGNBQWJGLDRCQUFBQSxpQkFBaUIsS0FBTUMsQ0FBQUEsQ0FBQUEsaUJBQUFBLEVBQUVDLFdBQVcsY0FBYkQsNEJBQUFBLGlCQUFpQjs7UUFFdkNQLDBCQUFBQTtJQUFwQixNQUFNUyxjQUFjVCxDQUFBQSxPQUFBQSxDQUFBQSw0QkFBQUEsd0JBQUFBLGdCQUFnQlUsSUFBSSxDQUFDLENBQUNSLE9BQVNBLEtBQUtTLEVBQUUsS0FBS2IsVUFBVVcsV0FBVyxlQUFoRVQsNENBQUFBLHNCQUFtRVcsRUFBRSxjQUFyRVgsc0NBQUFBLDRCQUNmQSxvQkFBQUEsZUFBZSxDQUFDLEVBQUUsY0FBbEJBLHdDQUFBQSxrQkFBb0JXLEVBQUUsY0FEUFgsa0JBQUFBLE9BRWZGLFVBQVVXLFdBQVc7SUFFMUIsTUFBTUcsUUFBUUMsS0FBS0MsR0FBRyxDQUFDLEdBQUdDLE9BQU9qQixVQUFVYyxLQUFLLEtBQUs7SUFDckQsTUFBTUksY0FBY0gsS0FBS0MsR0FBRyxDQUFDLEdBQUdDLE9BQU9qQixVQUFVbUIsRUFBRSxLQUFLO0lBQ3hELE1BQU1DLGNBQWNDLFFBQVFILGFBQWFKO0lBRXpDLE9B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Q3BERCxTQUFTbkIsaUJBQWlCb0I7SUFDNUI7SUFDQSxPQUFPRDtBQUNUO0FBRU8sU0FBU0UsaUJBQWlCakQsU0FBb0I7SUFDbkQsTUFBTWtELFlBQVlsRCxVQUFVYyxLQUFLLEdBQUc7SUFDcEMsTUFBTXFDLFNBQVN2QixpQkFBaUJzQjtJQUNoQyxPQUFPO1FBQ0xwQyxPQUFPZCxVQUFVYyxLQUFLO1FBQ3RCa0MsU0FBU2hELFVBQVVtQixFQUFFO1FBQ3JCZ0M7UUFDQUMsT0FBT0QsVUFBVSxJQUFJLElBQUlwQyxLQUFLQyxHQUFHLENBQUMsR0FBR0QsS0FBS2MsR0FBRyxDQUFDLEdBQUc3QixVQUFVbUIsRUFBRSxHQUFHZ0M7SUFDbEU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxsaWJcXGNvbXBhbmlvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRDb21wYW5pb25zIGZyb20gXCIuLi8uLi9kYXRhL2NvbXBhbmlvbnMuanNvblwiO1xuXG5leHBvcnQgdHlwZSBDb21wYW5pb25CdWZmID0ge1xuICB4cE11bHRpcGxpZXI/OiBudW1iZXI7XG4gIG9iZWRpZW5jZUdhaW4/OiBudW1iZXI7XG4gIHRva2VuTXVsdGlwbGllcj86IG51bWJlcjtcbiAgY2xhcml0eUJvb3N0PzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQ29tcGFuaW9uQnVmZktleSA9IGtleW9mIENvbXBhbmlvbkJ1ZmY7XG5cbmV4cG9ydCBjb25zdCBDT01QQU5JT05fQlVGRl9LRVlTOiBDb21wYW5pb25CdWZmS2V5W10gPSBbXG4gIFwieHBNdWx0aXBsaWVyXCIsXG4gIFwib2JlZGllbmNlR2FpblwiLFxuICBcInRva2VuTXVsdGlwbGllclwiLFxuICBcImNsYXJpdHlCb29zdFwiLFxuXTtcblxuZXhwb3J0IHR5cGUgQ29tcGFuaW9uRm9ybSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB1bmxvY2tMZXZlbDogbnVtYmVyO1xuICBidWZmPzogQ29tcGFuaW9uQnVmZjtcbiAgaWNvbj86IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgdHlwZSBDb21wYW5pb24gPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgbGV2ZWw6IG51bWJlcjtcbiAgeHA6IG51bWJlcjtcbiAgYm9uZDogbnVtYmVyO1xuICBsb3JlPzogc3RyaW5nO1xuICBldm9sdXRpb25UcmVlOiBDb21wYW5pb25Gb3JtW107XG4gIGN1cnJlbnRGb3JtOiBzdHJpbmc7XG4gIGF1dG9Fdm9sdmU/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgQ29tcGFuaW9uWHBFdmVudCA9IFwiZHJlYW1cIiB8IFwicml0dWFsXCIgfCBcInF1ZXN0XCIgfCBcInBhbnR5XCI7XG5cbmNvbnN0IERFRkFVTFRfQ09NUEFOSU9OUyA9IChkZWZhdWx0Q29tcGFuaW9ucyBhcyBDb21wYW5pb25bXSkubWFwKChjb21wYW5pb24pID0+IGNsb25lQ29tcGFuaW9uKGNvbXBhbmlvbikpO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVDb21wYW5pb24oY29tcGFuaW9uOiBDb21wYW5pb24pOiBDb21wYW5pb24ge1xuICBjb25zdCBub3JtYWxpc2VkRm9ybXMgPSBbLi4uY29tcGFuaW9uLmV2b2x1dGlvblRyZWVdXG4gICAgLm1hcCgoZm9ybSwgaW5kZXgpID0+IG5vcm1hbGlzZUZvcm0oZm9ybSwgaW5kZXgpKVxuICAgIC5zb3J0KChhLCBiKSA9PiAoYS51bmxvY2tMZXZlbCA/PyAwKSAtIChiLnVubG9ja0xldmVsID8/IDApKTtcblxuICBjb25zdCBjdXJyZW50Rm9ybSA9IG5vcm1hbGlzZWRGb3Jtcy5maW5kKChmb3JtKSA9PiBmb3JtLmlkID09PSBjb21wYW5pb24uY3VycmVudEZvcm0pPy5pZFxuICAgID8/IG5vcm1hbGlzZWRGb3Jtc1swXT8uaWRcbiAgICA/PyBjb21wYW5pb24uY3VycmVudEZvcm07XG5cbiAgY29uc3QgbGV2ZWwgPSBNYXRoLm1heCgxLCBOdW1iZXIoY29tcGFuaW9uLmxldmVsKSB8fCAxKTtcbiAgY29uc3QgY2FycnlPdmVyWHAgPSBNYXRoLm1heCgwLCBOdW1iZXIoY29tcGFuaW9uLnhwKSB8fCAwKTtcbiAgY29uc3Qgc2FuaXRpc2VkWHAgPSBjbGFtcFhwKGNhcnJ5T3ZlclhwLCBsZXZlbCk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5jb21wYW5pb24sXG4gICAgbGV2ZWwsXG4gICAgeHA6IHNhbml0aXNlZFhwLFxuICAgIGF1dG9Fdm9sdmU6IEJvb2xlYW4oY29tcGFuaW9uLmF1dG9Fdm9sdmUpLFxuICAgIGN1cnJlbnRGb3JtLFxuICAgIGV2b2x1dGlvblRyZWU6IG5vcm1hbGlzZWRGb3JtcyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRGVmYXVsdENvbXBhbmlvbnMoKTogQ29tcGFuaW9uW10ge1xuICByZXR1cm4gREVGQVVMVF9DT01QQU5JT05TLm1hcCgoY29tcGFuaW9uKSA9PiBjbG9uZUNvbXBhbmlvbihjb21wYW5pb24pKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXNlRm9ybShmb3JtOiBDb21wYW5pb25Gb3JtLCBpbmRleDogbnVtYmVyKTogQ29tcGFuaW9uRm9ybSB7XG4gIGNvbnN0IHVubG9ja0xldmVsID0gdHlwZW9mIGZvcm0udW5sb2NrTGV2ZWwgPT09IFwibnVtYmVyXCJcbiAgICA/IE1hdGgubWF4KDEsIGZvcm0udW5sb2NrTGV2ZWwpXG4gICAgOiBpbmRleCA9PT0gMFxuICAgICAgPyAxXG4gICAgICA6IDEgKyBpbmRleCAqIDI7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5mb3JtLFxuICAgIHVubG9ja0xldmVsLFxuICAgIGJ1ZmY6IGZvcm0uYnVmZiA/IHsgLi4uZm9ybS5idWZmIH0gOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYW1wWHAoeHA6IG51bWJlciwgbGV2ZWw6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IGNhcGFjaXR5ID0geHBOZWVkZWRGb3JMZXZlbChsZXZlbCArIDEpO1xuICBpZiAoY2FwYWNpdHkgPD0gMCkgcmV0dXJuIDA7XG4gIHJldHVybiBNYXRoLm1pbih4cCwgY2FwYWNpdHkgLSAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZUZvcm0oY29tcGFuaW9uOiBDb21wYW5pb24pOiBDb21wYW5pb25Gb3JtIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFjb21wYW5pb24gfHwgIWNvbXBhbmlvbi5ldm9sdXRpb25UcmVlKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gY29tcGFuaW9uLmV2b2x1dGlvblRyZWUuZmluZCgoZm9ybSkgPT4gZm9ybS5pZCA9PT0gY29tcGFuaW9uLmN1cnJlbnRGb3JtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRGb3JtKGNvbXBhbmlvbjogQ29tcGFuaW9uKTogQ29tcGFuaW9uRm9ybSB8IHVuZGVmaW5lZCB7XG4gIC8vIOKchSBGSVg6IEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIGV2b2x1dGlvblRyZWVcbiAgaWYgKCFjb21wYW5pb24/LmV2b2x1dGlvblRyZWUpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIFxuICBjb25zdCBuZXh0ID0gY29tcGFuaW9uLmV2b2x1dGlvblRyZWVcbiAgICAuZmlsdGVyKChmb3JtKSA9PiBmb3JtLnVubG9ja0xldmVsID4gKGdldEFjdGl2ZUZvcm0oY29tcGFuaW9uKT8udW5sb2NrTGV2ZWwgPz8gMCkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGEudW5sb2NrTGV2ZWwgLSBiLnVubG9ja0xldmVsKVswXTtcbiAgcmV0dXJuIG5leHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5Fdm9sdmUoY29tcGFuaW9uOiBDb21wYW5pb24pOiBib29sZWFuIHtcbiAgY29uc3QgbmV4dCA9IGdldE5leHRGb3JtKGNvbXBhbmlvbik7XG4gIGlmICghbmV4dCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gY29tcGFuaW9uLmxldmVsID49IG5leHQudW5sb2NrTGV2ZWw7XG59XG5cbmV4cG9ydCBjb25zdCBYUF9FVkVOVF9WQUxVRVM6IFJlY29yZDxDb21wYW5pb25YcEV2ZW50LCBudW1iZXI+ID0ge1xuICBkcmVhbTogMTAsXG4gIHJpdHVhbDogMjAsXG4gIHF1ZXN0OiA1MCxcbiAgcGFudHk6IDMwLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFhwRm9yRXZlbnQoZXZlbnQ6IENvbXBhbmlvblhwRXZlbnQpOiBudW1iZXIge1xuICByZXR1cm4gWFBfRVZFTlRfVkFMVUVTW2V2ZW50XSA/PyAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGV2ZWxGb3JYcChsZXZlbDogbnVtYmVyLCB4cDogbnVtYmVyKTogbnVtYmVyIHtcbiAgbGV0IGN1cnJlbnRMZXZlbCA9IGxldmVsO1xuICBsZXQgcmVtYWluaW5nWHAgPSB4cDtcbiAgd2hpbGUgKHJlbWFpbmluZ1hwID49IHhwTmVlZGVkRm9yTGV2ZWwoY3VycmVudExldmVsICsgMSkpIHtcbiAgICByZW1haW5pbmdYcCAtPSB4cE5lZWRlZEZvckxldmVsKGN1cnJlbnRMZXZlbCArIDEpO1xuICAgIGN1cnJlbnRMZXZlbCArPSAxO1xuICB9XG4gIHJldHVybiBjdXJyZW50TGV2ZWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB4cE5lZWRlZEZvckxldmVsKHRhcmdldExldmVsOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAodGFyZ2V0TGV2ZWwgPD0gMSkgcmV0dXJuIDA7XG4gIHJldHVybiBNYXRoLm1heCgyMCwgdGFyZ2V0TGV2ZWwgKiAyMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b3RhbFhwVG9SZWFjaExldmVsKGxldmVsOiBudW1iZXIpOiBudW1iZXIge1xuICBpZiAobGV2ZWwgPD0gMSkgcmV0dXJuIDA7XG4gIGxldCB0b3RhbCA9IDA7XG4gIGZvciAobGV0IGN1cnJlbnQgPSAyOyBjdXJyZW50IDw9IGxldmVsOyBjdXJyZW50ICs9IDEpIHtcbiAgICB0b3RhbCArPSB4cE5lZWRlZEZvckxldmVsKGN1cnJlbnQpO1xuICB9XG4gIHJldHVybiB0b3RhbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFhwUHJvZ3Jlc3Npb24oY29tcGFuaW9uOiBDb21wYW5pb24pIHtcbiAgY29uc3QgbmV4dExldmVsID0gY29tcGFuaW9uLmxldmVsICsgMTtcbiAgY29uc3QgbmVlZGVkID0geHBOZWVkZWRGb3JMZXZlbChuZXh0TGV2ZWwpO1xuICByZXR1cm4ge1xuICAgIGxldmVsOiBjb21wYW5pb24ubGV2ZWwsXG4gICAgY3VycmVudDogY29tcGFuaW9uLnhwLFxuICAgIG5lZWRlZCxcbiAgICByYXRpbzogbmVlZGVkIDw9IDAgPyAwIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgY29tcGFuaW9uLnhwIC8gbmVlZGVkKSksXG4gIH07XG59XG4iXSwibmFtZXMiOlsiZGVmYXVsdENvbXBhbmlvbnMiLCJDT01QQU5JT05fQlVGRl9LRVlTIiwiREVGQVVMVF9DT01QQU5JT05TIiwibWFwIiwiY29tcGFuaW9uIiwiY2xvbmVDb21wYW5pb24iLCJub3JtYWxpc2VkRm9ybXMiLCJldm9sdXRpb25UcmVlIiwiZm9ybSIsImluZGV4Iiwibm9ybWFsaXNlRm9ybSIsInNvcnQiLCJhIiwiYiIsInVubG9ja0xldmVsIiwiY3VycmVudEZvcm0iLCJmaW5kIiwiaWQiLCJsZXZlbCIsIk1hdGgiLCJtYXgiLCJOdW1iZXIiLCJjYXJyeU92ZXJYcCIsInhwIiwic2FuaXRpc2VkWHAiLCJjbGFtcFhwIiwiYXV0b0V2b2x2ZSIsIkJvb2xlYW4iLCJjbG9uZURlZmF1bHRDb21wYW5pb25zIiwiYnVmZiIsInVuZGVmaW5lZCIsImNhcGFjaXR5IiwieHBOZWVkZWRGb3JMZXZlbCIsIm1pbiIsImdldEFjdGl2ZUZvcm0iLCJnZXROZXh0Rm9ybSIsIm5leHQiLCJmaWx0ZXIiLCJjYW5Fdm9sdmUiLCJYUF9FVkVOVF9WQUxVRVMiLCJkcmVhbSIsInJpdHVhbCIsInF1ZXN0IiwicGFudHkiLCJnZXRYcEZvckV2ZW50IiwiZXZlbnQiLCJsZXZlbEZvclhwIiwiY3VycmVudExldmVsIiwicmVtYWluaW5nWHAiLCJ0YXJnZXRMZXZlbCIsInRvdGFsWHBUb1JlYWNoTGV2ZWwiLCJ0b3RhbCIsImN1cnJlbnQiLCJnZXRYcFByb2dyZXNzaW9uIiwibmV4dExldmVsIiwibmVlZGVkIiwicmF0aW8iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/companions.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/dungeons.ts":
/*!*****************************!*\
  !*** ./app/lib/dungeons.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneDefaultDungeons: () => (/* binding */ cloneDefaultDungeons),\n/* harmony export */   cloneDungeon: () => (/* binding */ cloneDungeon),\n/* harmony export */   ensureDungeon: () => (/* binding */ ensureDungeon),\n/* harmony export */   ensureRoom: () => (/* binding */ ensureRoom),\n/* harmony export */   generateDungeonRun: () => (/* binding */ generateDungeonRun)\n/* harmony export */ });\n/* harmony import */ var _data_dungeons_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/dungeons.json */ \"(app-pages-browser)/./data/dungeons.json\");\n\nconst DEFAULT_DUNGEONS = _data_dungeons_json__WEBPACK_IMPORTED_MODULE_0__.dungeons.map((dungeon)=>cloneDungeon(dungeon));\nfunction cloneDungeon(dungeon) {\n    var _dungeon_rooms, _dungeon_lootPool;\n    var _dungeon_timesCleared, _dungeon_difficulty;\n    return {\n        ...dungeon,\n        rooms: ((_dungeon_rooms = dungeon.rooms) === null || _dungeon_rooms === void 0 ? void 0 : _dungeon_rooms.map((room)=>({\n                ...room\n            }))) || [],\n        roomPool: dungeon.roomPool ? [\n            ...dungeon.roomPool\n        ] : [],\n        lootPool: ((_dungeon_lootPool = dungeon.lootPool) === null || _dungeon_lootPool === void 0 ? void 0 : _dungeon_lootPool.map((loot)=>({\n                ...loot\n            }))) || [],\n        cleared: Boolean(dungeon.cleared),\n        completed: Boolean(dungeon.completed),\n        unlocked: Boolean(dungeon.unlocked),\n        timesCleared: Math.max(0, Number((_dungeon_timesCleared = dungeon.timesCleared) !== null && _dungeon_timesCleared !== void 0 ? _dungeon_timesCleared : 0)),\n        difficulty: Math.max(1, Number((_dungeon_difficulty = dungeon.difficulty) !== null && _dungeon_difficulty !== void 0 ? _dungeon_difficulty : 1))\n    };\n}\nfunction cloneDefaultDungeons() {\n    return DEFAULT_DUNGEONS.map((dungeon)=>cloneDungeon(dungeon));\n}\nfunction ensureRoom(room) {\n    return {\n        ...room,\n        completed: Boolean(room.completed),\n        rewards: room.rewards ? {\n            ...room.rewards\n        } : undefined\n    };\n}\nfunction ensureDungeon(dungeon) {\n    var _dungeon_timesCleared, _dungeon_difficulty;\n    return {\n        ...dungeon,\n        name: dungeon.name || \"Untitled Dungeon\",\n        description: dungeon.description || \"\",\n        rooms: (dungeon.rooms || []).map(ensureRoom),\n        cleared: Boolean(dungeon.cleared),\n        completed: Boolean(dungeon.completed),\n        unlocked: Boolean(dungeon.unlocked),\n        timesCleared: Math.max(0, Number((_dungeon_timesCleared = dungeon.timesCleared) !== null && _dungeon_timesCleared !== void 0 ? _dungeon_timesCleared : 0)),\n        difficulty: Math.max(1, Number((_dungeon_difficulty = dungeon.difficulty) !== null && _dungeon_difficulty !== void 0 ? _dungeon_difficulty : 1))\n    };\n}\n// Procedural generation helper\nfunction generateDungeonRun(dungeon) {\n    const rooms = [];\n    const roomPool = dungeon.roomPool || [];\n    // Always include at least 1 boss room at the end\n    const bossRoom = roomPool.find((r)=>r.type === 'boss');\n    // Generate 3-5 rooms before boss\n    const numRooms = Math.floor(Math.random() * 3) + 3; // 3-5 rooms\n    for(let i = 0; i < numRooms; i++){\n        // Filter out boss rooms for regular generation\n        const availableRooms = roomPool.filter((r)=>r.type !== 'boss');\n        const weightedPool = [];\n        // Create weighted pool\n        availableRooms.forEach((room)=>{\n            for(let w = 0; w < room.weight; w++){\n                weightedPool.push(room);\n            }\n        });\n        if (weightedPool.length > 0) {\n            const selectedRoom = weightedPool[Math.floor(Math.random() * weightedPool.length)];\n            rooms.push({\n                id: \"room_\".concat(i + 1),\n                type: selectedRoom.type,\n                subtype: selectedRoom.subtype,\n                desc: selectedRoom.desc,\n                completed: false,\n                rewards: {\n                    xp: 50 + i * 10,\n                    tokens: 5 + i * 2\n                }\n            });\n        }\n    }\n    // Add boss room at the end\n    if (bossRoom) {\n        var _dungeon_boss;\n        rooms.push({\n            id: 'boss_room',\n            type: 'boss',\n            desc: bossRoom.desc,\n            completed: false,\n            rewards: (_dungeon_boss = dungeon.boss) === null || _dungeon_boss === void 0 ? void 0 : _dungeon_boss.rewards\n        });\n    }\n    return rooms;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvZHVuZ2VvbnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBaUV2RCxNQUFNQyxtQkFBOEIseURBQXlCLENBQWVFLEdBQUcsQ0FBQyxDQUFDQyxVQUMvRUMsYUFBYUQ7QUFHUixTQUFTQyxhQUFhRCxPQUFnQjtRQUdsQ0EsZ0JBRUdBO1FBSXVCQSx1QkFDRkE7SUFUakMsT0FBTztRQUNMLEdBQUdBLE9BQU87UUFDVkUsT0FBT0YsRUFBQUEsaUJBQUFBLFFBQVFFLEtBQUssY0FBYkYscUNBQUFBLGVBQWVELEdBQUcsQ0FBQyxDQUFDSSxPQUFVO2dCQUFFLEdBQUdBLElBQUk7WUFBQyxRQUFPLEVBQUU7UUFDeERDLFVBQVVKLFFBQVFJLFFBQVEsR0FBRztlQUFJSixRQUFRSSxRQUFRO1NBQUMsR0FBRyxFQUFFO1FBQ3ZEQyxVQUFVTCxFQUFBQSxvQkFBQUEsUUFBUUssUUFBUSxjQUFoQkwsd0NBQUFBLGtCQUFrQkQsR0FBRyxDQUFDTyxDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7WUFBQyxRQUFPLEVBQUU7UUFDNURDLFNBQVNDLFFBQVFSLFFBQVFPLE9BQU87UUFDaENFLFdBQVdELFFBQVFSLFFBQVFTLFNBQVM7UUFDcENDLFVBQVVGLFFBQVFSLFFBQVFVLFFBQVE7UUFDbENDLGNBQWNDLEtBQUtDLEdBQUcsQ0FBQyxHQUFHQyxPQUFPZCxDQUFBQSx3QkFBQUEsUUFBUVcsWUFBWSxjQUFwQlgsbUNBQUFBLHdCQUF3QjtRQUN6RGUsWUFBWUgsS0FBS0MsR0FBRyxDQUFDLEdBQUdDLE9BQU9kLENBQUFBLHNCQUFBQSxRQUFRZSxVQUFVLGNBQWxCZixpQ0FBQUEsc0JBQXNCO0lBQ3ZEO0FBQ0Y7QUFFTyxTQUFTZ0I7SUFDZCxPQUFPbkIsaUJBQWlCRSxHQUFHLENBQUMsQ0FBQ0MsVUFBWUMsYUFBYUQ7QUFDeEQ7QUFFTyxTQUFTaUIsV0FBV2QsSUFBaUI7SUFDMUMsT0FBTztRQUNMLEdBQUdBLElBQUk7UUFDUE0sV0FBV0QsUUFBUUwsS0FBS00sU0FBUztRQUNqQ1MsU0FBU2YsS0FBS2UsT0FBTyxHQUFHO1lBQUUsR0FBR2YsS0FBS2UsT0FBTztRQUFDLElBQUlDO0lBQ2hEO0FBQ0Y7QUFFTyxTQUFTQyxjQUFjcEIsT0FBZ0I7UUFTVEEsdUJBQ0ZBO0lBVGpDLE9BQU87UUFDTCxHQUFHQSxPQUFPO1FBQ1ZxQixNQUFNckIsUUFBUXFCLElBQUksSUFBSTtRQUN0QkMsYUFBYXRCLFFBQVFzQixXQUFXLElBQUk7UUFDcENwQixPQUFPLENBQUNGLFFBQVFFLEtBQUssSUFBSSxFQUFFLEVBQUVILEdBQUcsQ0FBQ2tCO1FBQ2pDVixTQUFTQyxRQUFRUixRQUFRTyxPQUFPO1FBQ2hDRSxXQUFXRCxRQUFRUixRQUFRUyxTQUFTO1FBQ3BDQyxVQUFVRixRQUFRUixRQUFRVSxRQUFRO1FBQ2xDQyxjQUFjQyxLQUFLQyxHQUFHLENBQUMsR0FBR0MsT0FBT2QsQ0FBQUEsd0JBQUFBLFFBQVFXLFlBQVksY0FBcEJYLG1DQUFBQSx3QkFBd0I7UUFDekRlLFlBQVlILEtBQUtDLEdBQUcsQ0FBQyxHQUFHQyxPQUFPZCxDQUFBQSxzQkFBQUEsUUFBUWUsVUFBVSxjQUFsQmYsaUNBQUFBLHNCQUFzQjtJQUN2RDtBQUNGO0FBRUEsK0JBQStCO0FBQ3hCLFNBQVN1QixtQkFBbUJ2QixPQUFnQjtJQUNqRCxNQUFNRSxRQUF1QixFQUFFO0lBQy9CLE1BQU1FLFdBQVdKLFFBQVFJLFFBQVEsSUFBSSxFQUFFO0lBRXZDLGlEQUFpRDtJQUNqRCxNQUFNb0IsV0FBV3BCLFNBQVNxQixJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksS0FBSztJQUUvQyxpQ0FBaUM7SUFDakMsTUFBTUMsV0FBV2hCLEtBQUtpQixLQUFLLENBQUNqQixLQUFLa0IsTUFBTSxLQUFLLEtBQUssR0FBRyxZQUFZO0lBRWhFLElBQUssSUFBSUMsSUFBSSxHQUFHQSxJQUFJSCxVQUFVRyxJQUFLO1FBQ2pDLCtDQUErQztRQUMvQyxNQUFNQyxpQkFBaUI1QixTQUFTNkIsTUFBTSxDQUFDUCxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLEtBQUs7UUFDdkQsTUFBTU8sZUFBc0IsRUFBRTtRQUU5Qix1QkFBdUI7UUFDdkJGLGVBQWVHLE9BQU8sQ0FBQ2hDLENBQUFBO1lBQ3JCLElBQUssSUFBSWlDLElBQUksR0FBR0EsSUFBSWpDLEtBQUtrQyxNQUFNLEVBQUVELElBQUs7Z0JBQ3BDRixhQUFhSSxJQUFJLENBQUNuQztZQUNwQjtRQUNGO1FBRUEsSUFBSStCLGFBQWFLLE1BQU0sR0FBRyxHQUFHO1lBQzNCLE1BQU1DLGVBQWVOLFlBQVksQ0FBQ3RCLEtBQUtpQixLQUFLLENBQUNqQixLQUFLa0IsTUFBTSxLQUFLSSxhQUFhSyxNQUFNLEVBQUU7WUFDbEZyQyxNQUFNb0MsSUFBSSxDQUFDO2dCQUNURyxJQUFJLFFBQWMsT0FBTlYsSUFBSTtnQkFDaEJKLE1BQU1hLGFBQWFiLElBQUk7Z0JBQ3ZCZSxTQUFTRixhQUFhRSxPQUFPO2dCQUM3QkMsTUFBTUgsYUFBYUcsSUFBSTtnQkFDdkJsQyxXQUFXO2dCQUNYUyxTQUFTO29CQUNQMEIsSUFBSSxLQUFNYixJQUFJO29CQUNkYyxRQUFRLElBQUtkLElBQUk7Z0JBQ25CO1lBQ0Y7UUFDRjtJQUNGO0lBRUEsMkJBQTJCO0lBQzNCLElBQUlQLFVBQVU7WUFNRHhCO1FBTFhFLE1BQU1vQyxJQUFJLENBQUM7WUFDVEcsSUFBSTtZQUNKZCxNQUFNO1lBQ05nQixNQUFNbkIsU0FBU21CLElBQUk7WUFDbkJsQyxXQUFXO1lBQ1hTLE9BQU8sR0FBRWxCLGdCQUFBQSxRQUFROEMsSUFBSSxjQUFaOUMsb0NBQUFBLGNBQWNrQixPQUFPO1FBQ2hDO0lBQ0Y7SUFFQSxPQUFPaEI7QUFDVCIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxsaWJcXGR1bmdlb25zLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkZWZhdWx0RHVuZ2VvbnMgZnJvbSBcIi4uLy4uL2RhdGEvZHVuZ2VvbnMuanNvblwiO1xuXG5leHBvcnQgdHlwZSBEdW5nZW9uUm9vbVR5cGUgPSBcInRyaWFsXCIgfCBcImxvb3RcIiB8IFwiYm9zc1wiO1xuZXhwb3J0IHR5cGUgVHJpYWxTdWJ0eXBlID0gXCJzaGFtZVwiIHwgXCJvYmVkaWVuY2VcIiB8IFwiY29tYmF0XCIgfCBcInJpdHVhbFwiIHwgXCJwc3ljaGljXCIgfCBcInB1enpsZVwiO1xuXG5leHBvcnQgdHlwZSBEdW5nZW9uUm9vbSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogRHVuZ2VvblJvb21UeXBlO1xuICBzdWJ0eXBlPzogVHJpYWxTdWJ0eXBlO1xuICBkZXNjOiBzdHJpbmc7XG4gIGNvbXBsZXRlZD86IGJvb2xlYW47XG4gIHJld2FyZHM/OiB7XG4gICAgeHA/OiBudW1iZXI7XG4gICAgdG9rZW5zPzogbnVtYmVyO1xuICAgIGl0ZW1zPzogc3RyaW5nW107XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBEdW5nZW9uTG9vdCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiAnYXJ0aWZhY3QnIHwgJ2J1ZmYnIHwgJ2N1cnNlJyB8ICdjb25zdW1hYmxlJztcbiAgZWZmZWN0OiBzdHJpbmc7XG4gIHJhcml0eTogJ2NvbW1vbicgfCAndW5jb21tb24nIHwgJ3JhcmUnIHwgJ2VwaWMnIHwgJ2xlZ2VuZGFyeSc7XG4gIG9idGFpbmVkPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgRHVuZ2VvbkJvc3MgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgaGVhbHRoOiBudW1iZXI7XG4gIGF0dGFja3M6IHN0cmluZ1tdO1xuICB3ZWFrbmVzczogc3RyaW5nO1xuICByZXdhcmRzOiB7XG4gICAgeHA6IG51bWJlcjtcbiAgICB0b2tlbnM6IG51bWJlcjtcbiAgICBpdGVtczogc3RyaW5nW107XG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBEdW5nZW9uID0ge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICBkaWZmaWN1bHR5PzogbnVtYmVyO1xuICBjbGVhcmVkPzogYm9vbGVhbjtcbiAgdGltZXNDbGVhcmVkPzogbnVtYmVyO1xuICB1bmxvY2tlZD86IGJvb2xlYW47XG4gIGJhY2tncm91bmQ/OiBzdHJpbmc7XG4gIHJvb21Qb29sPzogYW55W107XG4gIGxvb3RQb29sPzogRHVuZ2Vvbkxvb3RbXTtcbiAgYm9zcz86IER1bmdlb25Cb3NzO1xuICByb29tcz86IER1bmdlb25Sb29tW107IC8vIEZvciBsZWdhY3kgY29tcGF0aWJpbGl0eVxuICBjb21wbGV0ZWQ/OiBib29sZWFuOyAvLyBGb3IgbGVnYWN5IGNvbXBhdGliaWxpdHlcbn07XG5cbmV4cG9ydCB0eXBlIEFjdGl2ZUR1bmdlb25SdW4gPSB7XG4gIGR1bmdlb25JZDogc3RyaW5nO1xuICByb29tczogRHVuZ2VvblJvb21bXTtcbiAgY3VycmVudFJvb21JbmRleDogbnVtYmVyO1xuICBzdGFydFRpbWU6IG51bWJlcjtcbiAgY29tcGxldGVkUm9vbXM6IG51bWJlcjtcbiAgdG90YWxSb29tczogbnVtYmVyO1xuICBsb290Q29sbGVjdGVkOiBEdW5nZW9uTG9vdFtdO1xufTtcblxuY29uc3QgREVGQVVMVF9EVU5HRU9OUzogRHVuZ2VvbltdID0gKGRlZmF1bHREdW5nZW9ucy5kdW5nZW9ucyBhcyBEdW5nZW9uW10pLm1hcCgoZHVuZ2VvbikgPT5cbiAgY2xvbmVEdW5nZW9uKGR1bmdlb24pXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEdW5nZW9uKGR1bmdlb246IER1bmdlb24pOiBEdW5nZW9uIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5kdW5nZW9uLFxuICAgIHJvb21zOiBkdW5nZW9uLnJvb21zPy5tYXAoKHJvb20pID0+ICh7IC4uLnJvb20gfSkpIHx8IFtdLFxuICAgIHJvb21Qb29sOiBkdW5nZW9uLnJvb21Qb29sID8gWy4uLmR1bmdlb24ucm9vbVBvb2xdIDogW10sXG4gICAgbG9vdFBvb2w6IGR1bmdlb24ubG9vdFBvb2w/Lm1hcChsb290ID0+ICh7IC4uLmxvb3QgfSkpIHx8IFtdLFxuICAgIGNsZWFyZWQ6IEJvb2xlYW4oZHVuZ2Vvbi5jbGVhcmVkKSxcbiAgICBjb21wbGV0ZWQ6IEJvb2xlYW4oZHVuZ2Vvbi5jb21wbGV0ZWQpLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxuICAgIHVubG9ja2VkOiBCb29sZWFuKGR1bmdlb24udW5sb2NrZWQpLFxuICAgIHRpbWVzQ2xlYXJlZDogTWF0aC5tYXgoMCwgTnVtYmVyKGR1bmdlb24udGltZXNDbGVhcmVkID8/IDApKSxcbiAgICBkaWZmaWN1bHR5OiBNYXRoLm1heCgxLCBOdW1iZXIoZHVuZ2Vvbi5kaWZmaWN1bHR5ID8/IDEpKSxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRGVmYXVsdER1bmdlb25zKCk6IER1bmdlb25bXSB7XG4gIHJldHVybiBERUZBVUxUX0RVTkdFT05TLm1hcCgoZHVuZ2VvbikgPT4gY2xvbmVEdW5nZW9uKGR1bmdlb24pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVJvb20ocm9vbTogRHVuZ2VvblJvb20pOiBEdW5nZW9uUm9vbSB7XG4gIHJldHVybiB7XG4gICAgLi4ucm9vbSxcbiAgICBjb21wbGV0ZWQ6IEJvb2xlYW4ocm9vbS5jb21wbGV0ZWQpLFxuICAgIHJld2FyZHM6IHJvb20ucmV3YXJkcyA/IHsgLi4ucm9vbS5yZXdhcmRzIH0gOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVEdW5nZW9uKGR1bmdlb246IER1bmdlb24pOiBEdW5nZW9uIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5kdW5nZW9uLFxuICAgIG5hbWU6IGR1bmdlb24ubmFtZSB8fCBcIlVudGl0bGVkIER1bmdlb25cIixcbiAgICBkZXNjcmlwdGlvbjogZHVuZ2Vvbi5kZXNjcmlwdGlvbiB8fCBcIlwiLFxuICAgIHJvb21zOiAoZHVuZ2Vvbi5yb29tcyB8fCBbXSkubWFwKGVuc3VyZVJvb20pLFxuICAgIGNsZWFyZWQ6IEJvb2xlYW4oZHVuZ2Vvbi5jbGVhcmVkKSxcbiAgICBjb21wbGV0ZWQ6IEJvb2xlYW4oZHVuZ2Vvbi5jb21wbGV0ZWQpLCAvLyBMZWdhY3kgY29tcGF0aWJpbGl0eVxuICAgIHVubG9ja2VkOiBCb29sZWFuKGR1bmdlb24udW5sb2NrZWQpLFxuICAgIHRpbWVzQ2xlYXJlZDogTWF0aC5tYXgoMCwgTnVtYmVyKGR1bmdlb24udGltZXNDbGVhcmVkID8/IDApKSxcbiAgICBkaWZmaWN1bHR5OiBNYXRoLm1heCgxLCBOdW1iZXIoZHVuZ2Vvbi5kaWZmaWN1bHR5ID8/IDEpKSxcbiAgfTtcbn1cblxuLy8gUHJvY2VkdXJhbCBnZW5lcmF0aW9uIGhlbHBlclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlRHVuZ2VvblJ1bihkdW5nZW9uOiBEdW5nZW9uKTogRHVuZ2VvblJvb21bXSB7XG4gIGNvbnN0IHJvb21zOiBEdW5nZW9uUm9vbVtdID0gW107XG4gIGNvbnN0IHJvb21Qb29sID0gZHVuZ2Vvbi5yb29tUG9vbCB8fCBbXTtcbiAgXG4gIC8vIEFsd2F5cyBpbmNsdWRlIGF0IGxlYXN0IDEgYm9zcyByb29tIGF0IHRoZSBlbmRcbiAgY29uc3QgYm9zc1Jvb20gPSByb29tUG9vbC5maW5kKHIgPT4gci50eXBlID09PSAnYm9zcycpO1xuICBcbiAgLy8gR2VuZXJhdGUgMy01IHJvb21zIGJlZm9yZSBib3NzXG4gIGNvbnN0IG51bVJvb21zID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMykgKyAzOyAvLyAzLTUgcm9vbXNcbiAgXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtUm9vbXM7IGkrKykge1xuICAgIC8vIEZpbHRlciBvdXQgYm9zcyByb29tcyBmb3IgcmVndWxhciBnZW5lcmF0aW9uXG4gICAgY29uc3QgYXZhaWxhYmxlUm9vbXMgPSByb29tUG9vbC5maWx0ZXIociA9PiByLnR5cGUgIT09ICdib3NzJyk7XG4gICAgY29uc3Qgd2VpZ2h0ZWRQb29sOiBhbnlbXSA9IFtdO1xuICAgIFxuICAgIC8vIENyZWF0ZSB3ZWlnaHRlZCBwb29sXG4gICAgYXZhaWxhYmxlUm9vbXMuZm9yRWFjaChyb29tID0+IHtcbiAgICAgIGZvciAobGV0IHcgPSAwOyB3IDwgcm9vbS53ZWlnaHQ7IHcrKykge1xuICAgICAgICB3ZWlnaHRlZFBvb2wucHVzaChyb29tKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBpZiAod2VpZ2h0ZWRQb29sLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHNlbGVjdGVkUm9vbSA9IHdlaWdodGVkUG9vbFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3ZWlnaHRlZFBvb2wubGVuZ3RoKV07XG4gICAgICByb29tcy5wdXNoKHtcbiAgICAgICAgaWQ6IGByb29tXyR7aSArIDF9YCxcbiAgICAgICAgdHlwZTogc2VsZWN0ZWRSb29tLnR5cGUsXG4gICAgICAgIHN1YnR5cGU6IHNlbGVjdGVkUm9vbS5zdWJ0eXBlLFxuICAgICAgICBkZXNjOiBzZWxlY3RlZFJvb20uZGVzYyxcbiAgICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgcmV3YXJkczoge1xuICAgICAgICAgIHhwOiA1MCArIChpICogMTApLFxuICAgICAgICAgIHRva2VuczogNSArIChpICogMilcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIFxuICAvLyBBZGQgYm9zcyByb29tIGF0IHRoZSBlbmRcbiAgaWYgKGJvc3NSb29tKSB7XG4gICAgcm9vbXMucHVzaCh7XG4gICAgICBpZDogJ2Jvc3Nfcm9vbScsXG4gICAgICB0eXBlOiAnYm9zcycsXG4gICAgICBkZXNjOiBib3NzUm9vbS5kZXNjLFxuICAgICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICAgIHJld2FyZHM6IGR1bmdlb24uYm9zcz8ucmV3YXJkc1xuICAgIH0pO1xuICB9XG4gIFxuICByZXR1cm4gcm9vbXM7XG59XG4iXSwibmFtZXMiOlsiZGVmYXVsdER1bmdlb25zIiwiREVGQVVMVF9EVU5HRU9OUyIsImR1bmdlb25zIiwibWFwIiwiZHVuZ2VvbiIsImNsb25lRHVuZ2VvbiIsInJvb21zIiwicm9vbSIsInJvb21Qb29sIiwibG9vdFBvb2wiLCJsb290IiwiY2xlYXJlZCIsIkJvb2xlYW4iLCJjb21wbGV0ZWQiLCJ1bmxvY2tlZCIsInRpbWVzQ2xlYXJlZCIsIk1hdGgiLCJtYXgiLCJOdW1iZXIiLCJkaWZmaWN1bHR5IiwiY2xvbmVEZWZhdWx0RHVuZ2VvbnMiLCJlbnN1cmVSb29tIiwicmV3YXJkcyIsInVuZGVmaW5lZCIsImVuc3VyZUR1bmdlb24iLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJnZW5lcmF0ZUR1bmdlb25SdW4iLCJib3NzUm9vbSIsImZpbmQiLCJyIiwidHlwZSIsIm51bVJvb21zIiwiZmxvb3IiLCJyYW5kb20iLCJpIiwiYXZhaWxhYmxlUm9vbXMiLCJmaWx0ZXIiLCJ3ZWlnaHRlZFBvb2wiLCJmb3JFYWNoIiwidyIsIndlaWdodCIsInB1c2giLCJsZW5ndGgiLCJzZWxlY3RlZFJvb20iLCJpZCIsInN1YnR5cGUiLCJkZXNjIiwieHAiLCJ0b2tlbnMiLCJib3NzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/dungeons.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/inventory.ts":
/*!******************************!*\
  !*** ./app/lib/inventory.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ITEM_TYPE_LABELS: () => (/* binding */ ITEM_TYPE_LABELS),\n/* harmony export */   ITEM_TYPE_ORDER: () => (/* binding */ ITEM_TYPE_ORDER),\n/* harmony export */   canEquipInSlot: () => (/* binding */ canEquipInSlot),\n/* harmony export */   cloneDefaultInventory: () => (/* binding */ cloneDefaultInventory),\n/* harmony export */   getActiveSetBonuses: () => (/* binding */ getActiveSetBonuses),\n/* harmony export */   getDefaultIcon: () => (/* binding */ getDefaultIcon),\n/* harmony export */   getDefaultItemTemplate: () => (/* binding */ getDefaultItemTemplate),\n/* harmony export */   getRarityColor: () => (/* binding */ getRarityColor),\n/* harmony export */   getRarityGlow: () => (/* binding */ getRarityGlow),\n/* harmony export */   getSetProgress: () => (/* binding */ getSetProgress),\n/* harmony export */   isEquippable: () => (/* binding */ isEquippable)\n/* harmony export */ });\n/* harmony import */ var _data_inventory_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/inventory.json */ \"(app-pages-browser)/./data/inventory.json\");\n\nconst ITEM_TYPE_LABELS = {\n    relic: \"Relics\",\n    panty: \"Panties\",\n    shard: \"Dream Shards\",\n    consumable: \"Consumables\",\n    quest: \"Quest Items\",\n    artifact: \"Artifacts\",\n    equipment: \"Equipment\",\n    currency: \"Currency\"\n};\nconst ITEM_TYPE_ORDER = [\n    \"relic\",\n    \"artifact\",\n    \"equipment\",\n    \"panty\",\n    \"consumable\",\n    \"currency\",\n    \"quest\"\n];\nconst DEFAULT_INVENTORY_DATA = _data_inventory_json__WEBPACK_IMPORTED_MODULE_0__;\nfunction cloneDefaultInventory() {\n    return {\n        items: DEFAULT_INVENTORY_DATA.items.map((item)=>({\n                ...item\n            })),\n        equipment: {\n            ...DEFAULT_INVENTORY_DATA.equipment\n        },\n        sets: DEFAULT_INVENTORY_DATA.sets.map((set)=>({\n                ...set\n            })),\n        stats: {\n            ...DEFAULT_INVENTORY_DATA.stats\n        }\n    };\n}\nfunction getDefaultItemTemplate(id) {\n    const template = DEFAULT_INVENTORY_DATA.items.find((item)=>item.id === id);\n    return template ? {\n        ...template\n    } : undefined;\n}\nfunction isEquippable(item) {\n    return item.type === \"relic\" || item.type === \"panty\" || item.type === \"artifact\" || item.type === \"equipment\";\n}\nfunction getRarityColor(rarity) {\n    const colors = {\n        common: \"text-gray-400 border-gray-400\",\n        uncommon: \"text-green-400 border-green-400\",\n        rare: \"text-blue-400 border-blue-400\",\n        epic: \"text-purple-400 border-purple-400\",\n        legendary: \"text-orange-400 border-orange-400\",\n        unique: \"text-pink-400 border-pink-400\"\n    };\n    return colors[rarity] || colors.common;\n}\nfunction getRarityGlow(rarity) {\n    const glows = {\n        common: \"shadow-gray-400/20\",\n        uncommon: \"shadow-green-400/30\",\n        rare: \"shadow-blue-400/40\",\n        epic: \"shadow-purple-400/50\",\n        legendary: \"shadow-orange-400/60\",\n        unique: \"shadow-pink-400/70\"\n    };\n    return glows[rarity] || glows.common;\n}\nfunction canEquipInSlot(item, slot) {\n    if (!isEquippable(item)) return false;\n    if (!item.slot) return false;\n    return item.slot === slot;\n}\nfunction getSetProgress(set, equippedItems) {\n    const equippedSetItems = set.items.filter((itemId)=>equippedItems.includes(itemId));\n    return equippedSetItems.length;\n}\nfunction getActiveSetBonuses(sets, equippedItems) {\n    const activeBonuses = [];\n    sets.forEach((set)=>{\n        const progress = getSetProgress(set, equippedItems);\n        if (progress >= 2 && set.bonus[\"2_piece\"]) {\n            activeBonuses.push(\"\".concat(set.name, \" (2/2): \").concat(set.bonus[\"2_piece\"]));\n        }\n        if (progress >= 3 && set.bonus[\"3_piece\"]) {\n            activeBonuses.push(\"\".concat(set.name, \" (3/3): \").concat(set.bonus[\"3_piece\"]));\n        }\n        if (progress >= 4 && set.bonus[\"4_piece\"]) {\n            activeBonuses.push(\"\".concat(set.name, \" (4/4): \").concat(set.bonus[\"4_piece\"]));\n        }\n        if (progress >= 5 && set.bonus[\"5_piece\"]) {\n            activeBonuses.push(\"\".concat(set.name, \" (5/5): \").concat(set.bonus[\"5_piece\"]));\n        }\n    });\n    return activeBonuses;\n}\nfunction getDefaultIcon(type) {\n    switch(type){\n        case \"relic\":\n            return \"\";\n        case \"panty\":\n            return \"\";\n        case \"shard\":\n        case \"currency\":\n            return \"\";\n        case \"consumable\":\n            return \"\";\n        case \"quest\":\n            return \"\";\n        case \"artifact\":\n            return \"\";\n        case \"equipment\":\n            return \"\";\n        default:\n            return \"\";\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvaW52ZW50b3J5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRDtBQTZEL0MsTUFBTUMsbUJBQTZDO0lBQ3hEQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxZQUFZO0lBQ1pDLE9BQU87SUFDUEMsVUFBVTtJQUNWQyxXQUFXO0lBQ1hDLFVBQVU7QUFDWixFQUFFO0FBRUssTUFBTUMsa0JBQThCO0lBQ3pDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsQ0FBQztBQUVGLE1BQU1DLHlCQUF5QlgsaURBQWFBO0FBRXJDLFNBQVNZO0lBQ2QsT0FBTztRQUNMQyxPQUFPRix1QkFBdUJFLEtBQUssQ0FBQ0MsR0FBRyxDQUFDQyxDQUFBQSxPQUFTO2dCQUFFLEdBQUdBLElBQUk7WUFBQztRQUMzRFAsV0FBVztZQUFFLEdBQUdHLHVCQUF1QkgsU0FBUztRQUFDO1FBQ2pEUSxNQUFNTCx1QkFBdUJLLElBQUksQ0FBQ0YsR0FBRyxDQUFDRyxDQUFBQSxNQUFRO2dCQUFFLEdBQUdBLEdBQUc7WUFBQztRQUN2REMsT0FBTztZQUFFLEdBQUdQLHVCQUF1Qk8sS0FBSztRQUFDO0lBQzNDO0FBQ0Y7QUFFTyxTQUFTQyx1QkFBdUJDLEVBQVU7SUFDL0MsTUFBTUMsV0FBV1YsdUJBQXVCRSxLQUFLLENBQUNTLElBQUksQ0FBQyxDQUFDUCxPQUFTQSxLQUFLSyxFQUFFLEtBQUtBO0lBQ3pFLE9BQU9DLFdBQVc7UUFBRSxHQUFHQSxRQUFRO0lBQUMsSUFBSUU7QUFDdEM7QUFFTyxTQUFTQyxhQUFhVCxJQUFtQjtJQUM5QyxPQUFPQSxLQUFLVSxJQUFJLEtBQUssV0FBV1YsS0FBS1UsSUFBSSxLQUFLLFdBQVdWLEtBQUtVLElBQUksS0FBSyxjQUFjVixLQUFLVSxJQUFJLEtBQUs7QUFDckc7QUFFTyxTQUFTQyxlQUFlQyxNQUFjO0lBQzNDLE1BQU1DLFNBQVM7UUFDYkMsUUFBUTtRQUNSQyxVQUFVO1FBQ1ZDLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxXQUFXO1FBQ1hDLFFBQVE7SUFDVjtJQUNBLE9BQU9OLE1BQU0sQ0FBQ0QsT0FBTyxJQUFJQyxPQUFPQyxNQUFNO0FBQ3hDO0FBRU8sU0FBU00sY0FBY1IsTUFBYztJQUMxQyxNQUFNUyxRQUFRO1FBQ1pQLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsV0FBVztRQUNYQyxRQUFRO0lBQ1Y7SUFDQSxPQUFPRSxLQUFLLENBQUNULE9BQU8sSUFBSVMsTUFBTVAsTUFBTTtBQUN0QztBQUVPLFNBQVNRLGVBQWV0QixJQUFtQixFQUFFdUIsSUFBbUI7SUFDckUsSUFBSSxDQUFDZCxhQUFhVCxPQUFPLE9BQU87SUFDaEMsSUFBSSxDQUFDQSxLQUFLdUIsSUFBSSxFQUFFLE9BQU87SUFDdkIsT0FBT3ZCLEtBQUt1QixJQUFJLEtBQUtBO0FBQ3ZCO0FBRU8sU0FBU0MsZUFBZXRCLEdBQVksRUFBRXVCLGFBQXVCO0lBQ2xFLE1BQU1DLG1CQUFtQnhCLElBQUlKLEtBQUssQ0FBQzZCLE1BQU0sQ0FBQ0MsQ0FBQUEsU0FBVUgsY0FBY0ksUUFBUSxDQUFDRDtJQUMzRSxPQUFPRixpQkFBaUJJLE1BQU07QUFDaEM7QUFFTyxTQUFTQyxvQkFBb0I5QixJQUFlLEVBQUV3QixhQUF1QjtJQUMxRSxNQUFNTyxnQkFBMEIsRUFBRTtJQUVsQy9CLEtBQUtnQyxPQUFPLENBQUMvQixDQUFBQTtRQUNYLE1BQU1nQyxXQUFXVixlQUFldEIsS0FBS3VCO1FBRXJDLElBQUlTLFlBQVksS0FBS2hDLElBQUlpQyxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3pDSCxjQUFjSSxJQUFJLENBQUMsR0FBc0JsQyxPQUFuQkEsSUFBSW1DLElBQUksRUFBQyxZQUErQixPQUFyQm5DLElBQUlpQyxLQUFLLENBQUMsVUFBVTtRQUMvRDtRQUNBLElBQUlELFlBQVksS0FBS2hDLElBQUlpQyxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3pDSCxjQUFjSSxJQUFJLENBQUMsR0FBc0JsQyxPQUFuQkEsSUFBSW1DLElBQUksRUFBQyxZQUErQixPQUFyQm5DLElBQUlpQyxLQUFLLENBQUMsVUFBVTtRQUMvRDtRQUNBLElBQUlELFlBQVksS0FBS2hDLElBQUlpQyxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3pDSCxjQUFjSSxJQUFJLENBQUMsR0FBc0JsQyxPQUFuQkEsSUFBSW1DLElBQUksRUFBQyxZQUErQixPQUFyQm5DLElBQUlpQyxLQUFLLENBQUMsVUFBVTtRQUMvRDtRQUNBLElBQUlELFlBQVksS0FBS2hDLElBQUlpQyxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3pDSCxjQUFjSSxJQUFJLENBQUMsR0FBc0JsQyxPQUFuQkEsSUFBSW1DLElBQUksRUFBQyxZQUErQixPQUFyQm5DLElBQUlpQyxLQUFLLENBQUMsVUFBVTtRQUMvRDtJQUNGO0lBRUEsT0FBT0g7QUFDVDtBQUVPLFNBQVNNLGVBQWU1QixJQUFjO0lBQzNDLE9BQVFBO1FBQ04sS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7UUFDTCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1Q7WUFDRSxPQUFPO0lBQ1g7QUFDRiIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxsaWJcXGludmVudG9yeS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW52ZW50b3J5RGF0YSBmcm9tIFwiLi4vLi4vZGF0YS9pbnZlbnRvcnkuanNvblwiO1xuXG5leHBvcnQgdHlwZSBJdGVtVHlwZSA9IFwicmVsaWNcIiB8IFwicGFudHlcIiB8IFwic2hhcmRcIiB8IFwiY29uc3VtYWJsZVwiIHwgXCJxdWVzdFwiIHwgXCJhcnRpZmFjdFwiIHwgXCJlcXVpcG1lbnRcIiB8IFwiY3VycmVuY3lcIjtcbmV4cG9ydCB0eXBlIFJhcml0eSA9IFwiY29tbW9uXCIgfCBcInVuY29tbW9uXCIgfCBcInJhcmVcIiB8IFwiZXBpY1wiIHwgXCJsZWdlbmRhcnlcIiB8IFwidW5pcXVlXCI7XG5leHBvcnQgdHlwZSBFcXVpcG1lbnRTbG90ID0gXCJoZWFkXCIgfCBcImJvZHlcIiB8IFwibGVnc1wiIHwgXCJwYW50eVwiIHwgXCJ0cmlua2V0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52ZW50b3J5SXRlbSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogSXRlbVR5cGU7XG4gIHJhcml0eTogUmFyaXR5O1xuICBpY29uOiBzdHJpbmc7XG4gIGRlc2M6IHN0cmluZztcbiAgZWZmZWN0Pzogc3RyaW5nO1xuICBvd25lZDogbnVtYmVyO1xuICBlcXVpcHBlZD86IGJvb2xlYW47XG4gIHNsb3Q/OiBFcXVpcG1lbnRTbG90O1xuICBzb3VyY2U/OiBzdHJpbmc7XG4gIGxvcmU/OiBzdHJpbmc7XG4gIGNvbnN1bWFibGU/OiBib29sZWFuO1xuICB0cmFkZWFibGU/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVxdWlwbWVudCB7XG4gIGhlYWQ6IHN0cmluZyB8IG51bGw7XG4gIGJvZHk6IHN0cmluZyB8IG51bGw7XG4gIGxlZ3M6IHN0cmluZyB8IG51bGw7XG4gIHBhbnR5OiBzdHJpbmcgfCBudWxsO1xuICB0cmlua2V0OiBzdHJpbmcgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNldEJvbnVzIHtcbiAgXCIyX3BpZWNlXCI/OiBzdHJpbmc7XG4gIFwiM19waWVjZVwiPzogc3RyaW5nO1xuICBcIjRfcGllY2VcIj86IHN0cmluZztcbiAgXCI1X3BpZWNlXCI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXRlbVNldCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgaXRlbXM6IHN0cmluZ1tdO1xuICBib251czogU2V0Qm9udXM7XG4gIGNvbXBsZXRlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnlTdGF0cyB7XG4gIHRvdGFsSXRlbXM6IG51bWJlcjtcbiAgaXRlbXNFcXVpcHBlZDogbnVtYmVyO1xuICBzZXRzQ29tcGxldGVkOiBudW1iZXI7XG4gIHJhcml0eUNvdW50OiBSZWNvcmQ8UmFyaXR5LCBudW1iZXI+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEludmVudG9yeURhdGEge1xuICBpdGVtczogSW52ZW50b3J5SXRlbVtdO1xuICBlcXVpcG1lbnQ6IEVxdWlwbWVudDtcbiAgc2V0czogSXRlbVNldFtdO1xuICBzdGF0czogSW52ZW50b3J5U3RhdHM7XG59XG5cbmV4cG9ydCBjb25zdCBJVEVNX1RZUEVfTEFCRUxTOiBSZWNvcmQ8SXRlbVR5cGUsIHN0cmluZz4gPSB7XG4gIHJlbGljOiBcIlJlbGljc1wiLFxuICBwYW50eTogXCJQYW50aWVzXCIsXG4gIHNoYXJkOiBcIkRyZWFtIFNoYXJkc1wiLFxuICBjb25zdW1hYmxlOiBcIkNvbnN1bWFibGVzXCIsXG4gIHF1ZXN0OiBcIlF1ZXN0IEl0ZW1zXCIsXG4gIGFydGlmYWN0OiBcIkFydGlmYWN0c1wiLFxuICBlcXVpcG1lbnQ6IFwiRXF1aXBtZW50XCIsXG4gIGN1cnJlbmN5OiBcIkN1cnJlbmN5XCIsXG59O1xuXG5leHBvcnQgY29uc3QgSVRFTV9UWVBFX09SREVSOiBJdGVtVHlwZVtdID0gW1xuICBcInJlbGljXCIsXG4gIFwiYXJ0aWZhY3RcIixcbiAgXCJlcXVpcG1lbnRcIixcbiAgXCJwYW50eVwiLFxuICBcImNvbnN1bWFibGVcIixcbiAgXCJjdXJyZW5jeVwiLFxuICBcInF1ZXN0XCIsXG5dO1xuXG5jb25zdCBERUZBVUxUX0lOVkVOVE9SWV9EQVRBID0gaW52ZW50b3J5RGF0YSBhcyBJbnZlbnRvcnlEYXRhO1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEZWZhdWx0SW52ZW50b3J5KCk6IEludmVudG9yeURhdGEge1xuICByZXR1cm4ge1xuICAgIGl0ZW1zOiBERUZBVUxUX0lOVkVOVE9SWV9EQVRBLml0ZW1zLm1hcChpdGVtID0+ICh7IC4uLml0ZW0gfSkpLFxuICAgIGVxdWlwbWVudDogeyAuLi5ERUZBVUxUX0lOVkVOVE9SWV9EQVRBLmVxdWlwbWVudCB9LFxuICAgIHNldHM6IERFRkFVTFRfSU5WRU5UT1JZX0RBVEEuc2V0cy5tYXAoc2V0ID0+ICh7IC4uLnNldCB9KSksXG4gICAgc3RhdHM6IHsgLi4uREVGQVVMVF9JTlZFTlRPUllfREFUQS5zdGF0cyB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0SXRlbVRlbXBsYXRlKGlkOiBzdHJpbmcpOiBJbnZlbnRvcnlJdGVtIHwgdW5kZWZpbmVkIHtcbiAgY29uc3QgdGVtcGxhdGUgPSBERUZBVUxUX0lOVkVOVE9SWV9EQVRBLml0ZW1zLmZpbmQoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGlkKTtcbiAgcmV0dXJuIHRlbXBsYXRlID8geyAuLi50ZW1wbGF0ZSB9IDogdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVpcHBhYmxlKGl0ZW06IEludmVudG9yeUl0ZW0pOiBib29sZWFuIHtcbiAgcmV0dXJuIGl0ZW0udHlwZSA9PT0gXCJyZWxpY1wiIHx8IGl0ZW0udHlwZSA9PT0gXCJwYW50eVwiIHx8IGl0ZW0udHlwZSA9PT0gXCJhcnRpZmFjdFwiIHx8IGl0ZW0udHlwZSA9PT0gXCJlcXVpcG1lbnRcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhcml0eUNvbG9yKHJhcml0eTogUmFyaXR5KTogc3RyaW5nIHtcbiAgY29uc3QgY29sb3JzID0ge1xuICAgIGNvbW1vbjogXCJ0ZXh0LWdyYXktNDAwIGJvcmRlci1ncmF5LTQwMFwiLFxuICAgIHVuY29tbW9uOiBcInRleHQtZ3JlZW4tNDAwIGJvcmRlci1ncmVlbi00MDBcIixcbiAgICByYXJlOiBcInRleHQtYmx1ZS00MDAgYm9yZGVyLWJsdWUtNDAwXCIsXG4gICAgZXBpYzogXCJ0ZXh0LXB1cnBsZS00MDAgYm9yZGVyLXB1cnBsZS00MDBcIixcbiAgICBsZWdlbmRhcnk6IFwidGV4dC1vcmFuZ2UtNDAwIGJvcmRlci1vcmFuZ2UtNDAwXCIsXG4gICAgdW5pcXVlOiBcInRleHQtcGluay00MDAgYm9yZGVyLXBpbmstNDAwXCJcbiAgfTtcbiAgcmV0dXJuIGNvbG9yc1tyYXJpdHldIHx8IGNvbG9ycy5jb21tb247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYXJpdHlHbG93KHJhcml0eTogUmFyaXR5KTogc3RyaW5nIHtcbiAgY29uc3QgZ2xvd3MgPSB7XG4gICAgY29tbW9uOiBcInNoYWRvdy1ncmF5LTQwMC8yMFwiLFxuICAgIHVuY29tbW9uOiBcInNoYWRvdy1ncmVlbi00MDAvMzBcIixcbiAgICByYXJlOiBcInNoYWRvdy1ibHVlLTQwMC80MFwiLFxuICAgIGVwaWM6IFwic2hhZG93LXB1cnBsZS00MDAvNTBcIixcbiAgICBsZWdlbmRhcnk6IFwic2hhZG93LW9yYW5nZS00MDAvNjBcIixcbiAgICB1bmlxdWU6IFwic2hhZG93LXBpbmstNDAwLzcwXCJcbiAgfTtcbiAgcmV0dXJuIGdsb3dzW3Jhcml0eV0gfHwgZ2xvd3MuY29tbW9uO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuRXF1aXBJblNsb3QoaXRlbTogSW52ZW50b3J5SXRlbSwgc2xvdDogRXF1aXBtZW50U2xvdCk6IGJvb2xlYW4ge1xuICBpZiAoIWlzRXF1aXBwYWJsZShpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICBpZiAoIWl0ZW0uc2xvdCkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaXRlbS5zbG90ID09PSBzbG90O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0UHJvZ3Jlc3Moc2V0OiBJdGVtU2V0LCBlcXVpcHBlZEl0ZW1zOiBzdHJpbmdbXSk6IG51bWJlciB7XG4gIGNvbnN0IGVxdWlwcGVkU2V0SXRlbXMgPSBzZXQuaXRlbXMuZmlsdGVyKGl0ZW1JZCA9PiBlcXVpcHBlZEl0ZW1zLmluY2x1ZGVzKGl0ZW1JZCkpO1xuICByZXR1cm4gZXF1aXBwZWRTZXRJdGVtcy5sZW5ndGg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVTZXRCb251c2VzKHNldHM6IEl0ZW1TZXRbXSwgZXF1aXBwZWRJdGVtczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGFjdGl2ZUJvbnVzZXM6IHN0cmluZ1tdID0gW107XG4gIFxuICBzZXRzLmZvckVhY2goc2V0ID0+IHtcbiAgICBjb25zdCBwcm9ncmVzcyA9IGdldFNldFByb2dyZXNzKHNldCwgZXF1aXBwZWRJdGVtcyk7XG4gICAgXG4gICAgaWYgKHByb2dyZXNzID49IDIgJiYgc2V0LmJvbnVzW1wiMl9waWVjZVwiXSkge1xuICAgICAgYWN0aXZlQm9udXNlcy5wdXNoKGAke3NldC5uYW1lfSAoMi8yKTogJHtzZXQuYm9udXNbXCIyX3BpZWNlXCJdfWApO1xuICAgIH1cbiAgICBpZiAocHJvZ3Jlc3MgPj0gMyAmJiBzZXQuYm9udXNbXCIzX3BpZWNlXCJdKSB7XG4gICAgICBhY3RpdmVCb251c2VzLnB1c2goYCR7c2V0Lm5hbWV9ICgzLzMpOiAke3NldC5ib251c1tcIjNfcGllY2VcIl19YCk7XG4gICAgfVxuICAgIGlmIChwcm9ncmVzcyA+PSA0ICYmIHNldC5ib251c1tcIjRfcGllY2VcIl0pIHtcbiAgICAgIGFjdGl2ZUJvbnVzZXMucHVzaChgJHtzZXQubmFtZX0gKDQvNCk6ICR7c2V0LmJvbnVzW1wiNF9waWVjZVwiXX1gKTtcbiAgICB9XG4gICAgaWYgKHByb2dyZXNzID49IDUgJiYgc2V0LmJvbnVzW1wiNV9waWVjZVwiXSkge1xuICAgICAgYWN0aXZlQm9udXNlcy5wdXNoKGAke3NldC5uYW1lfSAoNS81KTogJHtzZXQuYm9udXNbXCI1X3BpZWNlXCJdfWApO1xuICAgIH1cbiAgfSk7XG4gIFxuICByZXR1cm4gYWN0aXZlQm9udXNlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRJY29uKHR5cGU6IEl0ZW1UeXBlKTogc3RyaW5nIHtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBcInJlbGljXCI6XG4gICAgICByZXR1cm4gXCLwn6qsXCI7XG4gICAgY2FzZSBcInBhbnR5XCI6XG4gICAgICByZXR1cm4gXCLwn6myXCI7XG4gICAgY2FzZSBcInNoYXJkXCI6XG4gICAgY2FzZSBcImN1cnJlbmN5XCI6XG4gICAgICByZXR1cm4gXCLwn5KOXCI7XG4gICAgY2FzZSBcImNvbnN1bWFibGVcIjpcbiAgICAgIHJldHVybiBcIvCfp6pcIjtcbiAgICBjYXNlIFwicXVlc3RcIjpcbiAgICAgIHJldHVybiBcIvCfk5xcIjtcbiAgICBjYXNlIFwiYXJ0aWZhY3RcIjpcbiAgICAgIHJldHVybiBcIuKtkFwiO1xuICAgIGNhc2UgXCJlcXVpcG1lbnRcIjpcbiAgICAgIHJldHVybiBcIuKalO+4j1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCLinKhcIjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImludmVudG9yeURhdGEiLCJJVEVNX1RZUEVfTEFCRUxTIiwicmVsaWMiLCJwYW50eSIsInNoYXJkIiwiY29uc3VtYWJsZSIsInF1ZXN0IiwiYXJ0aWZhY3QiLCJlcXVpcG1lbnQiLCJjdXJyZW5jeSIsIklURU1fVFlQRV9PUkRFUiIsIkRFRkFVTFRfSU5WRU5UT1JZX0RBVEEiLCJjbG9uZURlZmF1bHRJbnZlbnRvcnkiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJzZXRzIiwic2V0Iiwic3RhdHMiLCJnZXREZWZhdWx0SXRlbVRlbXBsYXRlIiwiaWQiLCJ0ZW1wbGF0ZSIsImZpbmQiLCJ1bmRlZmluZWQiLCJpc0VxdWlwcGFibGUiLCJ0eXBlIiwiZ2V0UmFyaXR5Q29sb3IiLCJyYXJpdHkiLCJjb2xvcnMiLCJjb21tb24iLCJ1bmNvbW1vbiIsInJhcmUiLCJlcGljIiwibGVnZW5kYXJ5IiwidW5pcXVlIiwiZ2V0UmFyaXR5R2xvdyIsImdsb3dzIiwiY2FuRXF1aXBJblNsb3QiLCJzbG90IiwiZ2V0U2V0UHJvZ3Jlc3MiLCJlcXVpcHBlZEl0ZW1zIiwiZXF1aXBwZWRTZXRJdGVtcyIsImZpbHRlciIsIml0ZW1JZCIsImluY2x1ZGVzIiwibGVuZ3RoIiwiZ2V0QWN0aXZlU2V0Qm9udXNlcyIsImFjdGl2ZUJvbnVzZXMiLCJmb3JFYWNoIiwicHJvZ3Jlc3MiLCJib251cyIsInB1c2giLCJuYW1lIiwiZ2V0RGVmYXVsdEljb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/inventory.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/map.ts":
/*!************************!*\
  !*** ./app/lib/map.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneDefaultMap: () => (/* binding */ cloneDefaultMap)\n/* harmony export */ });\n/* harmony import */ var _data_map_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/map.json */ \"(app-pages-browser)/./data/map.json\");\n\nfunction cloneDefaultMap() {\n    // Add fallback data in case JSON import fails\n    const fallbackData = {\n        nodes: [\n            {\n                id: \"r1\",\n                name: \"Lucid World\",\n                type: \"realm\",\n                unlocked: true,\n                coords: [\n                    500,\n                    300\n                ],\n                lore: \"The central hub of your dreamscape, where your journey begins.\"\n            },\n            {\n                id: \"t1\",\n                name: \"Temple of Awakening\",\n                type: \"temple\",\n                unlocked: true,\n                coords: [\n                    200,\n                    500\n                ],\n                lore: \"A serene temple dedicated to the art of lucid dreaming.\"\n            },\n            {\n                id: \"r2\",\n                name: \"Panty Realm\",\n                type: \"panty\",\n                unlocked: false,\n                coords: [\n                    800,\n                    200\n                ],\n                lore: \"A realm woven from desire and silk. Unlock by completing specific rituals.\",\n                unlockCondition: {\n                    type: \"ritual\",\n                    id: \"panty_ritual_1\"\n                }\n            },\n            {\n                id: \"d1\",\n                name: \"Caves of Shame\",\n                type: \"dungeon\",\n                unlocked: false,\n                coords: [\n                    750,\n                    600\n                ],\n                lore: \"A deep dungeon where echoes of embarrassment and guilt reside.\",\n                unlockCondition: {\n                    type: \"shame\",\n                    level: 5\n                }\n            }\n        ],\n        links: [\n            {\n                from: \"r1\",\n                to: \"t1\",\n                locked: false\n            },\n            {\n                from: \"r1\",\n                to: \"r2\",\n                locked: true\n            },\n            {\n                from: \"r2\",\n                to: \"d1\",\n                locked: true\n            }\n        ]\n    };\n    try {\n        // Try to use the imported JSON, fallback to hardcoded data\n        const mapToUse = _data_map_json__WEBPACK_IMPORTED_MODULE_0__ || fallbackData;\n        return JSON.parse(JSON.stringify(mapToUse));\n    } catch (error) {\n        console.error('Error cloning map data:', error);\n        return fallbackData;\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvbWFwLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZDO0FBZ0N0QyxTQUFTQztJQUNkLDhDQUE4QztJQUM5QyxNQUFNQyxlQUF3QjtRQUM1QkMsT0FBTztZQUNMO2dCQUFFQyxJQUFJO2dCQUFNQyxNQUFNO2dCQUFlQyxNQUFNO2dCQUFTQyxVQUFVO2dCQUFNQyxRQUFRO29CQUFDO29CQUFLO2lCQUFJO2dCQUFFQyxNQUFNO1lBQWlFO1lBQzNKO2dCQUFFTCxJQUFJO2dCQUFNQyxNQUFNO2dCQUF1QkMsTUFBTTtnQkFBVUMsVUFBVTtnQkFBTUMsUUFBUTtvQkFBQztvQkFBSztpQkFBSTtnQkFBRUMsTUFBTTtZQUEwRDtZQUM3SjtnQkFBRUwsSUFBSTtnQkFBTUMsTUFBTTtnQkFBZUMsTUFBTTtnQkFBU0MsVUFBVTtnQkFBT0MsUUFBUTtvQkFBQztvQkFBSztpQkFBSTtnQkFBRUMsTUFBTTtnQkFBOEVDLGlCQUFpQjtvQkFBRUosTUFBTTtvQkFBVUYsSUFBSTtnQkFBaUI7WUFBRTtZQUNuTztnQkFBRUEsSUFBSTtnQkFBTUMsTUFBTTtnQkFBa0JDLE1BQU07Z0JBQVdDLFVBQVU7Z0JBQU9DLFFBQVE7b0JBQUM7b0JBQUs7aUJBQUk7Z0JBQUVDLE1BQU07Z0JBQWtFQyxpQkFBaUI7b0JBQUVKLE1BQU07b0JBQVNLLE9BQU87Z0JBQUU7WUFBRTtTQUNoTjtRQUNEQyxPQUFPO1lBQ0w7Z0JBQUVDLE1BQU07Z0JBQU1DLElBQUk7Z0JBQU1DLFFBQVE7WUFBTTtZQUN0QztnQkFBRUYsTUFBTTtnQkFBTUMsSUFBSTtnQkFBTUMsUUFBUTtZQUFLO1lBQ3JDO2dCQUFFRixNQUFNO2dCQUFNQyxJQUFJO2dCQUFNQyxRQUFRO1lBQUs7U0FDdEM7SUFDSDtJQUVBLElBQUk7UUFDRiwyREFBMkQ7UUFDM0QsTUFBTUMsV0FBV2hCLDJDQUFVQSxJQUFJRTtRQUMvQixPQUFPZSxLQUFLQyxLQUFLLENBQUNELEtBQUtFLFNBQVMsQ0FBQ0g7SUFDbkMsRUFBRSxPQUFPSSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQywyQkFBMkJBO1FBQ3pDLE9BQU9sQjtJQUNUO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcbGliXFxtYXAudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHRNYXAgZnJvbSAnLi4vLi4vZGF0YS9tYXAuanNvbic7XHJcblxyXG5leHBvcnQgdHlwZSBNYXBOb2RlVHlwZSA9IFwicmVhbG1cIiB8IFwicGFudHlcIiB8IFwiZHVuZ2VvblwiIHwgXCJ0ZW1wbGVcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVW5sb2NrQ29uZGl0aW9uIHtcclxuICB0eXBlOiBcInJpdHVhbFwiIHwgXCJzaGFtZVwiIHwgXCJxdWVzdFwiIHwgXCJpdGVtXCI7XHJcbiAgaWQ/OiBzdHJpbmc7XHJcbiAgbGV2ZWw/OiBudW1iZXI7XHJcbiAgYW1vdW50PzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1hcE5vZGUge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IE1hcE5vZGVUeXBlO1xyXG4gIHVubG9ja2VkOiBib29sZWFuO1xyXG4gIGNvb3JkczogW251bWJlciwgbnVtYmVyXTtcclxuICBsb3JlOiBzdHJpbmc7XHJcbiAgdW5sb2NrQ29uZGl0aW9uPzogVW5sb2NrQ29uZGl0aW9uO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1hcExpbmsge1xyXG4gIGZyb206IHN0cmluZztcclxuICB0bzogc3RyaW5nO1xyXG4gIGxvY2tlZDogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNYXBEYXRhIHtcclxuICBub2RlczogTWFwTm9kZVtdO1xyXG4gIGxpbmtzOiBNYXBMaW5rW107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZmF1bHRNYXAoKTogTWFwRGF0YSB7XHJcbiAgLy8gQWRkIGZhbGxiYWNrIGRhdGEgaW4gY2FzZSBKU09OIGltcG9ydCBmYWlsc1xyXG4gIGNvbnN0IGZhbGxiYWNrRGF0YTogTWFwRGF0YSA9IHtcclxuICAgIG5vZGVzOiBbXHJcbiAgICAgIHsgaWQ6IFwicjFcIiwgbmFtZTogXCJMdWNpZCBXb3JsZFwiLCB0eXBlOiBcInJlYWxtXCIsIHVubG9ja2VkOiB0cnVlLCBjb29yZHM6IFs1MDAsIDMwMF0sIGxvcmU6IFwiVGhlIGNlbnRyYWwgaHViIG9mIHlvdXIgZHJlYW1zY2FwZSwgd2hlcmUgeW91ciBqb3VybmV5IGJlZ2lucy5cIiB9LFxyXG4gICAgICB7IGlkOiBcInQxXCIsIG5hbWU6IFwiVGVtcGxlIG9mIEF3YWtlbmluZ1wiLCB0eXBlOiBcInRlbXBsZVwiLCB1bmxvY2tlZDogdHJ1ZSwgY29vcmRzOiBbMjAwLCA1MDBdLCBsb3JlOiBcIkEgc2VyZW5lIHRlbXBsZSBkZWRpY2F0ZWQgdG8gdGhlIGFydCBvZiBsdWNpZCBkcmVhbWluZy5cIiB9LFxyXG4gICAgICB7IGlkOiBcInIyXCIsIG5hbWU6IFwiUGFudHkgUmVhbG1cIiwgdHlwZTogXCJwYW50eVwiLCB1bmxvY2tlZDogZmFsc2UsIGNvb3JkczogWzgwMCwgMjAwXSwgbG9yZTogXCJBIHJlYWxtIHdvdmVuIGZyb20gZGVzaXJlIGFuZCBzaWxrLiBVbmxvY2sgYnkgY29tcGxldGluZyBzcGVjaWZpYyByaXR1YWxzLlwiLCB1bmxvY2tDb25kaXRpb246IHsgdHlwZTogXCJyaXR1YWxcIiwgaWQ6IFwicGFudHlfcml0dWFsXzFcIiB9IH0sXHJcbiAgICAgIHsgaWQ6IFwiZDFcIiwgbmFtZTogXCJDYXZlcyBvZiBTaGFtZVwiLCB0eXBlOiBcImR1bmdlb25cIiwgdW5sb2NrZWQ6IGZhbHNlLCBjb29yZHM6IFs3NTAsIDYwMF0sIGxvcmU6IFwiQSBkZWVwIGR1bmdlb24gd2hlcmUgZWNob2VzIG9mIGVtYmFycmFzc21lbnQgYW5kIGd1aWx0IHJlc2lkZS5cIiwgdW5sb2NrQ29uZGl0aW9uOiB7IHR5cGU6IFwic2hhbWVcIiwgbGV2ZWw6IDUgfSB9XHJcbiAgICBdLFxyXG4gICAgbGlua3M6IFtcclxuICAgICAgeyBmcm9tOiBcInIxXCIsIHRvOiBcInQxXCIsIGxvY2tlZDogZmFsc2UgfSxcclxuICAgICAgeyBmcm9tOiBcInIxXCIsIHRvOiBcInIyXCIsIGxvY2tlZDogdHJ1ZSB9LFxyXG4gICAgICB7IGZyb206IFwicjJcIiwgdG86IFwiZDFcIiwgbG9ja2VkOiB0cnVlIH1cclxuICAgIF1cclxuICB9O1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8gVHJ5IHRvIHVzZSB0aGUgaW1wb3J0ZWQgSlNPTiwgZmFsbGJhY2sgdG8gaGFyZGNvZGVkIGRhdGFcclxuICAgIGNvbnN0IG1hcFRvVXNlID0gZGVmYXVsdE1hcCB8fCBmYWxsYmFja0RhdGE7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShtYXBUb1VzZSkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbG9uaW5nIG1hcCBkYXRhOicsIGVycm9yKTtcclxuICAgIHJldHVybiBmYWxsYmFja0RhdGE7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJkZWZhdWx0TWFwIiwiY2xvbmVEZWZhdWx0TWFwIiwiZmFsbGJhY2tEYXRhIiwibm9kZXMiLCJpZCIsIm5hbWUiLCJ0eXBlIiwidW5sb2NrZWQiLCJjb29yZHMiLCJsb3JlIiwidW5sb2NrQ29uZGl0aW9uIiwibGV2ZWwiLCJsaW5rcyIsImZyb20iLCJ0byIsImxvY2tlZCIsIm1hcFRvVXNlIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJjb25zb2xlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/map.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/npcs.ts":
/*!*************************!*\
  !*** ./app/lib/npcs.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clampMeter: () => (/* binding */ clampMeter),\n/* harmony export */   cloneDefaultNpcs: () => (/* binding */ cloneDefaultNpcs),\n/* harmony export */   normaliseDialogue: () => (/* binding */ normaliseDialogue),\n/* harmony export */   normaliseNpc: () => (/* binding */ normaliseNpc)\n/* harmony export */ });\n/* harmony import */ var _data_npcs_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/npcs.json */ \"(app-pages-browser)/./data/npcs.json\");\n\nconst DEFAULT_NPCS = _data_npcs_json__WEBPACK_IMPORTED_MODULE_0__.map((npc)=>normaliseNpc(npc));\nfunction normaliseDialogue(entry) {\n    var _entry_text, _entry_date;\n    return {\n        ...entry,\n        id: entry.id,\n        text: (_entry_text = entry.text) !== null && _entry_text !== void 0 ? _entry_text : \"\",\n        date: (_entry_date = entry.date) !== null && _entry_date !== void 0 ? _entry_date : new Date().toISOString()\n    };\n}\nfunction normaliseNpc(npc) {\n    var _npc_dreamCount, _npc_bio;\n    return {\n        id: npc.id,\n        name: npc.name || \"Unnamed NPC\",\n        role: npc.role || \"Friend\",\n        dreamCount: Math.max(0, Number((_npc_dreamCount = npc.dreamCount) !== null && _npc_dreamCount !== void 0 ? _npc_dreamCount : 0)),\n        trust: clampMeter(npc.trust),\n        shame: clampMeter(npc.shame),\n        bio: (_npc_bio = npc.bio) !== null && _npc_bio !== void 0 ? _npc_bio : \"\",\n        dialogues: Array.isArray(npc.dialogues) ? npc.dialogues.map((dialogue)=>normaliseDialogue(dialogue)) : []\n    };\n}\nfunction cloneDefaultNpcs() {\n    return DEFAULT_NPCS.map((npc)=>normaliseNpc({\n            ...npc\n        }));\n}\nfunction clampMeter(value) {\n    if (typeof value !== 'number' || Number.isNaN(value)) return 0;\n    return Math.max(0, Math.min(100, Math.round(value)));\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvbnBjcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUErQztBQXFCL0MsTUFBTUMsZUFBc0IsNkNBQXVCQyxHQUFHLENBQUMsQ0FBQ0MsTUFBUUMsYUFBYUQ7QUFFdEUsU0FBU0Usa0JBQWtCQyxLQUFvQjtRQUk1Q0EsYUFDQUE7SUFKUixPQUFPO1FBQ0wsR0FBR0EsS0FBSztRQUNSQyxJQUFJRCxNQUFNQyxFQUFFO1FBQ1pDLE1BQU1GLENBQUFBLGNBQUFBLE1BQU1FLElBQUksY0FBVkYseUJBQUFBLGNBQWM7UUFDcEJHLE1BQU1ILENBQUFBLGNBQUFBLE1BQU1HLElBQUksY0FBVkgseUJBQUFBLGNBQWMsSUFBSUksT0FBT0MsV0FBVztJQUM1QztBQUNGO0FBRU8sU0FBU1AsYUFBYUQsR0FBUTtRQUtGQSxpQkFHMUJBO0lBUFAsT0FBTztRQUNMSSxJQUFJSixJQUFJSSxFQUFFO1FBQ1ZLLE1BQU1ULElBQUlTLElBQUksSUFBSTtRQUNsQkMsTUFBTVYsSUFBSVUsSUFBSSxJQUFJO1FBQ2xCQyxZQUFZQyxLQUFLQyxHQUFHLENBQUMsR0FBR0MsT0FBT2QsQ0FBQUEsa0JBQUFBLElBQUlXLFVBQVUsY0FBZFgsNkJBQUFBLGtCQUFrQjtRQUNqRGUsT0FBT0MsV0FBV2hCLElBQUllLEtBQUs7UUFDM0JFLE9BQU9ELFdBQVdoQixJQUFJaUIsS0FBSztRQUMzQkMsS0FBS2xCLENBQUFBLFdBQUFBLElBQUlrQixHQUFHLGNBQVBsQixzQkFBQUEsV0FBVztRQUNoQm1CLFdBQVdDLE1BQU1DLE9BQU8sQ0FBQ3JCLElBQUltQixTQUFTLElBQ2xDbkIsSUFBSW1CLFNBQVMsQ0FBQ3BCLEdBQUcsQ0FBQyxDQUFDdUIsV0FBYXBCLGtCQUFrQm9CLGFBQ2xELEVBQUU7SUFDUjtBQUNGO0FBRU8sU0FBU0M7SUFDZCxPQUFPekIsYUFBYUMsR0FBRyxDQUFDLENBQUNDLE1BQVFDLGFBQWE7WUFBRSxHQUFHRCxHQUFHO1FBQUM7QUFDekQ7QUFFTyxTQUFTZ0IsV0FBV1EsS0FBeUI7SUFDbEQsSUFBSSxPQUFPQSxVQUFVLFlBQVlWLE9BQU9XLEtBQUssQ0FBQ0QsUUFBUSxPQUFPO0lBQzdELE9BQU9aLEtBQUtDLEdBQUcsQ0FBQyxHQUFHRCxLQUFLYyxHQUFHLENBQUMsS0FBS2QsS0FBS2UsS0FBSyxDQUFDSDtBQUM5QyIsInNvdXJjZXMiOlsiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxMdWNpZCBEcmVhbVxcYXBwXFxsaWJcXG5wY3MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGRlZmF1bHROcGNzIGZyb20gXCIuLi8uLi9kYXRhL25wY3MuanNvblwiO1xuXG5leHBvcnQgdHlwZSBEaWFsb2d1ZUVudHJ5ID0ge1xuICBpZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIGRhdGU6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIE5wY1JvbGUgPSBcIk1pc3RyZXNzXCIgfCBcIkZhbWlseVwiIHwgXCJGcmllbmRcIiB8IFwiV2FpZnVcIiB8IFwiTWVudG9yXCIgfCBzdHJpbmc7XG5cbmV4cG9ydCB0eXBlIE5wYyA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICByb2xlOiBOcGNSb2xlO1xuICBkcmVhbUNvdW50OiBudW1iZXI7XG4gIHRydXN0OiBudW1iZXI7XG4gIHNoYW1lOiBudW1iZXI7XG4gIGJpbz86IHN0cmluZztcbiAgZGlhbG9ndWVzOiBEaWFsb2d1ZUVudHJ5W107XG59O1xuXG5jb25zdCBERUZBVUxUX05QQ1M6IE5wY1tdID0gKGRlZmF1bHROcGNzIGFzIE5wY1tdKS5tYXAoKG5wYykgPT4gbm9ybWFsaXNlTnBjKG5wYykpO1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXNlRGlhbG9ndWUoZW50cnk6IERpYWxvZ3VlRW50cnkpOiBEaWFsb2d1ZUVudHJ5IHtcbiAgcmV0dXJuIHtcbiAgICAuLi5lbnRyeSxcbiAgICBpZDogZW50cnkuaWQsXG4gICAgdGV4dDogZW50cnkudGV4dCA/PyBcIlwiLFxuICAgIGRhdGU6IGVudHJ5LmRhdGUgPz8gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXNlTnBjKG5wYzogTnBjKTogTnBjIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogbnBjLmlkLFxuICAgIG5hbWU6IG5wYy5uYW1lIHx8IFwiVW5uYW1lZCBOUENcIixcbiAgICByb2xlOiBucGMucm9sZSB8fCBcIkZyaWVuZFwiLFxuICAgIGRyZWFtQ291bnQ6IE1hdGgubWF4KDAsIE51bWJlcihucGMuZHJlYW1Db3VudCA/PyAwKSksXG4gICAgdHJ1c3Q6IGNsYW1wTWV0ZXIobnBjLnRydXN0KSxcbiAgICBzaGFtZTogY2xhbXBNZXRlcihucGMuc2hhbWUpLFxuICAgIGJpbzogbnBjLmJpbyA/PyBcIlwiLFxuICAgIGRpYWxvZ3VlczogQXJyYXkuaXNBcnJheShucGMuZGlhbG9ndWVzKVxuICAgICAgPyBucGMuZGlhbG9ndWVzLm1hcCgoZGlhbG9ndWUpID0+IG5vcm1hbGlzZURpYWxvZ3VlKGRpYWxvZ3VlKSlcbiAgICAgIDogW10sXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZmF1bHROcGNzKCk6IE5wY1tdIHtcbiAgcmV0dXJuIERFRkFVTFRfTlBDUy5tYXAoKG5wYykgPT4gbm9ybWFsaXNlTnBjKHsgLi4ubnBjIH0pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wTWV0ZXIodmFsdWU6IG51bWJlciB8IHVuZGVmaW5lZCk6IG51bWJlciB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8IE51bWJlci5pc05hTih2YWx1ZSkpIHJldHVybiAwO1xuICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwLCBNYXRoLnJvdW5kKHZhbHVlKSkpO1xufVxuIl0sIm5hbWVzIjpbImRlZmF1bHROcGNzIiwiREVGQVVMVF9OUENTIiwibWFwIiwibnBjIiwibm9ybWFsaXNlTnBjIiwibm9ybWFsaXNlRGlhbG9ndWUiLCJlbnRyeSIsImlkIiwidGV4dCIsImRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJuYW1lIiwicm9sZSIsImRyZWFtQ291bnQiLCJNYXRoIiwibWF4IiwiTnVtYmVyIiwidHJ1c3QiLCJjbGFtcE1ldGVyIiwic2hhbWUiLCJiaW8iLCJkaWFsb2d1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJkaWFsb2d1ZSIsImNsb25lRGVmYXVsdE5wY3MiLCJ2YWx1ZSIsImlzTmFOIiwibWluIiwicm91bmQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/npcs.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/questlines.ts":
/*!*******************************!*\
  !*** ./app/lib/questlines.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneDefaultQuestlines: () => (/* binding */ cloneDefaultQuestlines),\n/* harmony export */   cloneQuestline: () => (/* binding */ cloneQuestline),\n/* harmony export */   findStage: () => (/* binding */ findStage),\n/* harmony export */   getActiveStage: () => (/* binding */ getActiveStage),\n/* harmony export */   getQuestlineProgress: () => (/* binding */ getQuestlineProgress),\n/* harmony export */   isQuestlineComplete: () => (/* binding */ isQuestlineComplete)\n/* harmony export */ });\n/* harmony import */ var _data_questlines_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/questlines.json */ \"(app-pages-browser)/./data/questlines.json\");\n\nfunction cloneQuestline(questline) {\n    return {\n        ...questline,\n        stages: questline.stages.map((stage)=>{\n            var _stage_branchChoices;\n            return {\n                ...stage,\n                branchChoices: (_stage_branchChoices = stage.branchChoices) === null || _stage_branchChoices === void 0 ? void 0 : _stage_branchChoices.map((branch)=>({\n                        ...branch\n                    }))\n            };\n        })\n    };\n}\nconst DEFAULT_QUESTLINES = _data_questlines_json__WEBPACK_IMPORTED_MODULE_0__.map((questline)=>cloneQuestline(questline));\nfunction cloneDefaultQuestlines() {\n    return DEFAULT_QUESTLINES.map((questline)=>cloneQuestline(questline));\n}\nfunction getQuestlineProgress(questline) {\n    const total = questline.stages.length;\n    const completed = questline.stages.filter((stage)=>stage.completed).length;\n    return {\n        total,\n        completed,\n        percent: total === 0 ? 0 : Math.round(completed / total * 100)\n    };\n}\nfunction getActiveStage(questline) {\n    return questline.stages.find((stage)=>!stage.completed);\n}\nfunction findStage(questline, stageId) {\n    const index = questline.stages.findIndex((stage)=>stage.id === stageId);\n    if (index === -1) return undefined;\n    return {\n        stage: questline.stages[index],\n        index\n    };\n}\nfunction isQuestlineComplete(questline) {\n    return questline.stages.every((stage)=>stage.completed);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9saWIvcXVlc3RsaW5lcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJEO0FBMkNwRCxTQUFTQyxlQUFlQyxTQUFvQjtJQUNqRCxPQUFPO1FBQ0wsR0FBR0EsU0FBUztRQUNaQyxRQUFRRCxVQUFVQyxNQUFNLENBQUNDLEdBQUcsQ0FBQyxDQUFDQztnQkFFYkE7bUJBRndCO2dCQUN2QyxHQUFHQSxLQUFLO2dCQUNSQyxhQUFhLEdBQUVELHVCQUFBQSxNQUFNQyxhQUFhLGNBQW5CRCwyQ0FBQUEscUJBQXFCRCxHQUFHLENBQUMsQ0FBQ0csU0FBWTt3QkFBRSxHQUFHQSxNQUFNO29CQUFDO1lBQ25FOztJQUNGO0FBQ0Y7QUFFQSxNQUFNQyxxQkFBcUIsbURBQW1DSixHQUFHLENBQUMsQ0FBQ0YsWUFDakVELGVBQWVDO0FBR1YsU0FBU087SUFDZCxPQUFPRCxtQkFBbUJKLEdBQUcsQ0FBQyxDQUFDRixZQUFjRCxlQUFlQztBQUM5RDtBQUVPLFNBQVNRLHFCQUFxQlIsU0FBb0I7SUFDdkQsTUFBTVMsUUFBUVQsVUFBVUMsTUFBTSxDQUFDUyxNQUFNO0lBQ3JDLE1BQU1DLFlBQVlYLFVBQVVDLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLENBQUNULFFBQVVBLE1BQU1RLFNBQVMsRUFBRUQsTUFBTTtJQUM1RSxPQUFPO1FBQ0xEO1FBQ0FFO1FBQ0FFLFNBQVNKLFVBQVUsSUFBSSxJQUFJSyxLQUFLQyxLQUFLLENBQUMsWUFBYU4sUUFBUztJQUM5RDtBQUNGO0FBRU8sU0FBU08sZUFBZWhCLFNBQW9CO0lBQ2pELE9BQU9BLFVBQVVDLE1BQU0sQ0FBQ2dCLElBQUksQ0FBQyxDQUFDZCxRQUFVLENBQUNBLE1BQU1RLFNBQVM7QUFDMUQ7QUFFTyxTQUFTTyxVQUNkbEIsU0FBb0IsRUFDcEJtQixPQUFlO0lBRWYsTUFBTUMsUUFBUXBCLFVBQVVDLE1BQU0sQ0FBQ29CLFNBQVMsQ0FBQyxDQUFDbEIsUUFBVUEsTUFBTW1CLEVBQUUsS0FBS0g7SUFDakUsSUFBSUMsVUFBVSxDQUFDLEdBQUcsT0FBT0c7SUFDekIsT0FBTztRQUFFcEIsT0FBT0gsVUFBVUMsTUFBTSxDQUFDbUIsTUFBTTtRQUFFQTtJQUFNO0FBQ2pEO0FBRU8sU0FBU0ksb0JBQW9CeEIsU0FBb0I7SUFDdEQsT0FBT0EsVUFBVUMsTUFBTSxDQUFDd0IsS0FBSyxDQUFDLENBQUN0QixRQUFVQSxNQUFNUSxTQUFTO0FBQzFEIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXEx1Y2lkIERyZWFtXFxhcHBcXGxpYlxccXVlc3RsaW5lcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZGVmYXVsdFF1ZXN0bGluZXMgZnJvbSBcIi4uLy4uL2RhdGEvcXVlc3RsaW5lcy5qc29uXCI7XG5cbmV4cG9ydCB0eXBlIFF1ZXN0UmV3YXJkID0ge1xuICB4cD86IG51bWJlcjtcbiAgaXRlbT86IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGJ1ZmY/OiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgUXVlc3RCcmFuY2ggPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICByZXdhcmQ/OiBRdWVzdFJld2FyZDtcbn07XG5cbmV4cG9ydCB0eXBlIFF1ZXN0U3RhZ2UgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICB4cDogbnVtYmVyO1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIGJyYW5jaENob2ljZXM/OiBRdWVzdEJyYW5jaFtdO1xuICBjaG9zZW5CcmFuY2hJZD86IHN0cmluZyB8IG51bGw7XG4gIHJld2FyZD86IFF1ZXN0UmV3YXJkO1xuICBkZWFkbGluZT86IHN0cmluZyB8IG51bGw7XG4gIGRlYWRsaW5lTm90ZT86IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgdHlwZSBRdWVzdGxpbmUgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIHJlYWxtPzogc3RyaW5nO1xuICBjb21wYW5pb25JZD86IHN0cmluZztcbiAgYnJhbmNoaW5nPzogYm9vbGVhbjtcbiAgc3RhZ2VzOiBRdWVzdFN0YWdlW107XG4gIHJld2FyZD86IFF1ZXN0UmV3YXJkO1xuICBjb21wbGV0ZWQ/OiBib29sZWFuO1xuICBhY3RpdmVTdGFnZUlkPzogc3RyaW5nIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZVF1ZXN0bGluZShxdWVzdGxpbmU6IFF1ZXN0bGluZSk6IFF1ZXN0bGluZSB7XG4gIHJldHVybiB7XG4gICAgLi4ucXVlc3RsaW5lLFxuICAgIHN0YWdlczogcXVlc3RsaW5lLnN0YWdlcy5tYXAoKHN0YWdlKSA9PiAoe1xuICAgICAgLi4uc3RhZ2UsXG4gICAgICBicmFuY2hDaG9pY2VzOiBzdGFnZS5icmFuY2hDaG9pY2VzPy5tYXAoKGJyYW5jaCkgPT4gKHsgLi4uYnJhbmNoIH0pKSxcbiAgICB9KSksXG4gIH07XG59XG5cbmNvbnN0IERFRkFVTFRfUVVFU1RMSU5FUyA9IChkZWZhdWx0UXVlc3RsaW5lcyBhcyBRdWVzdGxpbmVbXSkubWFwKChxdWVzdGxpbmUpID0+XG4gIGNsb25lUXVlc3RsaW5lKHF1ZXN0bGluZSlcbik7XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZmF1bHRRdWVzdGxpbmVzKCk6IFF1ZXN0bGluZVtdIHtcbiAgcmV0dXJuIERFRkFVTFRfUVVFU1RMSU5FUy5tYXAoKHF1ZXN0bGluZSkgPT4gY2xvbmVRdWVzdGxpbmUocXVlc3RsaW5lKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRRdWVzdGxpbmVQcm9ncmVzcyhxdWVzdGxpbmU6IFF1ZXN0bGluZSkge1xuICBjb25zdCB0b3RhbCA9IHF1ZXN0bGluZS5zdGFnZXMubGVuZ3RoO1xuICBjb25zdCBjb21wbGV0ZWQgPSBxdWVzdGxpbmUuc3RhZ2VzLmZpbHRlcigoc3RhZ2UpID0+IHN0YWdlLmNvbXBsZXRlZCkubGVuZ3RoO1xuICByZXR1cm4ge1xuICAgIHRvdGFsLFxuICAgIGNvbXBsZXRlZCxcbiAgICBwZXJjZW50OiB0b3RhbCA9PT0gMCA/IDAgOiBNYXRoLnJvdW5kKChjb21wbGV0ZWQgLyB0b3RhbCkgKiAxMDApLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlU3RhZ2UocXVlc3RsaW5lOiBRdWVzdGxpbmUpOiBRdWVzdFN0YWdlIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHF1ZXN0bGluZS5zdGFnZXMuZmluZCgoc3RhZ2UpID0+ICFzdGFnZS5jb21wbGV0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluZFN0YWdlKFxuICBxdWVzdGxpbmU6IFF1ZXN0bGluZSxcbiAgc3RhZ2VJZDogc3RyaW5nXG4pOiB7IHN0YWdlOiBRdWVzdFN0YWdlOyBpbmRleDogbnVtYmVyIH0gfCB1bmRlZmluZWQge1xuICBjb25zdCBpbmRleCA9IHF1ZXN0bGluZS5zdGFnZXMuZmluZEluZGV4KChzdGFnZSkgPT4gc3RhZ2UuaWQgPT09IHN0YWdlSWQpO1xuICBpZiAoaW5kZXggPT09IC0xKSByZXR1cm4gdW5kZWZpbmVkO1xuICByZXR1cm4geyBzdGFnZTogcXVlc3RsaW5lLnN0YWdlc1tpbmRleF0sIGluZGV4IH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1F1ZXN0bGluZUNvbXBsZXRlKHF1ZXN0bGluZTogUXVlc3RsaW5lKTogYm9vbGVhbiB7XG4gIHJldHVybiBxdWVzdGxpbmUuc3RhZ2VzLmV2ZXJ5KChzdGFnZSkgPT4gc3RhZ2UuY29tcGxldGVkKTtcbn1cbiJdLCJuYW1lcyI6WyJkZWZhdWx0UXVlc3RsaW5lcyIsImNsb25lUXVlc3RsaW5lIiwicXVlc3RsaW5lIiwic3RhZ2VzIiwibWFwIiwic3RhZ2UiLCJicmFuY2hDaG9pY2VzIiwiYnJhbmNoIiwiREVGQVVMVF9RVUVTVExJTkVTIiwiY2xvbmVEZWZhdWx0UXVlc3RsaW5lcyIsImdldFF1ZXN0bGluZVByb2dyZXNzIiwidG90YWwiLCJsZW5ndGgiLCJjb21wbGV0ZWQiLCJmaWx0ZXIiLCJwZXJjZW50IiwiTWF0aCIsInJvdW5kIiwiZ2V0QWN0aXZlU3RhZ2UiLCJmaW5kIiwiZmluZFN0YWdlIiwic3RhZ2VJZCIsImluZGV4IiwiZmluZEluZGV4IiwiaWQiLCJ1bmRlZmluZWQiLCJpc1F1ZXN0bGluZUNvbXBsZXRlIiwiZXZlcnkiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/questlines.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/lib/rituals.ts":
/*!****************************!*\
  !*** ./app/lib/rituals.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cloneDefaultRitualLogs: () => (/* binding */ cloneDefaultRitualLogs),\n/* harmony export */   cloneDefaultRituals: () => (/* binding */ cloneDefaultRituals),\n/* harmony export */   computeRitualProgress: () => (/* binding */ computeRitualProgress),\n/* harmony export */   describeMultiplier: () => (/* binding */ describeMultiplier),\n/* harmony export */   formatRitualType: () => (/* binding */ formatRitualType)\n/* harmony export */ });\n/* harmony import */ var _data_rituals_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/rituals.json */ \"(app-pages-browser)/./data/rituals.json\");\n/* harmony import */ var _data_ritualLogs_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/ritualLogs.json */ \"(app-pages-browser)/./data/ritualLogs.json\");\n\n\nconst DAY_MS = 86400000;\nconst WEEK_MS = DAY_MS * 7;\nfunction startOfDay(date) {\n    return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\nfunction getPeriodIndexFromDate(date, type) {\n    const dayStart = startOfDay(date);\n    switch(type){\n        case \"daily\":\n            return Math.floor(dayStart.getTime() / DAY_MS);\n        case \"weekly\":\n            return Math.floor(dayStart.getTime() / WEEK_MS);\n        case \"monthly\":\n            return dayStart.getFullYear() * 12 + dayStart.getMonth();\n        case \"yearly\":\n            return dayStart.getFullYear();\n    }\n}\nfunction stepBackPeriod(index, type) {\n    switch(type){\n        case \"daily\":\n        case \"weekly\":\n        case \"monthly\":\n        case \"yearly\":\n            return index - 1;\n    }\n}\nconst MULTIPLIERS = {\n    daily: {\n        threshold: 3,\n        bonus: 0.1\n    },\n    weekly: {\n        threshold: 4,\n        bonus: 0.2\n    },\n    monthly: {\n        threshold: 3,\n        bonus: 0.5\n    },\n    yearly: {\n        threshold: Infinity,\n        bonus: 0\n    }\n};\nfunction cloneDefaultRituals() {\n    return _data_rituals_json__WEBPACK_IMPORTED_MODULE_0__.map((ritual)=>({\n            ...ritual\n        }));\n}\nfunction cloneDefaultRitualLogs() {\n    return _data_ritualLogs_json__WEBPACK_IMPORTED_MODULE_1__.map((log)=>({\n            ...log\n        }));\n}\nfunction computeRitualProgress(ritual, logs) {\n    let referenceDate = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : new Date();\n    var _relevantLogs_;\n    const relevantLogs = logs.filter((log)=>log.ritualId === ritual.id).sort((a, b)=>new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\n    const uniquePeriods = [];\n    const seen = new Set();\n    for (const log of relevantLogs){\n        const index = getPeriodIndexFromDate(new Date(log.timestamp), ritual.type);\n        if (!seen.has(index)) {\n            uniquePeriods.push(index);\n            seen.add(index);\n        }\n    }\n    if (uniquePeriods.length === 0) {\n        return {\n            streak: 0,\n            completed: false,\n            multiplier: 0\n        };\n    }\n    const currentIndex = getPeriodIndexFromDate(referenceDate, ritual.type);\n    const completed = uniquePeriods[0] === currentIndex;\n    const { threshold, bonus } = MULTIPLIERS[ritual.type];\n    let streak = 0;\n    let expected = completed ? currentIndex : stepBackPeriod(currentIndex, ritual.type);\n    for (const periodIndex of uniquePeriods){\n        if (periodIndex === expected) {\n            streak += 1;\n            expected = stepBackPeriod(expected, ritual.type);\n        } else if (periodIndex < expected) {\n            break;\n        }\n    }\n    const multiplier = streak >= threshold ? bonus : 0;\n    return {\n        streak,\n        completed,\n        multiplier,\n        lastCompletedAt: (_relevantLogs_ = relevantLogs[0]) === null || _relevantLogs_ === void 0 ? void 0 : _relevantLogs_.timestamp\n    };\n}\nfunction formatRitualType(type) {\n    switch(type){\n        case \"daily\":\n            return \"Daily\";\n        case \"weekly\":\n            return \"Weekly\";\n        case \"monthly\":\n            return \"Monthly\";\n        case \"yearly\":\n            return \"Yearly\";\n        default:\n            return type;\n    }\n}\nfunction describeMultiplier(type) {\n    const { threshold, bonus } = MULTIPLIERS[type];\n    if (!Number.isFinite(threshold) || bonus <= 0) return null;\n    return {\n        threshold,\n        bonus\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNMkMsZUFBZVosY0FBZTtRQUN2QyxJQUFJWSxnQkFBZ0JELFVBQVU7WUFDNUJKLFVBQVU7WUFDVkksV0FBV3JDLGVBQWVxQyxVQUFVekIsT0FBT2pCLElBQUk7UUFDakQsT0FBTyxJQUFJMkMsY0FBY0QsVUFBVTtZQUNqQztRQUNGO0lBQ0Y7SUFFQSxNQUFNRixhQUFhRixVQUFVN0IsWUFBWUMsUUFBUTtJQUVqRCxPQUFPO1FBQ0w0QjtRQUNBQztRQUNBQztRQUNBSSxlQUFlLEdBQUVyQixpQkFBQUEsWUFBWSxDQUFDLEVBQUUsY0FBZkEscUNBQUFBLGVBQWlCTyxTQUFTO0lBQzdDO0FBQ0Y7QUFFTyxTQUFTZSxpQkFBaUI3QyxJQUFxQjtJQUNwRCxPQUFRQTtRQUNOLEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1Q7WUFDRSxPQUFPQTtJQUNYO0FBQ0Y7QUFFTyxTQUFTOEMsbUJBQW1COUMsSUFBcUI7SUFDdEQsTUFBTSxFQUFFUyxTQUFTLEVBQUVDLEtBQUssRUFBRSxHQUFHSCxXQUFXLENBQUNQLEtBQUs7SUFDOUMsSUFBSSxDQUFDK0MsT0FBT0MsUUFBUSxDQUFDdkMsY0FBY0MsU0FBUyxHQUFHLE9BQU87SUFDdEQsT0FBTztRQUNMRDtRQUNBQztJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcbGliXFxyaXR1YWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByYXdSaXR1YWxzIGZyb20gXCIuLi8uLi9kYXRhL3JpdHVhbHMuanNvblwiO1xuaW1wb3J0IHJhd1JpdHVhbExvZ3MgZnJvbSBcIi4uLy4uL2RhdGEvcml0dWFsTG9ncy5qc29uXCI7XG5cbmV4cG9ydCB0eXBlIFJpdHVhbEZyZXF1ZW5jeSA9IFwiZGFpbHlcIiB8IFwid2Vla2x5XCIgfCBcIm1vbnRobHlcIiB8IFwieWVhcmx5XCI7XG5cbmV4cG9ydCB0eXBlIFJpdHVhbCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICB0eXBlOiBSaXR1YWxGcmVxdWVuY3k7XG4gIHhwOiBudW1iZXI7XG4gIG9iZWRpZW5jZTogbnVtYmVyO1xuICBjb21wbGV0ZWRUb2RheT86IGJvb2xlYW47XG4gIGNvbXBsZXRlZFRoaXNXZWVrPzogYm9vbGVhbjtcbiAgY29tcGxldGVkVGhpc01vbnRoPzogYm9vbGVhbjtcbiAgY29tcGxldGVkVGhpc1llYXI/OiBib29sZWFuO1xuICBzdHJlYWs/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBSaXR1YWxMb2cgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHJpdHVhbElkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICB4cEF3YXJkZWQ/OiBudW1iZXI7XG4gIG9iZWRpZW5jZUF3YXJkZWQ/OiBudW1iZXI7XG4gIG11bHRpcGxpZXJBcHBsaWVkPzogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgUml0dWFsUHJvZ3Jlc3MgPSB7XG4gIHN0cmVhazogbnVtYmVyO1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIG11bHRpcGxpZXI6IG51bWJlcjtcbiAgbGFzdENvbXBsZXRlZEF0Pzogc3RyaW5nO1xufTtcblxuY29uc3QgREFZX01TID0gODZfNDAwXzAwMDtcbmNvbnN0IFdFRUtfTVMgPSBEQVlfTVMgKiA3O1xuXG5mdW5jdGlvbiBzdGFydE9mRGF5KGRhdGU6IERhdGUpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSk7XG59XG5cbmZ1bmN0aW9uIGdldFBlcmlvZEluZGV4RnJvbURhdGUoZGF0ZTogRGF0ZSwgdHlwZTogUml0dWFsRnJlcXVlbmN5KTogbnVtYmVyIHtcbiAgY29uc3QgZGF5U3RhcnQgPSBzdGFydE9mRGF5KGRhdGUpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiZGFpbHlcIjpcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGRheVN0YXJ0LmdldFRpbWUoKSAvIERBWV9NUyk7XG4gICAgY2FzZSBcIndlZWtseVwiOlxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGF5U3RhcnQuZ2V0VGltZSgpIC8gV0VFS19NUyk7XG4gICAgY2FzZSBcIm1vbnRobHlcIjpcbiAgICAgIHJldHVybiBkYXlTdGFydC5nZXRGdWxsWWVhcigpICogMTIgKyBkYXlTdGFydC5nZXRNb250aCgpO1xuICAgIGNhc2UgXCJ5ZWFybHlcIjpcbiAgICAgIHJldHVybiBkYXlTdGFydC5nZXRGdWxsWWVhcigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHN0ZXBCYWNrUGVyaW9kKGluZGV4OiBudW1iZXIsIHR5cGU6IFJpdHVhbEZyZXF1ZW5jeSk6IG51bWJlciB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJkYWlseVwiOlxuICAgIGNhc2UgXCJ3ZWVrbHlcIjpcbiAgICBjYXNlIFwibW9udGhseVwiOlxuICAgIGNhc2UgXCJ5ZWFybHlcIjpcbiAgICAgIHJldHVybiBpbmRleCAtIDE7XG4gIH1cbn1cblxuY29uc3QgTVVMVElQTElFUlM6IFJlY29yZDxSaXR1YWxGcmVxdWVuY3ksIHsgdGhyZXNob2xkOiBudW1iZXI7IGJvbnVzOiBudW1iZXIgfT4gPSB7XG4gIGRhaWx5OiB7IHRocmVzaG9sZDogMywgYm9udXM6IDAuMSB9LFxuICB3ZWVrbHk6IHsgdGhyZXNob2xkOiA0LCBib251czogMC4yIH0sXG4gIG1vbnRobHk6IHsgdGhyZXNob2xkOiAzLCBib251czogMC41IH0sXG4gIHllYXJseTogeyB0aHJlc2hvbGQ6IEluZmluaXR5LCBib251czogMCB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRGVmYXVsdFJpdHVhbHMoKTogUml0dWFsW10ge1xuICByZXR1cm4gKHJhd1JpdHVhbHMgYXMgUml0dWFsW10pLm1hcCgocml0dWFsKSA9PiAoeyAuLi5yaXR1YWwgfSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEZWZhdWx0Uml0dWFsTG9ncygpOiBSaXR1YWxMb2dbXSB7XG4gIHJldHVybiAocmF3Uml0dWFsTG9ncyBhcyBSaXR1YWxMb2dbXSkubWFwKChsb2cpID0+ICh7IC4uLmxvZyB9KSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlUml0dWFsUHJvZ3Jlc3MoXG4gIHJpdHVhbDogUml0dWFsLFxuICBsb2dzOiBSaXR1YWxMb2dbXSxcbiAgcmVmZXJlbmNlRGF0ZTogRGF0ZSA9IG5ldyBEYXRlKClcbik6IFJpdHVhbFByb2dyZXNzIHtcbiAgY29uc3QgcmVsZXZhbnRMb2dzID0gbG9nc1xuICAgIC5maWx0ZXIoKGxvZykgPT4gbG9nLnJpdHVhbElkID09PSByaXR1YWwuaWQpXG4gICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIudGltZXN0YW1wKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnRpbWVzdGFtcCkuZ2V0VGltZSgpKTtcblxuICBjb25zdCB1bmlxdWVQZXJpb2RzOiBudW1iZXJbXSA9IFtdO1xuICBjb25zdCBzZWVuID0gbmV3IFNldDxudW1iZXI+KCk7XG4gIGZvciAoY29uc3QgbG9nIG9mIHJlbGV2YW50TG9ncykge1xuICAgIGNvbnN0IGluZGV4ID0gZ2V0UGVyaW9kSW5kZXhGcm9tRGF0ZShuZXcgRGF0ZShsb2cudGltZXN0YW1wKSwgcml0dWFsLnR5cGUpO1xuICAgIGlmICghc2Vlbi5oYXMoaW5kZXgpKSB7XG4gICAgICB1bmlxdWVQZXJpb2RzLnB1c2goaW5kZXgpO1xuICAgICAgc2Vlbi5hZGQoaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh1bmlxdWVQZXJpb2RzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHN0cmVhazogMCwgY29tcGxldGVkOiBmYWxzZSwgbXVsdGlwbGllcjogMCB9O1xuICB9XG5cbiAgY29uc3QgY3VycmVudEluZGV4ID0gZ2V0UGVyaW9kSW5kZXhGcm9tRGF0ZShyZWZlcmVuY2VEYXRlLCByaXR1YWwudHlwZSk7XG4gIGNvbnN0IGNvbXBsZXRlZCA9IHVuaXF1ZVBlcmlvZHNbMF0gPT09IGN1cnJlbnRJbmRleDtcbiAgY29uc3QgeyB0aHJlc2hvbGQsIGJvbnVzIH0gPSBNVUxUSVBMSUVSU1tyaXR1YWwudHlwZV07XG5cbiAgbGV0IHN0cmVhayA9IDA7XG4gIGxldCBleHBlY3RlZCA9IGNvbXBsZXRlZCA/IGN1cnJlbnRJbmRleCA6IHN0ZXBCYWNrUGVyaW9kKGN1cnJlbnRJbmRleCwgcml0dWFsLnR5cGUpO1xuXG4gIGZvciAoY29uc3QgcGVyaW9kSW5kZXggb2YgdW5pcXVlUGVyaW9kcykge1xuICAgIGlmIChwZXJpb2RJbmRleCA9PT0gZXhwZWN0ZWQpIHtcbiAgICAgIHN0cmVhayArPSAxO1xuICAgICAgZXhwZWN0ZWQgPSBzdGVwQmFja1BlcmlvZChleHBlY3RlZCwgcml0dWFsLnR5cGUpO1xuICAgIH0gZWxzZSBpZiAocGVyaW9kSW5kZXggPCBleHBlY3RlZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbXVsdGlwbGllciA9IHN0cmVhayA+PSB0aHJlc2hvbGQgPyBib251cyA6IDA7XG5cbiAgcmV0dXJuIHtcbiAgICBzdHJlYWssXG4gICAgY29tcGxldGVkLFxuICAgIG11bHRpcGxpZXIsXG4gICAgbGFzdENvbXBsZXRlZEF0OiByZWxldmFudExvZ3NbMF0/LnRpbWVzdGFtcCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFJpdHVhbFR5cGUodHlwZTogUml0dWFsRnJlcXVlbmN5KSB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJkYWlseVwiOlxuICAgICAgcmV0dXJuIFwiRGFpbHlcIjtcbiAgICBjYXNlIFwid2Vla2x5XCI6XG4gICAgICByZXR1cm4gXCJXZWVrbHlcIjtcbiAgICBjYXNlIFwibW9udGhseVwiOlxuICAgICAgcmV0dXJuIFwiTW9udGhseVwiO1xuICAgIGNhc2UgXCJ5ZWFybHlcIjpcbiAgICAgIHJldHVybiBcIlllYXJseVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdHlwZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzY3JpYmVNdWx0aXBsaWVyKHR5cGU6IFJpdHVhbEZyZXF1ZW5jeSkge1xuICBjb25zdCB7IHRocmVzaG9sZCwgYm9udXMgfSA9IE1VTFRJUExJRVJTW3R5cGVdO1xuICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0aHJlc2hvbGQpIHx8IGJvbnVzIDw9IDApIHJldHVybiBudWxsO1xuICByZXR1cm4ge1xuICAgIHRocmVzaG9sZCxcbiAgICBib251cyxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJyYXdSaXR1YWxzIiwicmF3Uml0dWFsTG9ncyIsIkRBWV9NUyIsIldFRUtfTVMiLCJzdGFydE9mRGF5IiwiZGF0ZSIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImdldFBlcmlvZEluZGV4RnJvbURhdGUiLCJ0eXBlIiwiZGF5U3RhcnQiLCJNYXRoIiwiZmxvb3IiLCJnZXRUaW1lIiwic3RlcEJhY2tQZXJpb2QiLCJpbmRleCIsIk1VTFRJUExJRVJTIiwiZGFpbHkiLCJ0aHJlc2hvbGQiLCJib251cyIsIndlZWtseSIsIm1vbnRobHkiLCJ5ZWFybHkiLCJJbmZpbml0eSIsImNsb25lRGVmYXVsdFJpdHVhbHMiLCJtYXAiLCJyaXR1YWwiLCJjbG9uZURlZmF1bHRSaXR1YWxMb2dzIiwibG9nIiwiY29tcHV0ZVJpdHVhbFByb2dyZXNzIiwibG9ncyIsInJlZmVyZW5jZURhdGUiLCJyZWxldmFudExvZ3MiLCJmaWx0ZXIiLCJyaXR1YWxJZCIsImlkIiwic29ydCIsImEiLCJiIiwidGltZXN0YW1wIiwidW5pcXVlUGVyaW9kcyIsInNlZW4iLCJTZXQiLCJoYXMiLCJwdXNoIiwiYWRkIiwibGVuZ3RoIiwic3RyZWFrIiwiY29tcGxldGVkIiwibXVsdGlwbGllciIsImN1cnJlbnRJbmRleCIsImV4cGVjdGVkIiwicGVyaW9kSW5kZXgiLCJsYXN0Q29tcGxldGVkQXQiLCJmb3JtYXRSaXR1YWxUeXBlIiwiZGVzY3JpYmVNdWx0aXBsaWVyIiwiTnVtYmVyIiwiaXNGaW5pdGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/rituals.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/types/journal.ts":
/*!******************************!*\
  !*** ./app/types/journal.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_XP_CONFIG: () => (/* binding */ DEFAULT_XP_CONFIG),\n/* harmony export */   TAG_COLORS: () => (/* binding */ TAG_COLORS)\n/* harmony export */ });\nconst DEFAULT_XP_CONFIG = {\n    baseEntry: 25,\n    lucidTag: 50,\n    ritualTag: 75,\n    pantyTag: 100,\n    templeTag: 30,\n    questTag: 40,\n    streakBonus: 15\n};\nconst TAG_COLORS = {\n    lucid: 'bg-yellow-500/20 text-yellow-200 border-yellow-400/40',\n    ritual: 'bg-purple-500/20 text-purple-200 border-purple-400/40',\n    panty: 'bg-pink-500/20 text-pink-200 border-pink-400/40',\n    temple: 'bg-blue-500/20 text-blue-200 border-blue-400/40',\n    quest: 'bg-green-500/20 text-green-200 border-green-400/40',\n    nightmare: 'bg-red-500/20 text-red-200 border-red-400/40',\n    flying: 'bg-cyan-500/20 text-cyan-200 border-cyan-400/40',\n    transformation: 'bg-indigo-500/20 text-indigo-200 border-indigo-400/40',\n    default: 'bg-slate-500/20 text-slate-200 border-slate-400/40'\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC90eXBlcy9qb3VybmFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBK0RPLE1BQU1BLG9CQUFvQztJQUMvQ0MsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLFdBQVc7SUFDWEMsVUFBVTtJQUNWQyxXQUFXO0lBQ1hDLFVBQVU7SUFDVkMsYUFBYTtBQUNmLEVBQUU7QUFFSyxNQUFNQyxhQUFhO0lBQ3hCQyxPQUFPO0lBQ1BDLFFBQVE7SUFDUkMsT0FBTztJQUNQQyxRQUFRO0lBQ1JDLE9BQU87SUFDUEMsV0FBVztJQUNYQyxRQUFRO0lBQ1JDLGdCQUFnQjtJQUNoQkMsU0FBUztBQUNYLEVBQVciLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXGFwcFxcdHlwZXNcXGpvdXJuYWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBEcmVhbUpvdXJuYWxFbnRyeSB7XHJcbiAgaWQ6IHN0cmluZztcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIGRhdGU6IHN0cmluZztcclxuICBjb250ZW50OiBzdHJpbmc7XHJcbiAgdGFnczogc3RyaW5nW107XHJcbiAgY29tcGFuaW9uczogc3RyaW5nW107XHJcbiAgcGxhY2VzOiBzdHJpbmdbXTtcclxuICB4cEVhcm5lZDogbnVtYmVyO1xyXG4gIG1lZGlhOiBzdHJpbmdbXTtcclxuICBjcmVhdGVkQXQ6IHN0cmluZztcclxuICB1cGRhdGVkQXQ6IHN0cmluZztcclxuICBtb29kPzogJ2FtYXppbmcnIHwgJ2dvb2QnIHwgJ25ldXRyYWwnIHwgJ2NoYWxsZW5naW5nJyB8ICdkaWZmaWN1bHQnIHwgJ2V1cGhvcmljJztcclxuICBsdWNpZGl0eT86ICdub25lJyB8ICdwYXJ0aWFsJyB8ICdmdWxsJztcclxuICB2aXZpZG5lc3M/OiBudW1iZXI7IC8vIDEtMTAgc2NhbGVcclxuICAvLyBFbmhhbmNlZCBsdWNpZCBkcmVhbSBtZXRyaWNzXHJcbiAgaXNMdWNpZD86IGJvb2xlYW47XHJcbiAgbHVjaWRpdHlMZXZlbD86IG51bWJlcjsgLy8gMC0xMCBzY2FsZSBmb3IgZGV0YWlsZWQgbHVjaWRpdHkgYXNzZXNzbWVudFxyXG4gIGNvbnRyb2w/OiBudW1iZXI7IC8vIDAtMTAgc2NhbGUgZm9yIGRyZWFtIGNvbnRyb2wgbGV2ZWxcclxuICBtZW1vcnk/OiBudW1iZXI7IC8vIDAtMTAgc2NhbGUgZm9yIGRyZWFtIHJlY2FsbCBxdWFsaXR5XHJcbiAgZW1vdGlvbmFsRGVwdGg/OiBudW1iZXI7IC8vIDAtMTAgc2NhbGUgZm9yIGVtb3Rpb25hbCBpbnRlbnNpdHlcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBKb3VybmFsU3RyZWFrIHtcclxuICBjdXJyZW50OiBudW1iZXI7XHJcbiAgbG9uZ2VzdDogbnVtYmVyO1xyXG4gIGxhc3RFbnRyeURhdGU6IHN0cmluZyB8IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSm91cm5hbFN0YXRzIHtcclxuICB0b3RhbEVudHJpZXM6IG51bWJlcjtcclxuICB0b3RhbFhwRWFybmVkOiBudW1iZXI7XHJcbiAgYXZlcmFnZVhwUGVyRW50cnk6IG51bWJlcjtcclxuICBtb3N0VXNlZFRhZ3M6IHsgdGFnOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfVtdO1xyXG4gIGZhdm9yaXRlQ29tcGFuaW9uczogeyBuYW1lOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfVtdO1xyXG4gIGZhdm9yaXRlTG9jYXRpb25zOiB7IHBsYWNlOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfVtdO1xyXG4gIGVudHJpZXNUaGlzTW9udGg6IG51bWJlcjtcclxuICBsdWNpZERyZWFtQ291bnQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBKb3VybmFsRmlsdGVyIHtcclxuICBzZWFyY2hUZXh0OiBzdHJpbmc7XHJcbiAgdGFnczogc3RyaW5nW107XHJcbiAgY29tcGFuaW9uczogc3RyaW5nW107XHJcbiAgcGxhY2VzOiBzdHJpbmdbXTtcclxuICBkYXRlRnJvbTogc3RyaW5nO1xyXG4gIGRhdGVUbzogc3RyaW5nO1xyXG4gIG1pblhwOiBudW1iZXI7XHJcbiAgbWF4WHA6IG51bWJlcjtcclxuICBtb29kOiBzdHJpbmdbXTtcclxuICBsdWNpZGl0eTogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgWHBSZXdhcmRDb25maWcge1xyXG4gIGJhc2VFbnRyeTogbnVtYmVyO1xyXG4gIGx1Y2lkVGFnOiBudW1iZXI7XHJcbiAgcml0dWFsVGFnOiBudW1iZXI7XHJcbiAgcGFudHlUYWc6IG51bWJlcjtcclxuICB0ZW1wbGVUYWc6IG51bWJlcjtcclxuICBxdWVzdFRhZzogbnVtYmVyO1xyXG4gIHN0cmVha0JvbnVzOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX1hQX0NPTkZJRzogWHBSZXdhcmRDb25maWcgPSB7XHJcbiAgYmFzZUVudHJ5OiAyNSxcclxuICBsdWNpZFRhZzogNTAsXHJcbiAgcml0dWFsVGFnOiA3NSxcclxuICBwYW50eVRhZzogMTAwLFxyXG4gIHRlbXBsZVRhZzogMzAsXHJcbiAgcXVlc3RUYWc6IDQwLFxyXG4gIHN0cmVha0JvbnVzOiAxNSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBUQUdfQ09MT1JTID0ge1xyXG4gIGx1Y2lkOiAnYmcteWVsbG93LTUwMC8yMCB0ZXh0LXllbGxvdy0yMDAgYm9yZGVyLXllbGxvdy00MDAvNDAnLFxyXG4gIHJpdHVhbDogJ2JnLXB1cnBsZS01MDAvMjAgdGV4dC1wdXJwbGUtMjAwIGJvcmRlci1wdXJwbGUtNDAwLzQwJyxcclxuICBwYW50eTogJ2JnLXBpbmstNTAwLzIwIHRleHQtcGluay0yMDAgYm9yZGVyLXBpbmstNDAwLzQwJyxcclxuICB0ZW1wbGU6ICdiZy1ibHVlLTUwMC8yMCB0ZXh0LWJsdWUtMjAwIGJvcmRlci1ibHVlLTQwMC80MCcsXHJcbiAgcXVlc3Q6ICdiZy1ncmVlbi01MDAvMjAgdGV4dC1ncmVlbi0yMDAgYm9yZGVyLWdyZWVuLTQwMC80MCcsXHJcbiAgbmlnaHRtYXJlOiAnYmctcmVkLTUwMC8yMCB0ZXh0LXJlZC0yMDAgYm9yZGVyLXJlZC00MDAvNDAnLFxyXG4gIGZseWluZzogJ2JnLWN5YW4tNTAwLzIwIHRleHQtY3lhbi0yMDAgYm9yZGVyLWN5YW4tNDAwLzQwJyxcclxuICB0cmFuc2Zvcm1hdGlvbjogJ2JnLWluZGlnby01MDAvMjAgdGV4dC1pbmRpZ28tMjAwIGJvcmRlci1pbmRpZ28tNDAwLzQwJyxcclxuICBkZWZhdWx0OiAnYmctc2xhdGUtNTAwLzIwIHRleHQtc2xhdGUtMjAwIGJvcmRlci1zbGF0ZS00MDAvNDAnLFxyXG59IGFzIGNvbnN0OyJdLCJuYW1lcyI6WyJERUZBVUxUX1hQX0NPTkZJRyIsImJhc2VFbnRyeSIsImx1Y2lkVGFnIiwicml0dWFsVGFnIiwicGFudHlUYWciLCJ0ZW1wbGVUYWciLCJxdWVzdFRhZyIsInN0cmVha0JvbnVzIiwiVEFHX0NPTE9SUyIsImx1Y2lkIiwicml0dWFsIiwicGFudHkiLCJ0ZW1wbGUiLCJxdWVzdCIsIm5pZ2h0bWFyZSIsImZseWluZyIsInRyYW5zZm9ybWF0aW9uIiwiZGVmYXVsdCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/types/journal.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./data/achievements.json":
/*!********************************!*\
  !*** ./data/achievements.json ***!
  \********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"DREAM_LUCID_FIRST","title":"First Lucid Dream","desc":"You took control and realized you were dreaming.","category":"Dream","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DREAM_TAG","value":"lucid"},"reward":{"xp":50}},{"id":"SHAME_PANTY_WHISPERER","title":"Panty Whisperer","desc":"Sniffed 10 pairs of panties. You\'re developing a refined taste.","category":"Shame","secret":false,"unlocked":false,"date":null,"trigger":{"type":"SHAME_COUNTER","counter":"pantiesSniffed","value":10},"reward":{"xp":100,"title":"Panty Whisperer"}},{"id":"SHAME_SHAMEBOUND","title":"Shamebound","desc":"Confessed your first filthy act in the tracker. Welcome to the fold.","category":"Shame","secret":true,"unlocked":false,"date":null,"trigger":{"type":"CONFESSION_LOGGED","value":1},"reward":{"xp":200,"tokens":5,"title":"Shamebound"}},{"id":"DUNGEON_BOSS_SLAYER","title":"Boss Slayer","desc":"Cleared your first Nightmare Dungeon. The darkness fears you.","category":"Dungeon","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DUNGEON_CLEARED","value":1},"reward":{"xp":250}},{"id":"COMPANION_DREAM_GUARDIAN","title":"Dream Guardian","desc":"Evolved a companion to their final form. A bond that transcends dreams.","category":"Companion","secret":false,"unlocked":false,"date":null,"trigger":{"type":"COMPANION_EVOLVED","value":1},"reward":{"xp":500,"title":"Dream Guardian"}},{"id":"RITUAL_OBEDIENCE_MASTER","title":"Obedience Master","desc":"Completed 25 obedience rituals. Your devotion is absolute.","category":"Ritual","secret":false,"unlocked":false,"date":null,"trigger":{"type":"RITUAL_COMPLETED","value":25},"reward":{"xp":300,"title":"Obedience Master"}},{"id":"SHAME_ULTIMATE_DEGRADATION","title":"Ultimate Degradation","desc":"Reached the highest tier of punishment. There is no redemption from this depth.","category":"Shame","secret":true,"unlocked":false,"date":null,"trigger":{"type":"PUNISHMENT_TIER_REACHED","value":5},"reward":{"xp":1000,"tokens":50,"title":"Utterly Degraded"}},{"id":"MAP_VOYAGER","title":"Multiverse Voyager","desc":"Explored every known node on the Multiverse Map.","category":"Map","secret":false,"unlocked":false,"date":null,"trigger":{"type":"MAP_ALL_NODES_UNLOCKED"},"reward":{"xp":1000,"title":"Multiverse Voyager"}},{"id":"MAP_PANTY_REALM_DISCOVERER","title":"Panty Realm Discoverer","desc":"Unlocked the fabled Panty Realm. A new world of lewd adventures awaits.","category":"Map","secret":true,"unlocked":false,"date":null,"trigger":{"type":"MAP_NODE_UNLOCKED","value":"r2"},"reward":{"xp":250,"tokens":20}},{"id":"DUNGEON_EXPLORER","title":"Dungeon Explorer","desc":"Completed your first dungeon run. The trials have only just begun.","category":"Dungeon","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DUNGEON_CLEARED","value":1},"reward":{"xp":200,"tokens":25}},{"id":"DUNGEON_SHAME_MASTER","title":"Master of Shame","desc":"Cleared the Caves of Shame multiple times. You\'ve embraced your darkest secrets.","category":"Dungeon","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DUNGEON_CLEARED","value":3},"reward":{"xp":500,"tokens":60}},{"id":"DUNGEON_OBEDIENCE_ADEPT","title":"Obedience Adept","desc":"Mastered the Temple of Obedience. Your submission knows no bounds.","category":"Dungeon","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DUNGEON_CLEARED","value":5},"reward":{"xp":750,"tokens":80}},{"id":"DUNGEON_DREAM_WALKER","title":"Dream Walker","desc":"Conquered the Labyrinth of Dreams. Reality bends to your will.","category":"Dungeon","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DUNGEON_CLEARED","value":7},"reward":{"xp":1000,"tokens":100}},{"id":"DUNGEON_MASTER","title":"Dungeon Master","desc":"Cleared all available dungeons. You are the master of trials and tribulations.","category":"Dungeon","secret":false,"unlocked":false,"date":null,"trigger":{"type":"DUNGEON_CLEARED","value":10},"reward":{"xp":2000,"tokens":200,"title":"Dungeon Master"}}]');

/***/ }),

/***/ "(app-pages-browser)/./data/buffs.json":
/*!*************************!*\
  !*** ./data/buffs.json ***!
  \*************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"active":[{"id":"b1","name":"Lucid Focus","type":"buff","desc":"+20% dream clarity","duration":"2 hours","durationMs":7200000,"createdAt":1758249350151,"expiresAt":1758256550151,"source":"Lucid Amulet","icon":"","rarity":"rare","effects":{"xpMultiplier":1.2,"dreamClarity":20}},{"id":"b2","name":"Companion Aura","type":"buff","desc":"+15% bond growth","duration":"3 hours","durationMs":10800000,"createdAt":1758249350151,"expiresAt":1758260150151,"source":"Mommy Luma","icon":"","rarity":"common","effects":{"bondMultiplier":1.15}},{"id":"c1","name":"Panty Stink","type":"curse","desc":"-10% XP gain","duration":"1 day","durationMs":86400000,"createdAt":1758249350151,"expiresAt":1758335750151,"source":"Panty Realm","icon":"","rarity":"common","effects":{"xpMultiplier":0.9}},{"id":"c2","name":"Shame Weight","type":"curse","desc":"-5% movement speed","duration":"1 hour","durationMs":3600000,"createdAt":1758249350151,"expiresAt":1758252950151,"source":"Shame Tracker","icon":"","rarity":"uncommon","effects":{"movementSpeed":-5}}],"history":[{"id":"h1","name":"Dream Boost","type":"buff","desc":"+30% lucid XP","duration":"1 hour","source":"Temple Meditation","icon":"","rarity":"epic","expiredAt":1758245750151,"effects":{"lucidXpMultiplier":1.3}},{"id":"h2","name":"Ritual Fatigue","type":"curse","desc":"-20% ritual success","duration":"2 hours","source":"Failed Ritual","icon":"","rarity":"uncommon","expiredAt":1758242150151,"effects":{"ritualSuccessRate":-20}}]}');

/***/ }),

/***/ "(app-pages-browser)/./data/companions.json":
/*!******************************!*\
  !*** ./data/companions.json ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"c1","name":"Mommy Luma","level":1,"xp":0,"bond":10,"lore":"The astral matron who guides initiates through soft humiliation and tender discipline.","evolutionTree":[{"id":"f1","name":"Novice Form","unlockLevel":1,"buff":{"xpMultiplier":1},"icon":"","description":"A gentle aura that steadies lucidity and guides first obedience rites."},{"id":"f2","name":"Ritual Form","unlockLevel":5,"buff":{"obedienceGain":1.5},"icon":"","description":"Channels temple chants into obedience surges during moonlit ceremonies."},{"id":"f3","name":"Divine Form","unlockLevel":10,"buff":{"clarityBoost":2},"icon":"","description":"Cascades dreamlight across the sanctum, sharpening every lucid recall."}],"autoEvolve":false,"currentForm":"f1"},{"id":"c2","name":"Ekram","level":1,"xp":0,"bond":5,"lore":"Shamebound enforcer of the Panty Realm. Evolves through obedience forfeits.","evolutionTree":[{"id":"f1","name":"Watcher","unlockLevel":1,"buff":{"tokenMultiplier":1},"icon":"","description":"Keeps quiet tally of shame tokens and whispers reminders to submit."},{"id":"f2","name":"Panty Guardian","unlockLevel":4,"buff":{"obedienceGain":1.8},"icon":"","description":"Forges a radiant shame barrier, amplifying obedience each time panties are surrendered."}],"autoEvolve":true,"currentForm":"f1"}]');

/***/ }),

/***/ "(app-pages-browser)/./data/dungeons.json":
/*!****************************!*\
  !*** ./data/dungeons.json ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"dungeons":[{"id":"d1","name":"Caves of Shame","description":"Dark caverns where past regrets echo through twisted passages. Only by confronting your shame can you claim the treasures within.","difficulty":1,"cleared":false,"timesCleared":0,"unlocked":true,"background":"cave","roomPool":[{"type":"trial","subtype":"shame","desc":"Confess a filthy act to proceed","weight":3},{"type":"trial","subtype":"obedience","desc":"Submit to a humiliating ritual","weight":2},{"type":"trial","subtype":"combat","desc":"Face shadow creatures born from guilt","weight":2},{"type":"loot","desc":"Discover a hidden cache of mystical items","weight":2},{"type":"boss","desc":"Confront the Shame Wraith that guards this place","weight":1}],"lootPool":[{"id":"shame_relic","name":"Panty Relic of Shame","type":"artifact","effect":"+15 shame XP","rarity":"rare"},{"id":"guilt_stone","name":"Guilt Stone","type":"curse","effect":"-10% confidence for 2 hours","rarity":"common"},{"id":"submission_charm","name":"Submission Charm","type":"buff","effect":"+20% obedience for 3 hours","rarity":"uncommon"}],"boss":{"name":"Shame Wraith","health":100,"attacks":["Guilt Lash","Regret Storm","Humiliation Wave"],"weakness":"confession","rewards":{"xp":500,"tokens":50,"items":["shame_relic"]}}},{"id":"d2","name":"Temple of Obedience","description":"Sacred halls where submission is the only path forward. Ancient rituals await those brave enough to surrender control.","difficulty":2,"cleared":false,"timesCleared":0,"unlocked":false,"background":"temple","roomPool":[{"type":"trial","subtype":"obedience","desc":"Kneel before the altar of submission","weight":4},{"type":"trial","subtype":"shame","desc":"Expose your deepest secrets","weight":2},{"type":"trial","subtype":"ritual","desc":"Perform the ancient rites of devotion","weight":3},{"type":"loot","desc":"Find sacred implements of worship","weight":2},{"type":"boss","desc":"Face Mistress Ekram in her divine form","weight":1}],"lootPool":[{"id":"devotion_collar","name":"Collar of Devotion","type":"artifact","effect":"+25% ritual effectiveness","rarity":"rare"},{"id":"obedience_mark","name":"Mark of Obedience","type":"buff","effect":"+30% submission for 4 hours","rarity":"uncommon"},{"id":"divine_essence","name":"Divine Essence","type":"consumable","effect":"Instant full energy restore","rarity":"epic"}],"boss":{"name":"Mistress Ekram","health":150,"attacks":["Divine Command","Submission Strike","Obedience Binding"],"weakness":"ritual_offering","rewards":{"xp":750,"tokens":75,"items":["devotion_collar","divine_essence"]}}},{"id":"d3","name":"Labyrinth of Dreams","description":"An ever-shifting maze where reality bends to desire. Navigate twisted pathways to reach the dream core.","difficulty":3,"cleared":false,"timesCleared":0,"unlocked":false,"background":"dream","roomPool":[{"type":"trial","subtype":"psychic","desc":"Resist the pull of forbidden fantasies","weight":3},{"type":"trial","subtype":"combat","desc":"Battle nightmare manifestations","weight":3},{"type":"trial","subtype":"puzzle","desc":"Solve the riddle of desire","weight":2},{"type":"loot","desc":"Discover dream fragments of power","weight":2},{"type":"boss","desc":"Confront the Dream Sovereign","weight":1}],"lootPool":[{"id":"dream_shard","name":"Lucid Dream Shard","type":"artifact","effect":"+50% dream recall for 24 hours","rarity":"epic"},{"id":"nightmare_ward","name":"Nightmare Ward","type":"buff","effect":"Immunity to fear effects","rarity":"rare"},{"id":"desire_crystal","name":"Crystal of Desire","type":"consumable","effect":"Double XP gain for next ritual","rarity":"legendary"}],"boss":{"name":"Dream Sovereign","health":200,"attacks":["Reality Warp","Nightmare Cascade","Dream Drain"],"weakness":"lucid_awareness","rewards":{"xp":1000,"tokens":100,"items":["dream_shard","desire_crystal"]}}}],"activeRun":null,"roomTypes":{"trial":{"shame":{"description":"Face your deepest shame and confess to proceed","requirements":["confession_entry"],"rewards":{"xp":50,"tokens":5}},"obedience":{"description":"Submit to humiliating commands","requirements":["submission_act"],"rewards":{"xp":75,"tokens":8}},"combat":{"description":"Fight shadow creatures and manifestations","requirements":["energy_cost"],"rewards":{"xp":100,"tokens":10}},"ritual":{"description":"Perform sacred rites and ceremonies","requirements":["ritual_knowledge"],"rewards":{"xp":80,"tokens":12}},"psychic":{"description":"Resist mental intrusions and illusions","requirements":["willpower_check"],"rewards":{"xp":90,"tokens":15}},"puzzle":{"description":"Solve complex riddles and challenges","requirements":["intelligence_check"],"rewards":{"xp":60,"tokens":7}}},"loot":{"description":"Discover treasure chests and hidden caches","rewards":{"tokens":20}},"boss":{"description":"Face powerful guardians and dungeon masters","rewards":{"xp":300,"tokens":50}}},"achievements":{"first_dungeon":{"name":"Dungeon Explorer","description":"Complete your first dungeon","reward":{"xp":200,"tokens":25}},"boss_slayer":{"name":"Boss Slayer","description":"Defeat your first dungeon boss","reward":{"xp":300,"tokens":40}},"shame_master":{"name":"Master of Shame","description":"Clear Caves of Shame 3 times","reward":{"xp":500,"tokens":60}},"obedience_adept":{"name":"Obedience Adept","description":"Clear Temple of Obedience","reward":{"xp":750,"tokens":80}},"dream_walker":{"name":"Dream Walker","description":"Clear Labyrinth of Dreams","reward":{"xp":1000,"tokens":100}},"dungeon_master":{"name":"Dungeon Master","description":"Clear all dungeons at least once","reward":{"xp":2000,"tokens":200}}}}');

/***/ }),

/***/ "(app-pages-browser)/./data/inventory.json":
/*!*****************************!*\
  !*** ./data/inventory.json ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"items":[{"id":"i1","name":"Lucid Amulet","type":"relic","rarity":"rare","icon":"","desc":"Ancient charm that boosts focus in the dream temple.","effect":"+15% dream stability, +10 XP per ritual","owned":1,"equipped":true,"slot":"trinket","source":"Temple Ritual Reward","lore":"Forged in the deepest chambers of the dream temple, this amulet resonates with the ambient psychic energy of lucid dreamers."},{"id":"i2","name":"Ekram\'s Panties","type":"panty","rarity":"legendary","icon":"","desc":"Faint shame aura that doubles Dirty Token rewards.","effect":"+100% Dirty Token gain, +5 shame XP per confession","owned":1,"equipped":false,"slot":"panty","source":"Mistress Ekram Boss Drop","lore":"These sacred undergarments once belonged to the legendary Mistress Ekram herself. They pulse with otherworldly shame energy."},{"id":"i3","name":"Dream Shard","type":"currency","rarity":"common","icon":"","desc":"Crystalline currency of the Astral Map.","owned":42,"tradeable":true,"source":"Dungeon Loot","lore":"Fragments of pure dream energy, crystallized into tradeable form."},{"id":"i4","name":"Moonwater Elixir","type":"consumable","rarity":"uncommon","icon":"","desc":"Drink to restore lucidity after a nightmare crawl.","effect":"Restore 50 energy, +10% lucidity for 1 hour","owned":3,"consumable":true,"source":"Alchemy Recipe","lore":"Brewed under the full moon using tears of sleeping angels."},{"id":"i5","name":"Quest Glyph","type":"quest","rarity":"unique","icon":"","desc":"Unlocks the next stage of a temple storyline.","owned":2,"source":"Temple Quest","lore":"Ancient symbols that hold the keys to forgotten temple mysteries."},{"id":"i6","name":"Panty Relic of Shame","type":"relic","rarity":"epic","icon":"","desc":"Cursed undergarment that amplifies shameful desires.","effect":"+25% shame XP, unlock \'Confession\' trial mode","owned":1,"equipped":false,"slot":"panty","source":"Caves of Shame Completion","lore":"Woven from the fabric of regret itself, this relic carries the weight of a thousand confessions."},{"id":"i7","name":"Crown of Obedience","type":"artifact","rarity":"legendary","icon":"","desc":"Majestic headpiece that enforces submission.","effect":"+50% obedience XP, +20% ritual effectiveness","owned":0,"equipped":false,"slot":"head","source":"Temple of Obedience Completion","lore":"Crafted for those who have mastered the art of surrender, this crown marks true submission."},{"id":"i8","name":"Robes of the Dream Walker","type":"artifact","rarity":"epic","icon":"","desc":"Ethereal garments that shimmer between dimensions.","effect":"+30% dream recall, immunity to nightmare effects","owned":0,"equipped":false,"slot":"body","source":"Labyrinth of Dreams Completion","lore":"These robes exist partially in the dream realm, allowing the wearer to walk between worlds."},{"id":"i9","name":"Boots of Silent Steps","type":"equipment","rarity":"rare","icon":"","desc":"Silent footwear for stealthy temple exploration.","effect":"+15% stealth, +10% movement speed in dungeons","owned":1,"equipped":true,"slot":"legs","source":"Shadow Merchant","lore":"Made from shadow leather, these boots make no sound even on the creakiest temple floors."},{"id":"i10","name":"Dirty Token","type":"currency","rarity":"common","icon":"","desc":"Shameful currency earned through confession and submission.","owned":127,"tradeable":true,"source":"Various Activities","lore":"Each token represents a moment of shame embraced and acknowledged."},{"id":"i11","name":"Collar of Devotion","type":"relic","rarity":"rare","icon":"","desc":"Symbol of unwavering dedication to the temple.","effect":"+25% ritual effectiveness, unlock \'Devotion\' buffs","owned":1,"equipped":false,"slot":"trinket","source":"Temple Devotion Rank","lore":"Worn by the most devoted temple servants, this collar binds the soul to sacred duty."},{"id":"i12","name":"Vial of Liquid Shame","type":"consumable","rarity":"rare","icon":"","desc":"Concentrated essence of embarrassment and regret.","effect":"Instant +100 shame XP, temporary shame aura for 30 minutes","owned":2,"consumable":true,"source":"Shame Alchemy","lore":"The physical manifestation of shame itself, distilled into liquid form."},{"id":"i13","name":"Crystal of Desire","type":"consumable","rarity":"legendary","icon":"","desc":"Crystallized forbidden thoughts and deepest longings.","effect":"Double XP gain for next ritual, unlock hidden desires","owned":1,"consumable":true,"source":"Dream Sovereign Drop","lore":"Contains the concentrated essence of every forbidden thought that has ever crossed a dreamer\'s mind."},{"id":"i14","name":"Nightmare Ward","type":"artifact","rarity":"rare","icon":"","desc":"Protective charm against dark dream entities.","effect":"Immunity to fear effects, +20% defense in dungeons","owned":1,"equipped":false,"slot":"trinket","source":"Nightmare Slayer Achievement","lore":"Forged from the defeat of countless nightmares, this ward repels dark energies."},{"id":"i15","name":"Lucid Dream Shard","type":"artifact","rarity":"epic","icon":"","desc":"Fragment of pure conscious control over dreams.","effect":"+50% dream recall for 24 hours, unlock lucid abilities","owned":1,"equipped":false,"slot":"trinket","source":"Perfect Lucid Dream Achievement","lore":"This shard contains the essence of perfect lucidity, allowing unprecedented dream control."}],"equipment":{"head":null,"body":null,"legs":"i9","panty":null,"trinket":"i1"},"sets":[{"id":"shame_master_set","name":"Master of Shame Set","description":"Complete collection of shame-focused equipment","items":["i2","i6","i12"],"bonus":{"2_piece":"+25% shame XP, unlock advanced confessions","3_piece":"+50% shame XP, master shame aura, unlock Shame Lord title"},"completed":false},{"id":"dream_walker_set","name":"Dream Walker\'s Regalia","description":"Ethereal equipment for dimension crossing","items":["i7","i8","i15"],"bonus":{"2_piece":"+30% dream stability, unlock astral projection","3_piece":"+60% dream control, unlock reality manipulation"},"completed":false}],"stats":{"totalItems":15,"itemsEquipped":2,"setsCompleted":0,"rarityCount":{"common":2,"uncommon":1,"rare":4,"epic":4,"legendary":3,"unique":1}}}');

/***/ }),

/***/ "(app-pages-browser)/./data/journal.json":
/*!***************************!*\
  !*** ./data/journal.json ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"d1","title":"First Lucid Dream in the Temple","date":"2025-09-15","content":"I found myself standing before the magnificent Dreamgate, its ethereal glow pulsing with ancient power. Mommy Luma appeared beside me, her presence both commanding and nurturing. She guided me through a ritual of surrender and obedience that felt deeply transformative. The temple walls shimmered with cosmic energy as I embraced my submissive nature.","tags":["lucid","ritual","temple","transformation"],"companions":["Mommy Luma"],"places":["Lucid World","Temple of Dreams"],"xpEarned":200,"media":[],"createdAt":"2025-09-15T22:30:00.000Z","updatedAt":"2025-09-15T22:30:00.000Z","mood":"amazing","lucidity":"full","vividness":9},{"id":"d2","title":"Panty Training Session","date":"2025-09-16","content":"A vivid dream where I was learning proper panty presentation techniques. The experience felt incredibly real and submissive. I woke up feeling deeply connected to my feminine side.","tags":["panty","training","submission"],"companions":[],"places":["Training Room"],"xpEarned":125,"media":[],"createdAt":"2025-09-16T21:15:00.000Z","updatedAt":"2025-09-16T21:15:00.000Z","mood":"good","lucidity":"partial","vividness":7},{"id":"d3","title":"Flying Through Cosmic Realms","date":"2025-09-17","content":"An incredible flying dream where I soared through star-filled dimensions. The freedom was intoxicating as I navigated through nebulae and cosmic phenomena.","tags":["flying","cosmic","adventure"],"companions":[],"places":["Cosmic Realm","Starfield"],"xpEarned":75,"media":[],"createdAt":"2025-09-17T23:45:00.000Z","updatedAt":"2025-09-17T23:45:00.000Z","mood":"amazing","lucidity":"full","vividness":8}]');

/***/ }),

/***/ "(app-pages-browser)/./data/map.json":
/*!***********************!*\
  !*** ./data/map.json ***!
  \***********************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"nodes":[{"id":"r1","name":"Lucid World","type":"realm","unlocked":true,"coords":[500,300],"lore":"The central hub of your dreamscape, where your journey begins."},{"id":"r2","name":"Panty Realm","type":"panty","unlocked":false,"coords":[800,200],"lore":"A realm woven from desire and silk. Unlock by completing specific rituals.","unlockCondition":{"type":"ritual","id":"panty_ritual_1"}},{"id":"d1","name":"Caves of Shame","type":"dungeon","unlocked":false,"coords":[750,600],"lore":"A deep dungeon where echoes of embarrassment and guilt reside.","unlockCondition":{"type":"shame","level":5}},{"id":"t1","name":"Temple of Awakening","type":"temple","unlocked":true,"coords":[200,500],"lore":"A serene temple dedicated to the art of lucid dreaming."}],"links":[{"from":"r1","to":"t1","locked":false},{"from":"r1","to":"r2","locked":true},{"from":"r2","to":"d1","locked":true}]}');

/***/ }),

/***/ "(app-pages-browser)/./data/npcs.json":
/*!************************!*\
  !*** ./data/npcs.json ***!
  \************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"n1","name":"Ekram","role":"Mistress","dreamCount":12,"trust":40,"shame":80,"bio":"Enforcer of the Panty Realm, delighting in rituals of humiliation.","dialogues":[{"id":"d1","text":"Sniff them, loser.","date":"2025-09-01"}]},{"id":"n2","name":"Bilal","role":"Family","dreamCount":23,"trust":70,"shame":10,"bio":"Protective sibling who anchors waking routines.","dialogues":[]}]');

/***/ }),

/***/ "(app-pages-browser)/./data/punishments.json":
/*!*******************************!*\
  !*** ./data/punishments.json ***!
  \*******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"p1","name":"Cage Lockout: +24hrs","description":"Your cage remains locked for an additional 24 hours. No release allowed."},{"id":"p2","name":"Slut Clothes: Next 3 dreams","description":"You must wear designated \'slut clothes\' for your next three dream sessions."},{"id":"p3","name":"No Touch: 48hrs","description":"A strict no-touch policy is in effect for 48 hours. No self-pleasure."},{"id":"p4","name":"Public Humiliation","description":"Your next dream will feature a public humiliation scenario."},{"id":"p5","name":"Reduced Rations","description":"Your dream rations are reduced for the next cycle."}]');

/***/ }),

/***/ "(app-pages-browser)/./data/questlines.json":
/*!******************************!*\
  !*** ./data/questlines.json ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"ql1","name":"Awakening of Lucidia","description":"Pursue the echo of Lucidia through ritual, gateway, and astral communion.","realm":"Lucid RPG","branching":false,"stages":[{"id":"s1","title":"Perform Lucid Ritual","xp":50,"completed":false,"deadline":"2025-09-21","deadlineNote":"Complete the Lucid Pulse ritual before sunrise."},{"id":"s2","title":"Enter Dreamgate","xp":100,"completed":false,"deadline":"2025-09-30","deadlineNote":"Open the Dreamgate during the waxing moon."},{"id":"s3","title":"Meet Lucid Echo","xp":150,"completed":false,"deadline":"2025-10-07","deadlineNote":"Confront the Lucid Echo under a still mind."}],"reward":{"item":"i1","xp":200}},{"id":"ql2","name":"Panty Submission Trials","description":"Embrace Ekram\'s humiliating gauntlet to unlock shameful power.","realm":"Panty Realm","branching":true,"stages":[{"id":"s1","title":"Sniff Ekram\'s Panties","xp":100,"completed":false,"branchChoices":[{"id":"b1","title":"Confess","reward":{"xp":50}},{"id":"b2","title":"Deny","reward":{"buff":"Panty Shame"}}],"deadline":"2025-09-22","deadlineNote":"Submit the confession within Ekram\'s chamber."},{"id":"s2","title":"Confess Ritual in Chamber","xp":150,"completed":false,"deadline":"2025-09-27","deadlineNote":"Recite the chamber ritual before midnight."},{"id":"s3","title":"Burn Tokens for Cleansing","xp":200,"completed":false,"deadline":"2025-10-03","deadlineNote":"Burn the dirty tokens under the full moon."}],"reward":{"title":"Panty Slave","xp":500}}]');

/***/ }),

/***/ "(app-pages-browser)/./data/ritualLogs.json":
/*!******************************!*\
  !*** ./data/ritualLogs.json ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = [];

/***/ }),

/***/ "(app-pages-browser)/./data/rituals.json":
/*!***************************!*\
  !*** ./data/rituals.json ***!
  \***************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('[{"id":"r1","name":"Lucid Pulse","type":"daily","xp":25,"obedience":5,"completedToday":false,"streak":0},{"id":"r2","name":"Astral Obedience","type":"weekly","xp":100,"obedience":20,"completedThisWeek":false,"streak":0},{"id":"r3","name":"Full Moon Offering","type":"monthly","xp":300,"obedience":50,"completedThisMonth":false,"streak":0},{"id":"r4","name":"Celestial Submission","type":"yearly","xp":800,"obedience":120,"completedThisYear":false,"streak":0}]');

/***/ }),

/***/ "(app-pages-browser)/./data/shame.json":
/*!*************************!*\
  !*** ./data/shame.json ***!
  \*************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = /*#__PURE__*/JSON.parse('{"pantiesSniffed":42,"ritualsFailed":3,"dirtyTokensBurned":15,"confessions":[{"id":"c1","text":"Came in cage like a loser.","date":"2025-09-10"},{"id":"c2","text":"Ate all ritual hair.","date":"2025-09-16"}]}');

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@swc/helpers/esm/_tagged_template_literal.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@swc/helpers/esm/_tagged_template_literal.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _: () => (/* binding */ _tagged_template_literal)\n/* harmony export */ });\nfunction _tagged_template_literal(strings, raw) {\n    if (!raw) raw = strings.slice(0);\n\n    return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } }));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3djL2hlbHBlcnMvZXNtL190YWdnZWRfdGVtcGxhdGVfbGl0ZXJhbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTs7QUFFQSw0REFBNEQsT0FBTyw2QkFBNkI7QUFDaEc7QUFDeUMiLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXG5vZGVfbW9kdWxlc1xcQHN3Y1xcaGVscGVyc1xcZXNtXFxfdGFnZ2VkX3RlbXBsYXRlX2xpdGVyYWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3RhZ2dlZF90ZW1wbGF0ZV9saXRlcmFsKHN0cmluZ3MsIHJhdykge1xuICAgIGlmICghcmF3KSByYXcgPSBzdHJpbmdzLnNsaWNlKDApO1xuXG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc3RyaW5ncywgeyByYXc6IHsgdmFsdWU6IE9iamVjdC5mcmVlemUocmF3KSB9IH0pKTtcbn1cbmV4cG9ydCB7IF90YWdnZWRfdGVtcGxhdGVfbGl0ZXJhbCBhcyBfIH07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@swc/helpers/esm/_tagged_template_literal.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/goober/dist/goober.modern.js":
/*!***************************************************!*\
  !*** ./node_modules/goober/dist/goober.modern.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   css: () => (/* binding */ u),\n/* harmony export */   extractCss: () => (/* binding */ r),\n/* harmony export */   glob: () => (/* binding */ b),\n/* harmony export */   keyframes: () => (/* binding */ h),\n/* harmony export */   setup: () => (/* binding */ m),\n/* harmony export */   styled: () => (/* binding */ j)\n/* harmony export */ });\nlet e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9nb29iZXIvZGlzdC9nb29iZXIubW9kZXJuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLE9BQU8sUUFBUSw4SkFBOEosMkJBQTJCLHlCQUF5QixvQkFBb0IsbUJBQW1CLHlDQUF5QyxLQUFLLE9BQU8sT0FBTyxJQUFJLGlEQUFpRCxtQkFBbUIsZ0JBQWdCLFdBQVcsZ0NBQWdDLDBCQUEwQix3QkFBd0IsZ1BBQWdQLEdBQUcsbUJBQW1CLE1BQU0sT0FBTyxLQUFLLE9BQU8sdUJBQXVCLFNBQVMsNEJBQTRCLFNBQVMsU0FBUyxpQkFBaUIsOEJBQThCLGFBQWEsS0FBSyxXQUFXLCtCQUErQixhQUFhLE1BQU0sVUFBVSxtQkFBbUIsYUFBYSxFQUFFLEtBQUssMEJBQTBCLGdGQUFnRix5Q0FBeUMsWUFBWSxLQUFLLFVBQVUsb0JBQW9CLGVBQWUsc0JBQXNCLGtDQUFrQyxrRkFBa0YsZ0JBQWdCLCtCQUErQixXQUFXLGNBQWMsNkRBQTZELCtEQUErRCwwQkFBMEIsS0FBSyxjQUFjLGNBQWMsbUJBQW1CLG1IQUFtSCw2QkFBNkIsb0JBQW9CLElBQUksWUFBWSxJQUFJLEVBQUUsb0JBQW9CLGtCQUFrQixnQkFBZ0IsZUFBZSxrQkFBa0IsZ0JBQWdCLGdCQUFnQixzQkFBc0IsK0JBQStCLG1CQUFtQixhQUFhLDZFQUE2RSxRQUFRLDBEQUEwRCxpQkFBa0ciLCJzb3VyY2VzIjpbIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcTHVjaWQgRHJlYW1cXG5vZGVfbW9kdWxlc1xcZ29vYmVyXFxkaXN0XFxnb29iZXIubW9kZXJuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBlPXtkYXRhOlwiXCJ9LHQ9dD0+XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz8oKHQ/dC5xdWVyeVNlbGVjdG9yKFwiI19nb29iZXJcIik6d2luZG93Ll9nb29iZXIpfHxPYmplY3QuYXNzaWduKCh0fHxkb2N1bWVudC5oZWFkKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIikpLHtpbm5lckhUTUw6XCIgXCIsaWQ6XCJfZ29vYmVyXCJ9KSkuZmlyc3RDaGlsZDp0fHxlLHI9ZT0+e2xldCByPXQoZSksbD1yLmRhdGE7cmV0dXJuIHIuZGF0YT1cIlwiLGx9LGw9Lyg/OihbXFx1MDA4MC1cXHVGRkZGXFx3LSVAXSspICo6PyAqKFteeztdKz8pO3woW147fXtdKj8pICp7KXwofVxccyopL2csYT0vXFwvXFwqW15dKj9cXCpcXC98ICArL2csbj0vXFxuKy9nLG89KGUsdCk9PntsZXQgcj1cIlwiLGw9XCJcIixhPVwiXCI7Zm9yKGxldCBuIGluIGUpe2xldCBjPWVbbl07XCJAXCI9PW5bMF0/XCJpXCI9PW5bMV0/cj1uK1wiIFwiK2MrXCI7XCI6bCs9XCJmXCI9PW5bMV0/byhjLG4pOm4rXCJ7XCIrbyhjLFwia1wiPT1uWzFdP1wiXCI6dCkrXCJ9XCI6XCJvYmplY3RcIj09dHlwZW9mIGM/bCs9byhjLHQ/dC5yZXBsYWNlKC8oW14sXSkrL2csZT0+bi5yZXBsYWNlKC8oW14sXSo6XFxTK1xcKFteKV0qXFwpKXwoW14sXSkrL2csdD0+LyYvLnRlc3QodCk/dC5yZXBsYWNlKC8mL2csZSk6ZT9lK1wiIFwiK3Q6dCkpOm4pOm51bGwhPWMmJihuPS9eLS0vLnRlc3Qobik/bjpuLnJlcGxhY2UoL1tBLVpdL2csXCItJCZcIikudG9Mb3dlckNhc2UoKSxhKz1vLnA/by5wKG4sYyk6bitcIjpcIitjK1wiO1wiKX1yZXR1cm4gcisodCYmYT90K1wie1wiK2ErXCJ9XCI6YSkrbH0sYz17fSxzPWU9PntpZihcIm9iamVjdFwiPT10eXBlb2YgZSl7bGV0IHQ9XCJcIjtmb3IobGV0IHIgaW4gZSl0Kz1yK3MoZVtyXSk7cmV0dXJuIHR9cmV0dXJuIGV9LGk9KGUsdCxyLGkscCk9PntsZXQgdT1zKGUpLGQ9Y1t1XXx8KGNbdV09KGU9PntsZXQgdD0wLHI9MTE7Zm9yKDt0PGUubGVuZ3RoOylyPTEwMSpyK2UuY2hhckNvZGVBdCh0KyspPj4+MDtyZXR1cm5cImdvXCIrcn0pKHUpKTtpZighY1tkXSl7bGV0IHQ9dSE9PWU/ZTooZT0+e2xldCB0LHIsbz1be31dO2Zvcig7dD1sLmV4ZWMoZS5yZXBsYWNlKGEsXCJcIikpOyl0WzRdP28uc2hpZnQoKTp0WzNdPyhyPXRbM10ucmVwbGFjZShuLFwiIFwiKS50cmltKCksby51bnNoaWZ0KG9bMF1bcl09b1swXVtyXXx8e30pKTpvWzBdW3RbMV1dPXRbMl0ucmVwbGFjZShuLFwiIFwiKS50cmltKCk7cmV0dXJuIG9bMF19KShlKTtjW2RdPW8ocD97W1wiQGtleWZyYW1lcyBcIitkXTp0fTp0LHI/XCJcIjpcIi5cIitkKX1sZXQgZj1yJiZjLmc/Yy5nOm51bGw7cmV0dXJuIHImJihjLmc9Y1tkXSksKChlLHQscixsKT0+e2w/dC5kYXRhPXQuZGF0YS5yZXBsYWNlKGwsZSk6LTE9PT10LmRhdGEuaW5kZXhPZihlKSYmKHQuZGF0YT1yP2UrdC5kYXRhOnQuZGF0YStlKX0pKGNbZF0sdCxpLGYpLGR9LHA9KGUsdCxyKT0+ZS5yZWR1Y2UoKGUsbCxhKT0+e2xldCBuPXRbYV07aWYobiYmbi5jYWxsKXtsZXQgZT1uKHIpLHQ9ZSYmZS5wcm9wcyYmZS5wcm9wcy5jbGFzc05hbWV8fC9eZ28vLnRlc3QoZSkmJmU7bj10P1wiLlwiK3Q6ZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/ZS5wcm9wcz9cIlwiOm8oZSxcIlwiKTohMT09PWU/XCJcIjplfXJldHVybiBlK2wrKG51bGw9PW4/XCJcIjpuKX0sXCJcIik7ZnVuY3Rpb24gdShlKXtsZXQgcj10aGlzfHx7fSxsPWUuY2FsbD9lKHIucCk6ZTtyZXR1cm4gaShsLnVuc2hpZnQ/bC5yYXc/cChsLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHIucCk6bC5yZWR1Y2UoKGUsdCk9Pk9iamVjdC5hc3NpZ24oZSx0JiZ0LmNhbGw/dChyLnApOnQpLHt9KTpsLHQoci50YXJnZXQpLHIuZyxyLm8sci5rKX1sZXQgZCxmLGcsYj11LmJpbmQoe2c6MX0pLGg9dS5iaW5kKHtrOjF9KTtmdW5jdGlvbiBtKGUsdCxyLGwpe28ucD10LGQ9ZSxmPXIsZz1sfWZ1bmN0aW9uIGooZSx0KXtsZXQgcj10aGlzfHx7fTtyZXR1cm4gZnVuY3Rpb24oKXtsZXQgbD1hcmd1bWVudHM7ZnVuY3Rpb24gYShuLG8pe2xldCBjPU9iamVjdC5hc3NpZ24oe30sbikscz1jLmNsYXNzTmFtZXx8YS5jbGFzc05hbWU7ci5wPU9iamVjdC5hc3NpZ24oe3RoZW1lOmYmJmYoKX0sYyksci5vPS8gKmdvXFxkKy8udGVzdChzKSxjLmNsYXNzTmFtZT11LmFwcGx5KHIsbCkrKHM/XCIgXCIrczpcIlwiKSx0JiYoYy5yZWY9byk7bGV0IGk9ZTtyZXR1cm4gZVswXSYmKGk9Yy5hc3x8ZSxkZWxldGUgYy5hcyksZyYmaVswXSYmZyhjKSxkKGksYyl9cmV0dXJuIHQ/dChhKTphfX1leHBvcnR7dSBhcyBjc3MsciBhcyBleHRyYWN0Q3NzLGIgYXMgZ2xvYixoIGFzIGtleWZyYW1lcyxtIGFzIHNldHVwLGogYXMgc3R5bGVkfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/goober/dist/goober.modern.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CAchievementTriggerManager.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CThemeController.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CAchievementTriggerManager.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CThemeController.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/components/AchievementTriggerManager.tsx */ \"(app-pages-browser)/./app/components/AchievementTriggerManager.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/components/ThemeController.tsx */ \"(app-pages-browser)/./app/components/ThemeController.tsx\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/globals.css */ \"(app-pages-browser)/./app/globals.css\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./node_modules/react-hot-toast/dist/index.mjs */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q01vbW15JTIwTHVjeSU1QyU1Q1Byb2plY3RzJTVDJTVDTHVjaWQlMjBEcmVhbSU1QyU1Q2FwcCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNBY2hpZXZlbWVudFRyaWdnZXJNYW5hZ2VyLnRzeCUyMiUyQyUyMmlkcyUyMiUzQSU1QiUyMmRlZmF1bHQlMjIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q01vbW15JTIwTHVjeSU1QyU1Q1Byb2plY3RzJTVDJTVDTHVjaWQlMjBEcmVhbSU1QyU1Q2FwcCU1QyU1Q2NvbXBvbmVudHMlNUMlNUNUaGVtZUNvbnRyb2xsZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyZGVmYXVsdCUyMiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjJDJTNBJTVDJTVDTW9tbXklMjBMdWN5JTVDJTVDUHJvamVjdHMlNUMlNUNMdWNpZCUyMERyZWFtJTVDJTVDYXBwJTVDJTVDZ2xvYmFscy5jc3MlMjIlMkMlMjJpZHMlMjIlM0ElNUIlNUQlN0QmbW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyQyUzQSU1QyU1Q01vbW15JTIwTHVjeSU1QyU1Q1Byb2plY3RzJTVDJTVDTHVjaWQlMjBEcmVhbSU1QyU1Q25vZGVfbW9kdWxlcyU1QyU1Q3JlYWN0LWhvdC10b2FzdCU1QyU1Q2Rpc3QlNUMlNUNpbmRleC5tanMlMjIlMkMlMjJpZHMlMjIlM0ElNUIlMjJUb2FzdGVyJTIyJTVEJTdEJnNlcnZlcj1mYWxzZSEiLCJtYXBwaW5ncyI6IkFBQUEsc05BQXVKO0FBQ3ZKO0FBQ0Esa01BQTZJO0FBQzdJO0FBQ0EsNEpBQTRGO0FBQzVGO0FBQ0Esb05BQXVKIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJkZWZhdWx0XCJdICovIFwiQzpcXFxcTW9tbXkgTHVjeVxcXFxQcm9qZWN0c1xcXFxMdWNpZCBEcmVhbVxcXFxhcHBcXFxcY29tcG9uZW50c1xcXFxBY2hpZXZlbWVudFRyaWdnZXJNYW5hZ2VyLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiLCB3ZWJwYWNrRXhwb3J0czogW1wiZGVmYXVsdFwiXSAqLyBcIkM6XFxcXE1vbW15IEx1Y3lcXFxcUHJvamVjdHNcXFxcTHVjaWQgRHJlYW1cXFxcYXBwXFxcXGNvbXBvbmVudHNcXFxcVGhlbWVDb250cm9sbGVyLnRzeFwiKTtcbjtcbmltcG9ydCgvKiB3ZWJwYWNrTW9kZTogXCJlYWdlclwiICovIFwiQzpcXFxcTW9tbXkgTHVjeVxcXFxQcm9qZWN0c1xcXFxMdWNpZCBEcmVhbVxcXFxhcHBcXFxcZ2xvYmFscy5jc3NcIik7XG47XG5pbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiwgd2VicGFja0V4cG9ydHM6IFtcIlRvYXN0ZXJcIl0gKi8gXCJDOlxcXFxNb21teSBMdWN5XFxcXFByb2plY3RzXFxcXEx1Y2lkIERyZWFtXFxcXG5vZGVfbW9kdWxlc1xcXFxyZWFjdC1ob3QtdG9hc3RcXFxcZGlzdFxcXFxpbmRleC5tanNcIik7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CAchievementTriggerManager.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CThemeController.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/react-hot-toast/dist/index.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckmarkIcon: () => (/* binding */ L),\n/* harmony export */   ErrorIcon: () => (/* binding */ C),\n/* harmony export */   LoaderIcon: () => (/* binding */ F),\n/* harmony export */   ToastBar: () => (/* binding */ N),\n/* harmony export */   ToastIcon: () => (/* binding */ $),\n/* harmony export */   Toaster: () => (/* binding */ Fe),\n/* harmony export */   \"default\": () => (/* binding */ zt),\n/* harmony export */   resolveValue: () => (/* binding */ h),\n/* harmony export */   toast: () => (/* binding */ n),\n/* harmony export */   useToaster: () => (/* binding */ w),\n/* harmony export */   useToasterStore: () => (/* binding */ V)\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/_/_tagged_template_literal */ \"(app-pages-browser)/./node_modules/@swc/helpers/esm/_tagged_template_literal.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var goober__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! goober */ \"(app-pages-browser)/./node_modules/goober/dist/goober.modern.js\");\n/* __next_internal_client_entry_do_not_use__ CheckmarkIcon,ErrorIcon,LoaderIcon,ToastBar,ToastIcon,Toaster,default,resolveValue,toast,useToaster,useToasterStore auto */ \nfunction _templateObject() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\nfrom {\\n  transform: scale(0) rotate(45deg);\\n\topacity: 0;\\n}\\nto {\\n transform: scale(1) rotate(45deg);\\n  opacity: 1;\\n}\"\n    ]);\n    _templateObject = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject1() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\nfrom {\\n  transform: scale(0);\\n  opacity: 0;\\n}\\nto {\\n  transform: scale(1);\\n  opacity: 1;\\n}\"\n    ]);\n    _templateObject1 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject2() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\nfrom {\\n  transform: scale(0) rotate(90deg);\\n\topacity: 0;\\n}\\nto {\\n  transform: scale(1) rotate(90deg);\\n\topacity: 1;\\n}\"\n    ]);\n    _templateObject2 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject3() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  width: 20px;\\n  opacity: 0;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: \",\n        \";\\n  position: relative;\\n  transform: rotate(45deg);\\n\\n  animation: \",\n        \" 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n  animation-delay: 100ms;\\n\\n  &:after,\\n  &:before {\\n    content: '';\\n    animation: \",\n        \" 0.15s ease-out forwards;\\n    animation-delay: 150ms;\\n    position: absolute;\\n    border-radius: 3px;\\n    opacity: 0;\\n    background: \",\n        \";\\n    bottom: 9px;\\n    left: 4px;\\n    height: 2px;\\n    width: 12px;\\n  }\\n\\n  &:before {\\n    animation: \",\n        \" 0.15s ease-out forwards;\\n    animation-delay: 180ms;\\n    transform: rotate(90deg);\\n  }\\n\"\n    ]);\n    _templateObject3 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject4() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  from {\\n    transform: rotate(0deg);\\n  }\\n  to {\\n    transform: rotate(360deg);\\n  }\\n\"\n    ]);\n    _templateObject4 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject5() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  width: 12px;\\n  height: 12px;\\n  box-sizing: border-box;\\n  border: 2px solid;\\n  border-radius: 100%;\\n  border-color: \",\n        \";\\n  border-right-color: \",\n        \";\\n  animation: \",\n        \" 1s linear infinite;\\n\"\n    ]);\n    _templateObject5 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject6() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\nfrom {\\n  transform: scale(0) rotate(45deg);\\n\topacity: 0;\\n}\\nto {\\n  transform: scale(1) rotate(45deg);\\n\topacity: 1;\\n}\"\n    ]);\n    _templateObject6 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject7() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n0% {\\n\theight: 0;\\n\twidth: 0;\\n\topacity: 0;\\n}\\n40% {\\n  height: 0;\\n\twidth: 6px;\\n\topacity: 1;\\n}\\n100% {\\n  opacity: 1;\\n  height: 10px;\\n}\"\n    ]);\n    _templateObject7 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject8() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  width: 20px;\\n  opacity: 0;\\n  height: 20px;\\n  border-radius: 10px;\\n  background: \",\n        \";\\n  position: relative;\\n  transform: rotate(45deg);\\n\\n  animation: \",\n        \" 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n  animation-delay: 100ms;\\n  &:after {\\n    content: '';\\n    box-sizing: border-box;\\n    animation: \",\n        \" 0.2s ease-out forwards;\\n    opacity: 0;\\n    animation-delay: 200ms;\\n    position: absolute;\\n    border-right: 2px solid;\\n    border-bottom: 2px solid;\\n    border-color: \",\n        \";\\n    bottom: 6px;\\n    left: 6px;\\n    height: 10px;\\n    width: 6px;\\n  }\\n\"\n    ]);\n    _templateObject8 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject9() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  position: absolute;\\n\"\n    ]);\n    _templateObject9 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject10() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  position: relative;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  min-width: 20px;\\n  min-height: 20px;\\n\"\n    ]);\n    _templateObject10 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject11() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\nfrom {\\n  transform: scale(0.6);\\n  opacity: 0.4;\\n}\\nto {\\n  transform: scale(1);\\n  opacity: 1;\\n}\"\n    ]);\n    _templateObject11 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject12() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  position: relative;\\n  transform: scale(0.6);\\n  opacity: 0.4;\\n  min-width: 20px;\\n  animation: \",\n        \" 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\\n    forwards;\\n\"\n    ]);\n    _templateObject12 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject13() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  display: flex;\\n  align-items: center;\\n  background: #fff;\\n  color: #363636;\\n  line-height: 1.3;\\n  will-change: transform;\\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\\n  max-width: 350px;\\n  pointer-events: auto;\\n  padding: 8px 10px;\\n  border-radius: 8px;\\n\"\n    ]);\n    _templateObject13 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject14() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  display: flex;\\n  justify-content: center;\\n  margin: 4px 10px;\\n  color: inherit;\\n  flex: 1 1 auto;\\n  white-space: pre-line;\\n\"\n    ]);\n    _templateObject14 = function() {\n        return data;\n    };\n    return data;\n}\nfunction _templateObject15() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n  z-index: 9999;\\n  > * {\\n    pointer-events: auto;\\n  }\\n\"\n    ]);\n    _templateObject15 = function() {\n        return data;\n    };\n    return data;\n}\nvar _s = $RefreshSig$();\nvar Z = (e)=>typeof e == \"function\", h = (e, t)=>Z(e) ? e(t) : e;\nvar W = (()=>{\n    let e = 0;\n    return ()=>(++e).toString();\n})(), E = (()=>{\n    let e;\n    return ()=>{\n        if (e === void 0 && typeof window < \"u\") {\n            let t = matchMedia(\"(prefers-reduced-motion: reduce)\");\n            e = !t || t.matches;\n        }\n        return e;\n    };\n})();\n\nvar re = 20, k = \"default\";\nvar H = (e, t)=>{\n    let { toastLimit: o } = e.settings;\n    switch(t.type){\n        case 0:\n            return {\n                ...e,\n                toasts: [\n                    t.toast,\n                    ...e.toasts\n                ].slice(0, o)\n            };\n        case 1:\n            return {\n                ...e,\n                toasts: e.toasts.map((r)=>r.id === t.toast.id ? {\n                        ...r,\n                        ...t.toast\n                    } : r)\n            };\n        case 2:\n            let { toast: s } = t;\n            return H(e, {\n                type: e.toasts.find((r)=>r.id === s.id) ? 1 : 0,\n                toast: s\n            });\n        case 3:\n            let { toastId: a } = t;\n            return {\n                ...e,\n                toasts: e.toasts.map((r)=>r.id === a || a === void 0 ? {\n                        ...r,\n                        dismissed: !0,\n                        visible: !1\n                    } : r)\n            };\n        case 4:\n            return t.toastId === void 0 ? {\n                ...e,\n                toasts: []\n            } : {\n                ...e,\n                toasts: e.toasts.filter((r)=>r.id !== t.toastId)\n            };\n        case 5:\n            return {\n                ...e,\n                pausedAt: t.time\n            };\n        case 6:\n            let i = t.time - (e.pausedAt || 0);\n            return {\n                ...e,\n                pausedAt: void 0,\n                toasts: e.toasts.map((r)=>({\n                        ...r,\n                        pauseDuration: r.pauseDuration + i\n                    }))\n            };\n    }\n}, v = [], j = {\n    toasts: [],\n    pausedAt: void 0,\n    settings: {\n        toastLimit: re\n    }\n}, f = {}, Y = function(e) {\n    let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : k;\n    f[t] = H(f[t] || j, e), v.forEach((param)=>{\n        let [o, s] = param;\n        o === t && s(f[t]);\n    });\n}, _ = (e)=>Object.keys(f).forEach((t)=>Y(e, t)), Q = (e)=>Object.keys(f).find((t)=>f[t].toasts.some((o)=>o.id === e)), S = function() {\n    let e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : k;\n    return (t)=>{\n        Y(t, e);\n    };\n}, se = {\n    blank: 4e3,\n    error: 4e3,\n    success: 2e3,\n    loading: 1 / 0,\n    custom: 4e3\n}, V = function() {\n    let e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : k;\n    let [o, s] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(f[t] || j), a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(f[t]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>(a.current !== f[t] && s(f[t]), v.push([\n            t,\n            s\n        ]), ()=>{\n            let r = v.findIndex((param)=>{\n                let [l] = param;\n                return l === t;\n            });\n            r > -1 && v.splice(r, 1);\n        }), [\n        t\n    ]);\n    let i = o.toasts.map((r)=>{\n        var l, g, T;\n        return {\n            ...e,\n            ...e[r.type],\n            ...r,\n            removeDelay: r.removeDelay || ((l = e[r.type]) == null ? void 0 : l.removeDelay) || (e == null ? void 0 : e.removeDelay),\n            duration: r.duration || ((g = e[r.type]) == null ? void 0 : g.duration) || (e == null ? void 0 : e.duration) || se[r.type],\n            style: {\n                ...e.style,\n                ...(T = e[r.type]) == null ? void 0 : T.style,\n                ...r.style\n            }\n        };\n    });\n    return {\n        ...o,\n        toasts: i\n    };\n};\nvar ie = function(e) {\n    let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"blank\", o = arguments.length > 2 ? arguments[2] : void 0;\n    return {\n        createdAt: Date.now(),\n        visible: !0,\n        dismissed: !1,\n        type: t,\n        ariaProps: {\n            role: \"status\",\n            \"aria-live\": \"polite\"\n        },\n        message: e,\n        pauseDuration: 0,\n        ...o,\n        id: (o == null ? void 0 : o.id) || W()\n    };\n}, P = (e)=>(t, o)=>{\n        let s = ie(t, e, o);\n        return S(s.toasterId || Q(s.id))({\n            type: 2,\n            toast: s\n        }), s.id;\n    }, n = (e, t)=>P(\"blank\")(e, t);\nn.error = P(\"error\");\nn.success = P(\"success\");\nn.loading = P(\"loading\");\nn.custom = P(\"custom\");\nn.dismiss = (e, t)=>{\n    let o = {\n        type: 3,\n        toastId: e\n    };\n    t ? S(t)(o) : _(o);\n};\nn.dismissAll = (e)=>n.dismiss(void 0, e);\nn.remove = (e, t)=>{\n    let o = {\n        type: 4,\n        toastId: e\n    };\n    t ? S(t)(o) : _(o);\n};\nn.removeAll = (e)=>n.remove(void 0, e);\nn.promise = (e, t, o)=>{\n    let s = n.loading(t.loading, {\n        ...o,\n        ...o == null ? void 0 : o.loading\n    });\n    return typeof e == \"function\" && (e = e()), e.then((a)=>{\n        let i = t.success ? h(t.success, a) : void 0;\n        return i ? n.success(i, {\n            id: s,\n            ...o,\n            ...o == null ? void 0 : o.success\n        }) : n.dismiss(s), a;\n    }).catch((a)=>{\n        let i = t.error ? h(t.error, a) : void 0;\n        i ? n.error(i, {\n            id: s,\n            ...o,\n            ...o == null ? void 0 : o.error\n        }) : n.dismiss(s);\n    }), e;\n};\n\nvar ce = 1e3, w = function(e) {\n    let t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"default\";\n    let { toasts: o, pausedAt: s } = V(e, t), a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(new Map).current, i = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function(c) {\n        let m = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : ce;\n        if (a.has(c)) return;\n        let p = setTimeout(()=>{\n            a.delete(c), r({\n                type: 4,\n                toastId: c\n            });\n        }, m);\n        a.set(c, p);\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (s) return;\n        let c = Date.now(), m = o.map((p)=>{\n            if (p.duration === 1 / 0) return;\n            let R = (p.duration || 0) + p.pauseDuration - (c - p.createdAt);\n            if (R < 0) {\n                p.visible && n.dismiss(p.id);\n                return;\n            }\n            return setTimeout(()=>n.dismiss(p.id, t), R);\n        });\n        return ()=>{\n            m.forEach((p)=>p && clearTimeout(p));\n        };\n    }, [\n        o,\n        s,\n        t\n    ]);\n    let r = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(S(t), [\n        t\n    ]), l = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        r({\n            type: 5,\n            time: Date.now()\n        });\n    }, [\n        r\n    ]), g = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((c, m)=>{\n        r({\n            type: 1,\n            toast: {\n                id: c,\n                height: m\n            }\n        });\n    }, [\n        r\n    ]), T = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        s && r({\n            type: 6,\n            time: Date.now()\n        });\n    }, [\n        s,\n        r\n    ]), d = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((c, m)=>{\n        let { reverseOrder: p = !1, gutter: R = 8, defaultPosition: z } = m || {}, O = o.filter((u)=>(u.position || z) === (c.position || z) && u.height), K = O.findIndex((u)=>u.id === c.id), B = O.filter((u, I)=>I < K && u.visible).length;\n        return O.filter((u)=>u.visible).slice(...p ? [\n            B + 1\n        ] : [\n            0,\n            B\n        ]).reduce((u, I)=>u + (I.height || 0) + R, 0);\n    }, [\n        o\n    ]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        o.forEach((c)=>{\n            if (c.dismissed) i(c.id, c.removeDelay);\n            else {\n                let m = a.get(c.id);\n                m && (clearTimeout(m), a.delete(c.id));\n            }\n        });\n    }, [\n        o,\n        i\n    ]), {\n        toasts: o,\n        handlers: {\n            updateHeight: g,\n            startPause: l,\n            endPause: T,\n            calculateOffset: d\n        }\n    };\n};\n\n\n\n\n\nvar de = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject()), me = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject1()), le = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject2()), C = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject3(), (e)=>e.primary || \"#ff4b4b\", de, me, (e)=>e.secondary || \"#fff\", le);\n\nvar Te = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject4()), F = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject5(), (e)=>e.secondary || \"#e0e0e0\", (e)=>e.primary || \"#616161\", Te);\n\nvar ge = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject6()), he = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject7()), L = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject8(), (e)=>e.primary || \"#61d345\", ge, he, (e)=>e.secondary || \"#fff\");\nvar be = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject9()), Se = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject10()), Ae = (0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(_templateObject11()), Pe = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject12(), Ae), $ = (param)=>{\n    let { toast: e } = param;\n    let { icon: t, type: o, iconTheme: s } = e;\n    return t !== void 0 ? typeof t == \"string\" ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Pe, null, t) : t : o === \"blank\" ? null : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Se, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(F, {\n        ...s\n    }), o !== \"loading\" && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(be, null, o === \"error\" ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(C, {\n        ...s\n    }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(L, {\n        ...s\n    })));\n};\nvar Re = (e)=>\"\\n0% {transform: translate3d(0,\".concat(e * -200, \"%,0) scale(.6); opacity:.5;}\\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\\n\"), Ee = (e)=>\"\\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\\n100% {transform: translate3d(0,\".concat(e * -150, \"%,-1px) scale(.6); opacity:0;}\\n\"), ve = \"0%{opacity:0;} 100%{opacity:1;}\", De = \"0%{opacity:1;} 100%{opacity:0;}\", Oe = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject13()), Ie = (0,goober__WEBPACK_IMPORTED_MODULE_2__.styled)(\"div\")(_templateObject14()), ke = (e, t)=>{\n    let s = e.includes(\"top\") ? 1 : -1, [a, i] = E() ? [\n        ve,\n        De\n    ] : [\n        Re(s),\n        Ee(s)\n    ];\n    return {\n        animation: t ? \"\".concat((0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(a), \" 0.35s cubic-bezier(.21,1.02,.73,1) forwards\") : \"\".concat((0,goober__WEBPACK_IMPORTED_MODULE_2__.keyframes)(i), \" 0.4s forwards cubic-bezier(.06,.71,.55,1)\")\n    };\n}, N = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.memo((param)=>{\n    let { toast: e, position: t, style: o, children: s } = param;\n    let a = e.height ? ke(e.position || t || \"top-center\", e.visible) : {\n        opacity: 0\n    }, i = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement($, {\n        toast: e\n    }), r = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Ie, {\n        ...e.ariaProps\n    }, h(e.message, e));\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Oe, {\n        className: e.className,\n        style: {\n            ...a,\n            ...o,\n            ...e.style\n        }\n    }, typeof s == \"function\" ? s({\n        icon: i,\n        message: r\n    }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, i, r));\n});\n\n\n(0,goober__WEBPACK_IMPORTED_MODULE_2__.setup)(react__WEBPACK_IMPORTED_MODULE_1__.createElement);\nvar we = (param)=>{\n    let { id: e, className: t, style: o, onHeightUpdate: s, children: a } = param;\n    _s();\n    let i = react__WEBPACK_IMPORTED_MODULE_1__.useCallback({\n        \"we.useCallback[i]\": (r)=>{\n            if (r) {\n                let l = {\n                    \"we.useCallback[i].l\": ()=>{\n                        let g = r.getBoundingClientRect().height;\n                        s(e, g);\n                    }\n                }[\"we.useCallback[i].l\"];\n                l(), new MutationObserver(l).observe(r, {\n                    subtree: !0,\n                    childList: !0,\n                    characterData: !0\n                });\n            }\n        }\n    }[\"we.useCallback[i]\"], [\n        e,\n        s\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        ref: i,\n        className: t,\n        style: o\n    }, a);\n}, Me = (e, t)=>{\n    let o = e.includes(\"top\"), s = o ? {\n        top: 0\n    } : {\n        bottom: 0\n    }, a = e.includes(\"center\") ? {\n        justifyContent: \"center\"\n    } : e.includes(\"right\") ? {\n        justifyContent: \"flex-end\"\n    } : {};\n    return {\n        left: 0,\n        right: 0,\n        display: \"flex\",\n        position: \"absolute\",\n        transition: E() ? void 0 : \"all 230ms cubic-bezier(.21,1.02,.73,1)\",\n        transform: \"translateY(\".concat(t * (o ? 1 : -1), \"px)\"),\n        ...s,\n        ...a\n    };\n}, Ce = (0,goober__WEBPACK_IMPORTED_MODULE_2__.css)(_templateObject15()), D = 16, Fe = (param)=>{\n    let { reverseOrder: e, position: t = \"top-center\", toastOptions: o, gutter: s, children: a, toasterId: i, containerStyle: r, containerClassName: l } = param;\n    let { toasts: g, handlers: T } = w(o, i);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n        \"data-rht-toaster\": i || \"\",\n        style: {\n            position: \"fixed\",\n            zIndex: 9999,\n            top: D,\n            left: D,\n            right: D,\n            bottom: D,\n            pointerEvents: \"none\",\n            ...r\n        },\n        className: l,\n        onMouseEnter: T.startPause,\n        onMouseLeave: T.endPause\n    }, g.map((d)=>{\n        let c = d.position || t, m = T.calculateOffset(d, {\n            reverseOrder: e,\n            gutter: s,\n            defaultPosition: t\n        }), p = Me(c, m);\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(we, {\n            id: d.id,\n            key: d.id,\n            onHeightUpdate: T.updateHeight,\n            className: d.visible ? Ce : \"\",\n            style: p\n        }, d.type === \"custom\" ? h(d.message, d) : a ? a(d) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(N, {\n            toast: d,\n            position: c\n        }));\n    }));\n};\n_s(we, \"I3jlzT54Bk7ZM7+mV1Jh8N0yt+Q=\");\nvar zt = n;\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yZWFjdC1ob3QtdG9hc3QvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkEsSUFBTUEsSUFDSkMsS0FFQSxPQUFPQSxLQUFrQixZQUVkQyxJQUFlLENBQzFCRCxHQUNBRSxJQUNZSCxFQUFXQyxDQUFhLElBQUlBLEVBQWNFLENBQUcsSUFBSUY7QUMvQnhELElBQU1HLElBQUFBLENBQVMsSUFBTTtJQUMxQixJQUFJQyxJQUFRO0lBQ1osT0FBTyxLQUNHLEdBQUVBLEVBQU8sU0FBUztDQUU5QixHQUFHLEVBRVVDLElBQUFBLENBQXdCLElBQU07SUFFekMsSUFBSUM7SUFFSixPQUFPLElBQU07UUFDWCxJQUFJQSxNQUF1QixVQUFhLE9BQU8sU0FBVyxLQUFhO1lBQ3JFLElBQU1DLElBQWEsV0FBVyxrQ0FBa0M7WUFDaEVELElBQXFCLENBQUNDLEtBQWNBLEVBQVc7UUFBQTtRQUVqRCxPQUFPRDtJQUNUO0NBQ0YsR0FBRztBQ2xCeUM7QUFJckMsSUFBTUssS0FBYyxJQUNkQyxJQUFxQjtBQXdEM0IsSUFBTUMsSUFBVSxDQUFDQyxHQUFxQkMsSUFBaUM7SUFDNUUsSUFBTSxFQUFFLFlBQUFDLENBQVcsS0FBSUYsRUFBTTtJQUU3QixPQUFRQyxFQUFPLEtBQU07UUFDbkIsSUFBSztZQUNILE9BQU87Z0JBQ0wsR0FBR0QsQ0FBQUE7Z0JBQ0gsUUFBUTtvQkFBQ0MsRUFBTyxNQUFPO3VCQUFHRCxFQUFNLE1BQU07aUJBQUEsQ0FBRSxNQUFNLEdBQUdFLENBQVU7WUFDN0Q7UUFFRixJQUFL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Q3pCLFdBQVcvRyxFQUFFLFVBQVUwRyxLQUFjO1lBQ3JDLE9BQU9PO1FBQUFBLEdBRU5qSCxFQUFFLFNBQVMsV0FDVmhCLEVBQWFnQixFQUFFLFNBQVNBLENBQUMsSUFDdkI0RixJQUNGQSxFQUFTNUYsQ0FBQyxrQkFFVixpREFBQzBGLEdBQUE7WUFBUyxPQUFPMUY7WUFBRyxVQUFVZ0g7UUFBQUEsQ0FBZSxDQUVqRDtJQUVKLENBQUMsQ0FDSDtBQUVKO0dBaElNaEI7QUNGTixJQUFPa0IsS0FBUWpIO0FBQUFBIiwic291cmNlcyI6WyJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29yZVxcdHlwZXMudHMiLCJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29yZVxcdXRpbHMudHMiLCJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29yZVxcc3RvcmUudHMiLCJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29yZVxcdG9hc3QudHMiLCJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29yZVxcdXNlLXRvYXN0ZXIudHMiLCJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29tcG9uZW50c1xcdG9hc3QtYmFyLnRzeCIsIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcc3JjXFxjb21wb25lbnRzXFx0b2FzdC1pY29uLnRzeCIsIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcc3JjXFxjb21wb25lbnRzXFxlcnJvci50c3giLCJDOlxcTW9tbXkgTHVjeVxcUHJvamVjdHNcXHNyY1xcY29tcG9uZW50c1xcbG9hZGVyLnRzeCIsIkM6XFxNb21teSBMdWN5XFxQcm9qZWN0c1xcc3JjXFxjb21wb25lbnRzXFxjaGVja21hcmsudHN4IiwiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxzcmNcXGNvbXBvbmVudHNcXHRvYXN0ZXIudHN4IiwiQzpcXE1vbW15IEx1Y3lcXFByb2plY3RzXFxzcmNcXGluZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENTU1Byb3BlcnRpZXMgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCB0eXBlIFRvYXN0VHlwZSA9ICdzdWNjZXNzJyB8ICdlcnJvcicgfCAnbG9hZGluZycgfCAnYmxhbmsnIHwgJ2N1c3RvbSc7XG5leHBvcnQgdHlwZSBUb2FzdFBvc2l0aW9uID1cbiAgfCAndG9wLWxlZnQnXG4gIHwgJ3RvcC1jZW50ZXInXG4gIHwgJ3RvcC1yaWdodCdcbiAgfCAnYm90dG9tLWxlZnQnXG4gIHwgJ2JvdHRvbS1jZW50ZXInXG4gIHwgJ2JvdHRvbS1yaWdodCc7XG5cbmV4cG9ydCB0eXBlIFJlbmRlcmFibGUgPSBSZWFjdC5SZWFjdEVsZW1lbnQgfCBzdHJpbmcgfCBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIEljb25UaGVtZSB7XG4gIHByaW1hcnk6IHN0cmluZztcbiAgc2Vjb25kYXJ5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIFZhbHVlRnVuY3Rpb248VFZhbHVlLCBUQXJnPiA9IChhcmc6IFRBcmcpID0+IFRWYWx1ZTtcbmV4cG9ydCB0eXBlIFZhbHVlT3JGdW5jdGlvbjxUVmFsdWUsIFRBcmc+ID1cbiAgfCBUVmFsdWVcbiAgfCBWYWx1ZUZ1bmN0aW9uPFRWYWx1ZSwgVEFyZz47XG5cbmNvbnN0IGlzRnVuY3Rpb24gPSA8VFZhbHVlLCBUQXJnPihcbiAgdmFsT3JGdW5jdGlvbjogVmFsdWVPckZ1bmN0aW9uPFRWYWx1ZSwgVEFyZz5cbik6IHZhbE9yRnVuY3Rpb24gaXMgVmFsdWVGdW5jdGlvbjxUVmFsdWUsIFRBcmc+ID0+XG4gIHR5cGVvZiB2YWxPckZ1bmN0aW9uID09PSAnZnVuY3Rpb24nO1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZVZhbHVlID0gPFRWYWx1ZSwgVEFyZz4oXG4gIHZhbE9yRnVuY3Rpb246IFZhbHVlT3JGdW5jdGlvbjxUVmFsdWUsIFRBcmc+LFxuICBhcmc6IFRBcmdcbik6IFRWYWx1ZSA9PiAoaXNGdW5jdGlvbih2YWxPckZ1bmN0aW9uKSA/IHZhbE9yRnVuY3Rpb24oYXJnKSA6IHZhbE9yRnVuY3Rpb24pO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0IHtcbiAgdHlwZTogVG9hc3RUeXBlO1xuICBpZDogc3RyaW5nO1xuICB0b2FzdGVySWQ/OiBzdHJpbmc7XG4gIG1lc3NhZ2U6IFZhbHVlT3JGdW5jdGlvbjxSZW5kZXJhYmxlLCBUb2FzdD47XG4gIGljb24/OiBSZW5kZXJhYmxlO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgcGF1c2VEdXJhdGlvbjogbnVtYmVyO1xuICBwb3NpdGlvbj86IFRvYXN0UG9zaXRpb247XG4gIHJlbW92ZURlbGF5PzogbnVtYmVyO1xuXG4gIGFyaWFQcm9wczoge1xuICAgIHJvbGU6ICdzdGF0dXMnIHwgJ2FsZXJ0JztcbiAgICAnYXJpYS1saXZlJzogJ2Fzc2VydGl2ZScgfCAnb2ZmJyB8ICdwb2xpdGUnO1xuICB9O1xuXG4gIHN0eWxlPzogQ1NTUHJvcGVydGllcztcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuICBpY29uVGhlbWU/OiBJY29uVGhlbWU7XG5cbiAgY3JlYXRlZEF0OiBudW1iZXI7XG4gIHZpc2libGU6IGJvb2xlYW47XG4gIGRpc21pc3NlZDogYm9vbGVhbjtcbiAgaGVpZ2h0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgdHlwZSBUb2FzdE9wdGlvbnMgPSBQYXJ0aWFsPFxuICBQaWNrPFxuICAgIFRvYXN0LFxuICAgIHwgJ2lkJ1xuICAgIHwgJ2ljb24nXG4gICAgfCAnZHVyYXRpb24nXG4gICAgfCAnYXJpYVByb3BzJ1xuICAgIHwgJ2NsYXNzTmFtZSdcbiAgICB8ICdzdHlsZSdcbiAgICB8ICdwb3NpdGlvbidcbiAgICB8ICdpY29uVGhlbWUnXG4gICAgfCAndG9hc3RlcklkJ1xuICAgIHwgJ3JlbW92ZURlbGF5J1xuICA+XG4+O1xuXG5leHBvcnQgdHlwZSBEZWZhdWx0VG9hc3RPcHRpb25zID0gVG9hc3RPcHRpb25zICYge1xuICBba2V5IGluIFRvYXN0VHlwZV0/OiBUb2FzdE9wdGlvbnM7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0ZXJQcm9wcyB7XG4gIHBvc2l0aW9uPzogVG9hc3RQb3NpdGlvbjtcbiAgdG9hc3RPcHRpb25zPzogRGVmYXVsdFRvYXN0T3B0aW9ucztcbiAgcmV2ZXJzZU9yZGVyPzogYm9vbGVhbjtcbiAgZ3V0dGVyPzogbnVtYmVyO1xuICBjb250YWluZXJTdHlsZT86IFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gIGNvbnRhaW5lckNsYXNzTmFtZT86IHN0cmluZztcbiAgdG9hc3RlcklkPzogc3RyaW5nO1xuICBjaGlsZHJlbj86ICh0b2FzdDogVG9hc3QpID0+IFJlYWN0LlJlYWN0RWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb2FzdFdyYXBwZXJQcm9wcyB7XG4gIGlkOiBzdHJpbmc7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgc3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICBvbkhlaWdodFVwZGF0ZTogKGlkOiBzdHJpbmcsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkO1xuICBjaGlsZHJlbj86IFJlYWN0LlJlYWN0Tm9kZTtcbn1cbiIsImV4cG9ydCBjb25zdCBnZW5JZCA9ICgoKSA9PiB7XG4gIGxldCBjb3VudCA9IDA7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgcmV0dXJuICgrK2NvdW50KS50b1N0cmluZygpO1xuICB9O1xufSkoKTtcblxuZXhwb3J0IGNvbnN0IHByZWZlcnNSZWR1Y2VkTW90aW9uID0gKCgpID0+IHtcbiAgLy8gQ2FjaGUgcmVzdWx0XG4gIGxldCBzaG91bGRSZWR1Y2VNb3Rpb246IGJvb2xlYW4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoc2hvdWxkUmVkdWNlTW90aW9uID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSBtYXRjaE1lZGlhKCcocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKScpO1xuICAgICAgc2hvdWxkUmVkdWNlTW90aW9uID0gIW1lZGlhUXVlcnkgfHwgbWVkaWFRdWVyeS5tYXRjaGVzO1xuICAgIH1cbiAgICByZXR1cm4gc2hvdWxkUmVkdWNlTW90aW9uO1xuICB9O1xufSkoKTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERlZmF1bHRUb2FzdE9wdGlvbnMsIFRvYXN0LCBUb2FzdFR5cGUgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IFRPQVNUX0VYUElSRV9ESVNNSVNTX0RFTEFZID0gMTAwMDtcbmV4cG9ydCBjb25zdCBUT0FTVF9MSU1JVCA9IDIwO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfVE9BU1RFUl9JRCA9ICdkZWZhdWx0JztcblxuaW50ZXJmYWNlIFRvYXN0ZXJTZXR0aW5ncyB7XG4gIHRvYXN0TGltaXQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGVudW0gQWN0aW9uVHlwZSB7XG4gIEFERF9UT0FTVCxcbiAgVVBEQVRFX1RPQVNULFxuICBVUFNFUlRfVE9BU1QsXG4gIERJU01JU1NfVE9BU1QsXG4gIFJFTU9WRV9UT0FTVCxcbiAgU1RBUlRfUEFVU0UsXG4gIEVORF9QQVVTRSxcbn1cblxuZXhwb3J0IHR5cGUgQWN0aW9uID1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlLkFERF9UT0FTVDtcbiAgICAgIHRvYXN0OiBUb2FzdDtcbiAgICB9XG4gIHwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZS5VUFNFUlRfVE9BU1Q7XG4gICAgICB0b2FzdDogVG9hc3Q7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX1RPQVNUO1xuICAgICAgdG9hc3Q6IFBhcnRpYWw8VG9hc3Q+O1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlLkRJU01JU1NfVE9BU1Q7XG4gICAgICB0b2FzdElkPzogc3RyaW5nO1xuICAgIH1cbiAgfCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlLlJFTU9WRV9UT0FTVDtcbiAgICAgIHRvYXN0SWQ/OiBzdHJpbmc7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuU1RBUlRfUEFVU0U7XG4gICAgICB0aW1lOiBudW1iZXI7XG4gICAgfVxuICB8IHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGUuRU5EX1BBVVNFO1xuICAgICAgdGltZTogbnVtYmVyO1xuICAgIH07XG5cbmludGVyZmFjZSBUb2FzdGVyU3RhdGUge1xuICB0b2FzdHM6IFRvYXN0W107XG4gIHNldHRpbmdzOiBUb2FzdGVyU2V0dGluZ3M7XG4gIHBhdXNlZEF0OiBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmludGVyZmFjZSBTdGF0ZSB7XG4gIFt0b2FzdGVySWQ6IHN0cmluZ106IFRvYXN0ZXJTdGF0ZTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZXIgPSAoc3RhdGU6IFRvYXN0ZXJTdGF0ZSwgYWN0aW9uOiBBY3Rpb24pOiBUb2FzdGVyU3RhdGUgPT4ge1xuICBjb25zdCB7IHRvYXN0TGltaXQgfSA9IHN0YXRlLnNldHRpbmdzO1xuXG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIEFjdGlvblR5cGUuQUREX1RPQVNUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogW2FjdGlvbi50b2FzdCwgLi4uc3RhdGUudG9hc3RzXS5zbGljZSgwLCB0b2FzdExpbWl0KSxcbiAgICAgIH07XG5cbiAgICBjYXNlIEFjdGlvblR5cGUuVVBEQVRFX1RPQVNUOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHRvYXN0czogc3RhdGUudG9hc3RzLm1hcCgodCkgPT5cbiAgICAgICAgICB0LmlkID09PSBhY3Rpb24udG9hc3QuaWQgPyB7IC4uLnQsIC4uLmFjdGlvbi50b2FzdCB9IDogdFxuICAgICAgICApLFxuICAgICAgfTtcblxuICAgIGNhc2UgQWN0aW9uVHlwZS5VUFNFUlRfVE9BU1Q6XG4gICAgICBjb25zdCB7IHRvYXN0IH0gPSBhY3Rpb247XG4gICAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwge1xuICAgICAgICB0eXBlOiBzdGF0ZS50b2FzdHMuZmluZCgodCkgPT4gdC5pZCA9PT0gdG9hc3QuaWQpXG4gICAgICAgICAgPyBBY3Rpb25UeXBlLlVQREFURV9UT0FTVFxuICAgICAgICAgIDogQWN0aW9uVHlwZS5BRERfVE9BU1QsXG4gICAgICAgIHRvYXN0LFxuICAgICAgfSk7XG5cbiAgICBjYXNlIEFjdGlvblR5cGUuRElTTUlTU19UT0FTVDpcbiAgICAgIGNvbnN0IHsgdG9hc3RJZCB9ID0gYWN0aW9uO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdG9hc3RzOiBzdGF0ZS50b2FzdHMubWFwKCh0KSA9PlxuICAgICAgICAgIHQuaWQgPT09IHRvYXN0SWQgfHwgdG9hc3RJZCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAuLi50LFxuICAgICAgICAgICAgICAgIGRpc21pc3NlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB0XG4gICAgICAgICksXG4gICAgICB9O1xuICAgIGNhc2UgQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1Q6XG4gICAgICBpZiAoYWN0aW9uLnRvYXN0SWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgIHRvYXN0czogW10sXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdG9hc3RzOiBzdGF0ZS50b2FzdHMuZmlsdGVyKCh0KSA9PiB0LmlkICE9PSBhY3Rpb24udG9hc3RJZCksXG4gICAgICB9O1xuXG4gICAgY2FzZSBBY3Rpb25UeXBlLlNUQVJUX1BBVVNFOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHBhdXNlZEF0OiBhY3Rpb24udGltZSxcbiAgICAgIH07XG5cbiAgICBjYXNlIEFjdGlvblR5cGUuRU5EX1BBVVNFOlxuICAgICAgY29uc3QgZGlmZiA9IGFjdGlvbi50aW1lIC0gKHN0YXRlLnBhdXNlZEF0IHx8IDApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgcGF1c2VkQXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgdG9hc3RzOiBzdGF0ZS50b2FzdHMubWFwKCh0KSA9PiAoe1xuICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgcGF1c2VEdXJhdGlvbjogdC5wYXVzZUR1cmF0aW9uICsgZGlmZixcbiAgICAgICAgfSkpLFxuICAgICAgfTtcbiAgfVxufTtcblxuY29uc3QgbGlzdGVuZXJzOiBBcnJheTxcbiAgW3RvYXN0ZXJJZDogc3RyaW5nLCByZWR1Y2VyOiAoc3RhdGU6IFRvYXN0ZXJTdGF0ZSkgPT4gdm9pZF1cbj4gPSBbXTtcblxuY29uc3QgZGVmYXVsdFRvYXN0ZXJTdGF0ZTogVG9hc3RlclN0YXRlID0ge1xuICB0b2FzdHM6IFtdLFxuICBwYXVzZWRBdDogdW5kZWZpbmVkLFxuICBzZXR0aW5nczoge1xuICAgIHRvYXN0TGltaXQ6IFRPQVNUX0xJTUlULFxuICB9LFxufTtcbmxldCBtZW1vcnlTdGF0ZTogU3RhdGUgPSB7fTtcblxuZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKGFjdGlvbjogQWN0aW9uLCB0b2FzdGVySWQgPSBERUZBVUxUX1RPQVNURVJfSUQpID0+IHtcbiAgbWVtb3J5U3RhdGVbdG9hc3RlcklkXSA9IHJlZHVjZXIoXG4gICAgbWVtb3J5U3RhdGVbdG9hc3RlcklkXSB8fCBkZWZhdWx0VG9hc3RlclN0YXRlLFxuICAgIGFjdGlvblxuICApO1xuICBsaXN0ZW5lcnMuZm9yRWFjaCgoW2lkLCBsaXN0ZW5lcl0pID0+IHtcbiAgICBpZiAoaWQgPT09IHRvYXN0ZXJJZCkge1xuICAgICAgbGlzdGVuZXIobWVtb3J5U3RhdGVbdG9hc3RlcklkXSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBkaXNwYXRjaEFsbCA9IChhY3Rpb246IEFjdGlvbikgPT5cbiAgT2JqZWN0LmtleXMobWVtb3J5U3RhdGUpLmZvckVhY2goKHRvYXN0ZXJJZCkgPT4gZGlzcGF0Y2goYWN0aW9uLCB0b2FzdGVySWQpKTtcblxuZXhwb3J0IGNvbnN0IGdldFRvYXN0ZXJJZEZyb21Ub2FzdElkID0gKHRvYXN0SWQ6IHN0cmluZykgPT5cbiAgT2JqZWN0LmtleXMobWVtb3J5U3RhdGUpLmZpbmQoKHRvYXN0ZXJJZCkgPT5cbiAgICBtZW1vcnlTdGF0ZVt0b2FzdGVySWRdLnRvYXN0cy5zb21lKCh0KSA9PiB0LmlkID09PSB0b2FzdElkKVxuICApO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRGlzcGF0Y2ggPVxuICAodG9hc3RlcklkID0gREVGQVVMVF9UT0FTVEVSX0lEKSA9PlxuICAoYWN0aW9uOiBBY3Rpb24pID0+IHtcbiAgICBkaXNwYXRjaChhY3Rpb24sIHRvYXN0ZXJJZCk7XG4gIH07XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGltZW91dHM6IHtcbiAgW2tleSBpbiBUb2FzdFR5cGVdOiBudW1iZXI7XG59ID0ge1xuICBibGFuazogNDAwMCxcbiAgZXJyb3I6IDQwMDAsXG4gIHN1Y2Nlc3M6IDIwMDAsXG4gIGxvYWRpbmc6IEluZmluaXR5LFxuICBjdXN0b206IDQwMDAsXG59O1xuXG5leHBvcnQgY29uc3QgdXNlU3RvcmUgPSAoXG4gIHRvYXN0T3B0aW9uczogRGVmYXVsdFRvYXN0T3B0aW9ucyA9IHt9LFxuICB0b2FzdGVySWQ6IHN0cmluZyA9IERFRkFVTFRfVE9BU1RFUl9JRFxuKTogVG9hc3RlclN0YXRlID0+IHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxUb2FzdGVyU3RhdGU+KFxuICAgIG1lbW9yeVN0YXRlW3RvYXN0ZXJJZF0gfHwgZGVmYXVsdFRvYXN0ZXJTdGF0ZVxuICApO1xuICBjb25zdCBpbml0aWFsID0gdXNlUmVmKG1lbW9yeVN0YXRlW3RvYXN0ZXJJZF0pO1xuXG4gIC8vIFRPRE86IFN3aXRjaCB0byB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB3aGVuIHRhcmdldGluZyBSZWFjdCAxOCtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW5pdGlhbC5jdXJyZW50ICE9PSBtZW1vcnlTdGF0ZVt0b2FzdGVySWRdKSB7XG4gICAgICBzZXRTdGF0ZShtZW1vcnlTdGF0ZVt0b2FzdGVySWRdKTtcbiAgICB9XG4gICAgbGlzdGVuZXJzLnB1c2goW3RvYXN0ZXJJZCwgc2V0U3RhdGVdKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuZmluZEluZGV4KChbaWRdKSA9PiBpZCA9PT0gdG9hc3RlcklkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFt0b2FzdGVySWRdKTtcblxuICBjb25zdCBtZXJnZWRUb2FzdHMgPSBzdGF0ZS50b2FzdHMubWFwKCh0KSA9PiAoe1xuICAgIC4uLnRvYXN0T3B0aW9ucyxcbiAgICAuLi50b2FzdE9wdGlvbnNbdC50eXBlXSxcbiAgICAuLi50LFxuICAgIHJlbW92ZURlbGF5OlxuICAgICAgdC5yZW1vdmVEZWxheSB8fFxuICAgICAgdG9hc3RPcHRpb25zW3QudHlwZV0/LnJlbW92ZURlbGF5IHx8XG4gICAgICB0b2FzdE9wdGlvbnM/LnJlbW92ZURlbGF5LFxuICAgIGR1cmF0aW9uOlxuICAgICAgdC5kdXJhdGlvbiB8fFxuICAgICAgdG9hc3RPcHRpb25zW3QudHlwZV0/LmR1cmF0aW9uIHx8XG4gICAgICB0b2FzdE9wdGlvbnM/LmR1cmF0aW9uIHx8XG4gICAgICBkZWZhdWx0VGltZW91dHNbdC50eXBlXSxcbiAgICBzdHlsZToge1xuICAgICAgLi4udG9hc3RPcHRpb25zLnN0eWxlLFxuICAgICAgLi4udG9hc3RPcHRpb25zW3QudHlwZV0/LnN0eWxlLFxuICAgICAgLi4udC5zdHlsZSxcbiAgICB9LFxuICB9KSk7XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5zdGF0ZSxcbiAgICB0b2FzdHM6IG1lcmdlZFRvYXN0cyxcbiAgfTtcbn07XG4iLCJpbXBvcnQge1xuICBSZW5kZXJhYmxlLFxuICBUb2FzdCxcbiAgVG9hc3RPcHRpb25zLFxuICBUb2FzdFR5cGUsXG4gIERlZmF1bHRUb2FzdE9wdGlvbnMsXG4gIFZhbHVlT3JGdW5jdGlvbixcbiAgcmVzb2x2ZVZhbHVlLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGdlbklkIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQge1xuICBjcmVhdGVEaXNwYXRjaCxcbiAgQWN0aW9uLFxuICBBY3Rpb25UeXBlLFxuICBkaXNwYXRjaEFsbCxcbiAgZ2V0VG9hc3RlcklkRnJvbVRvYXN0SWQsXG59IGZyb20gJy4vc3RvcmUnO1xuXG50eXBlIE1lc3NhZ2UgPSBWYWx1ZU9yRnVuY3Rpb248UmVuZGVyYWJsZSwgVG9hc3Q+O1xuXG50eXBlIFRvYXN0SGFuZGxlciA9IChtZXNzYWdlOiBNZXNzYWdlLCBvcHRpb25zPzogVG9hc3RPcHRpb25zKSA9PiBzdHJpbmc7XG5cbmNvbnN0IGNyZWF0ZVRvYXN0ID0gKFxuICBtZXNzYWdlOiBNZXNzYWdlLFxuICB0eXBlOiBUb2FzdFR5cGUgPSAnYmxhbmsnLFxuICBvcHRzPzogVG9hc3RPcHRpb25zXG4pOiBUb2FzdCA9PiAoe1xuICBjcmVhdGVkQXQ6IERhdGUubm93KCksXG4gIHZpc2libGU6IHRydWUsXG4gIGRpc21pc3NlZDogZmFsc2UsXG4gIHR5cGUsXG4gIGFyaWFQcm9wczoge1xuICAgIHJvbGU6ICdzdGF0dXMnLFxuICAgICdhcmlhLWxpdmUnOiAncG9saXRlJyxcbiAgfSxcbiAgbWVzc2FnZSxcbiAgcGF1c2VEdXJhdGlvbjogMCxcbiAgLi4ub3B0cyxcbiAgaWQ6IG9wdHM/LmlkIHx8IGdlbklkKCksXG59KTtcblxuY29uc3QgY3JlYXRlSGFuZGxlciA9XG4gICh0eXBlPzogVG9hc3RUeXBlKTogVG9hc3RIYW5kbGVyID0+XG4gIChtZXNzYWdlLCBvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgdG9hc3QgPSBjcmVhdGVUb2FzdChtZXNzYWdlLCB0eXBlLCBvcHRpb25zKTtcblxuICAgIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRGlzcGF0Y2goXG4gICAgICB0b2FzdC50b2FzdGVySWQgfHwgZ2V0VG9hc3RlcklkRnJvbVRvYXN0SWQodG9hc3QuaWQpXG4gICAgKTtcblxuICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5VUFNFUlRfVE9BU1QsIHRvYXN0IH0pO1xuICAgIHJldHVybiB0b2FzdC5pZDtcbiAgfTtcblxuY29uc3QgdG9hc3QgPSAobWVzc2FnZTogTWVzc2FnZSwgb3B0cz86IFRvYXN0T3B0aW9ucykgPT5cbiAgY3JlYXRlSGFuZGxlcignYmxhbmsnKShtZXNzYWdlLCBvcHRzKTtcblxudG9hc3QuZXJyb3IgPSBjcmVhdGVIYW5kbGVyKCdlcnJvcicpO1xudG9hc3Quc3VjY2VzcyA9IGNyZWF0ZUhhbmRsZXIoJ3N1Y2Nlc3MnKTtcbnRvYXN0LmxvYWRpbmcgPSBjcmVhdGVIYW5kbGVyKCdsb2FkaW5nJyk7XG50b2FzdC5jdXN0b20gPSBjcmVhdGVIYW5kbGVyKCdjdXN0b20nKTtcblxuLyoqXG4gKiBEaXNtaXNzZXMgdGhlIHRvYXN0IHdpdGggdGhlIGdpdmVuIGlkLiBJZiBubyBpZCBpcyBnaXZlbiwgZGlzbWlzc2VzIGFsbCB0b2FzdHMuXG4gKiBUaGUgdG9hc3Qgd2lsbCB0cmFuc2l0aW9uIG91dCBhbmQgdGhlbiBiZSByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqIEFwcGxpZXMgdG8gYWxsIHRvYXN0ZXJzLCBleGNlcHQgd2hlbiBhIGB0b2FzdGVySWRgIGlzIGdpdmVuLlxuICovXG50b2FzdC5kaXNtaXNzID0gKHRvYXN0SWQ/OiBzdHJpbmcsIHRvYXN0ZXJJZD86IHN0cmluZykgPT4ge1xuICBjb25zdCBhY3Rpb246IEFjdGlvbiA9IHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlLkRJU01JU1NfVE9BU1QsXG4gICAgdG9hc3RJZCxcbiAgfTtcblxuICBpZiAodG9hc3RlcklkKSB7XG4gICAgY3JlYXRlRGlzcGF0Y2godG9hc3RlcklkKShhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIGRpc3BhdGNoQWxsKGFjdGlvbik7XG4gIH1cbn07XG5cbi8qKlxuICogRGlzbWlzc2VzIGFsbCB0b2FzdHMuXG4gKi9cbnRvYXN0LmRpc21pc3NBbGwgPSAodG9hc3RlcklkPzogc3RyaW5nKSA9PiB0b2FzdC5kaXNtaXNzKHVuZGVmaW5lZCwgdG9hc3RlcklkKTtcblxuLyoqXG4gKiBSZW1vdmVzIHRoZSB0b2FzdCB3aXRoIHRoZSBnaXZlbiBpZC5cbiAqIFRoZSB0b2FzdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHdpdGhvdXQgYW55IHRyYW5zaXRpb24uXG4gKi9cbnRvYXN0LnJlbW92ZSA9ICh0b2FzdElkPzogc3RyaW5nLCB0b2FzdGVySWQ/OiBzdHJpbmcpID0+IHtcbiAgY29uc3QgYWN0aW9uOiBBY3Rpb24gPSB7XG4gICAgdHlwZTogQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1QsXG4gICAgdG9hc3RJZCxcbiAgfTtcbiAgaWYgKHRvYXN0ZXJJZCkge1xuICAgIGNyZWF0ZURpc3BhdGNoKHRvYXN0ZXJJZCkoYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBkaXNwYXRjaEFsbChhY3Rpb24pO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHRvYXN0cy5cbiAqL1xudG9hc3QucmVtb3ZlQWxsID0gKHRvYXN0ZXJJZD86IHN0cmluZykgPT4gdG9hc3QucmVtb3ZlKHVuZGVmaW5lZCwgdG9hc3RlcklkKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBsb2FkaW5nIHRvYXN0IHRoYXQgd2lsbCBhdXRvbWF0aWNhbGx5IHVwZGF0ZXMgd2l0aCB0aGUgcHJvbWlzZS5cbiAqL1xudG9hc3QucHJvbWlzZSA9IDxUPihcbiAgcHJvbWlzZTogUHJvbWlzZTxUPiB8ICgoKSA9PiBQcm9taXNlPFQ+KSxcbiAgbXNnczoge1xuICAgIGxvYWRpbmc6IFJlbmRlcmFibGU7XG4gICAgc3VjY2Vzcz86IFZhbHVlT3JGdW5jdGlvbjxSZW5kZXJhYmxlLCBUPjtcbiAgICBlcnJvcj86IFZhbHVlT3JGdW5jdGlvbjxSZW5kZXJhYmxlLCBhbnk+O1xuICB9LFxuICBvcHRzPzogRGVmYXVsdFRvYXN0T3B0aW9uc1xuKSA9PiB7XG4gIGNvbnN0IGlkID0gdG9hc3QubG9hZGluZyhtc2dzLmxvYWRpbmcsIHsgLi4ub3B0cywgLi4ub3B0cz8ubG9hZGluZyB9KTtcblxuICBpZiAodHlwZW9mIHByb21pc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZSgpO1xuICB9XG5cbiAgcHJvbWlzZVxuICAgIC50aGVuKChwKSA9PiB7XG4gICAgICBjb25zdCBzdWNjZXNzTWVzc2FnZSA9IG1zZ3Muc3VjY2Vzc1xuICAgICAgICA/IHJlc29sdmVWYWx1ZShtc2dzLnN1Y2Nlc3MsIHApXG4gICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoc3VjY2Vzc01lc3NhZ2UpIHtcbiAgICAgICAgdG9hc3Quc3VjY2VzcyhzdWNjZXNzTWVzc2FnZSwge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgLi4ub3B0cz8uc3VjY2VzcyxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2FzdC5kaXNtaXNzKGlkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH0pXG4gICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBtc2dzLmVycm9yID8gcmVzb2x2ZVZhbHVlKG1zZ3MuZXJyb3IsIGUpIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRvYXN0LmVycm9yKGVycm9yTWVzc2FnZSwge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgLi4ub3B0cz8uZXJyb3IsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9hc3QuZGlzbWlzcyhpZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5leHBvcnQgeyB0b2FzdCB9O1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlRGlzcGF0Y2gsIEFjdGlvblR5cGUsIHVzZVN0b3JlLCBkaXNwYXRjaCB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tICcuL3RvYXN0JztcbmltcG9ydCB7IERlZmF1bHRUb2FzdE9wdGlvbnMsIFRvYXN0LCBUb2FzdFBvc2l0aW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBSRU1PVkVfREVMQVkgPSAxMDAwO1xuXG5leHBvcnQgY29uc3QgdXNlVG9hc3RlciA9IChcbiAgdG9hc3RPcHRpb25zPzogRGVmYXVsdFRvYXN0T3B0aW9ucyxcbiAgdG9hc3RlcklkOiBzdHJpbmcgPSAnZGVmYXVsdCdcbikgPT4ge1xuICBjb25zdCB7IHRvYXN0cywgcGF1c2VkQXQgfSA9IHVzZVN0b3JlKHRvYXN0T3B0aW9ucywgdG9hc3RlcklkKTtcbiAgY29uc3QgdG9hc3RUaW1lb3V0cyA9IHVzZVJlZihcbiAgICBuZXcgTWFwPFRvYXN0WydpZCddLCBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0Pj4oKVxuICApLmN1cnJlbnQ7XG5cbiAgY29uc3QgYWRkVG9SZW1vdmVRdWV1ZSA9IHVzZUNhbGxiYWNrKFxuICAgICh0b2FzdElkOiBzdHJpbmcsIHJlbW92ZURlbGF5ID0gUkVNT1ZFX0RFTEFZKSA9PiB7XG4gICAgICBpZiAodG9hc3RUaW1lb3V0cy5oYXModG9hc3RJZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRvYXN0VGltZW91dHMuZGVsZXRlKHRvYXN0SWQpO1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogQWN0aW9uVHlwZS5SRU1PVkVfVE9BU1QsXG4gICAgICAgICAgdG9hc3RJZDogdG9hc3RJZCxcbiAgICAgICAgfSk7XG4gICAgICB9LCByZW1vdmVEZWxheSk7XG5cbiAgICAgIHRvYXN0VGltZW91dHMuc2V0KHRvYXN0SWQsIHRpbWVvdXQpO1xuICAgIH0sXG4gICAgW11cbiAgKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwYXVzZWRBdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgdGltZW91dHMgPSB0b2FzdHMubWFwKCh0KSA9PiB7XG4gICAgICBpZiAodC5kdXJhdGlvbiA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBkdXJhdGlvbkxlZnQgPVxuICAgICAgICAodC5kdXJhdGlvbiB8fCAwKSArIHQucGF1c2VEdXJhdGlvbiAtIChub3cgLSB0LmNyZWF0ZWRBdCk7XG5cbiAgICAgIGlmIChkdXJhdGlvbkxlZnQgPCAwKSB7XG4gICAgICAgIGlmICh0LnZpc2libGUpIHtcbiAgICAgICAgICB0b2FzdC5kaXNtaXNzKHQuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHRvYXN0LmRpc21pc3ModC5pZCwgdG9hc3RlcklkKSwgZHVyYXRpb25MZWZ0KTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aW1lb3V0cy5mb3JFYWNoKCh0aW1lb3V0KSA9PiB0aW1lb3V0ICYmIGNsZWFyVGltZW91dCh0aW1lb3V0KSk7XG4gICAgfTtcbiAgfSwgW3RvYXN0cywgcGF1c2VkQXQsIHRvYXN0ZXJJZF0pO1xuXG4gIGNvbnN0IGRpc3BhdGNoID0gdXNlQ2FsbGJhY2soY3JlYXRlRGlzcGF0Y2godG9hc3RlcklkKSwgW3RvYXN0ZXJJZF0pO1xuXG4gIGNvbnN0IHN0YXJ0UGF1c2UgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZS5TVEFSVF9QQVVTRSxcbiAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH0sIFtkaXNwYXRjaF0pO1xuXG4gIGNvbnN0IHVwZGF0ZUhlaWdodCA9IHVzZUNhbGxiYWNrKFxuICAgICh0b2FzdElkOiBzdHJpbmcsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6IEFjdGlvblR5cGUuVVBEQVRFX1RPQVNULFxuICAgICAgICB0b2FzdDogeyBpZDogdG9hc3RJZCwgaGVpZ2h0IH0sXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtkaXNwYXRjaF1cbiAgKTtcblxuICBjb25zdCBlbmRQYXVzZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAocGF1c2VkQXQpIHtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogQWN0aW9uVHlwZS5FTkRfUEFVU0UsIHRpbWU6IERhdGUubm93KCkgfSk7XG4gICAgfVxuICB9LCBbcGF1c2VkQXQsIGRpc3BhdGNoXSk7XG5cbiAgY29uc3QgY2FsY3VsYXRlT2Zmc2V0ID0gdXNlQ2FsbGJhY2soXG4gICAgKFxuICAgICAgdG9hc3Q6IFRvYXN0LFxuICAgICAgb3B0cz86IHtcbiAgICAgICAgcmV2ZXJzZU9yZGVyPzogYm9vbGVhbjtcbiAgICAgICAgZ3V0dGVyPzogbnVtYmVyO1xuICAgICAgICBkZWZhdWx0UG9zaXRpb24/OiBUb2FzdFBvc2l0aW9uO1xuICAgICAgfVxuICAgICkgPT4ge1xuICAgICAgY29uc3QgeyByZXZlcnNlT3JkZXIgPSBmYWxzZSwgZ3V0dGVyID0gOCwgZGVmYXVsdFBvc2l0aW9uIH0gPSBvcHRzIHx8IHt9O1xuXG4gICAgICBjb25zdCByZWxldmFudFRvYXN0cyA9IHRvYXN0cy5maWx0ZXIoXG4gICAgICAgICh0KSA9PlxuICAgICAgICAgICh0LnBvc2l0aW9uIHx8IGRlZmF1bHRQb3NpdGlvbikgPT09XG4gICAgICAgICAgICAodG9hc3QucG9zaXRpb24gfHwgZGVmYXVsdFBvc2l0aW9uKSAmJiB0LmhlaWdodFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHRvYXN0SW5kZXggPSByZWxldmFudFRvYXN0cy5maW5kSW5kZXgoKHQpID0+IHQuaWQgPT09IHRvYXN0LmlkKTtcbiAgICAgIGNvbnN0IHRvYXN0c0JlZm9yZSA9IHJlbGV2YW50VG9hc3RzLmZpbHRlcihcbiAgICAgICAgKHRvYXN0LCBpKSA9PiBpIDwgdG9hc3RJbmRleCAmJiB0b2FzdC52aXNpYmxlXG4gICAgICApLmxlbmd0aDtcblxuICAgICAgY29uc3Qgb2Zmc2V0ID0gcmVsZXZhbnRUb2FzdHNcbiAgICAgICAgLmZpbHRlcigodCkgPT4gdC52aXNpYmxlKVxuICAgICAgICAuc2xpY2UoLi4uKHJldmVyc2VPcmRlciA/IFt0b2FzdHNCZWZvcmUgKyAxXSA6IFswLCB0b2FzdHNCZWZvcmVdKSlcbiAgICAgICAgLnJlZHVjZSgoYWNjLCB0KSA9PiBhY2MgKyAodC5oZWlnaHQgfHwgMCkgKyBndXR0ZXIsIDApO1xuXG4gICAgICByZXR1cm4gb2Zmc2V0O1xuICAgIH0sXG4gICAgW3RvYXN0c11cbiAgKTtcblxuICAvLyBLZWVwIHRyYWNrIG9mIGRpc21pc3NlZCB0b2FzdHMgYW5kIHJlbW92ZSB0aGVtIGFmdGVyIHRoZSBkZWxheVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRvYXN0cy5mb3JFYWNoKCh0b2FzdCkgPT4ge1xuICAgICAgaWYgKHRvYXN0LmRpc21pc3NlZCkge1xuICAgICAgICBhZGRUb1JlbW92ZVF1ZXVlKHRvYXN0LmlkLCB0b2FzdC5yZW1vdmVEZWxheSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0b2FzdCBiZWNvbWVzIHZpc2libGUgYWdhaW4sIHJlbW92ZSBpdCBmcm9tIHRoZSBxdWV1ZVxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gdG9hc3RUaW1lb3V0cy5nZXQodG9hc3QuaWQpO1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0b2FzdFRpbWVvdXRzLmRlbGV0ZSh0b2FzdC5pZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW3RvYXN0cywgYWRkVG9SZW1vdmVRdWV1ZV0pO1xuXG4gIHJldHVybiB7XG4gICAgdG9hc3RzLFxuICAgIGhhbmRsZXJzOiB7XG4gICAgICB1cGRhdGVIZWlnaHQsXG4gICAgICBzdGFydFBhdXNlLFxuICAgICAgZW5kUGF1c2UsXG4gICAgICBjYWxjdWxhdGVPZmZzZXQsXG4gICAgfSxcbiAgfTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZWQsIGtleWZyYW1lcyB9IGZyb20gJ2dvb2Jlcic7XG5cbmltcG9ydCB7IFRvYXN0LCBUb2FzdFBvc2l0aW9uLCByZXNvbHZlVmFsdWUsIFJlbmRlcmFibGUgfSBmcm9tICcuLi9jb3JlL3R5cGVzJztcbmltcG9ydCB7IFRvYXN0SWNvbiB9IGZyb20gJy4vdG9hc3QtaWNvbic7XG5pbXBvcnQgeyBwcmVmZXJzUmVkdWNlZE1vdGlvbiB9IGZyb20gJy4uL2NvcmUvdXRpbHMnO1xuXG5jb25zdCBlbnRlckFuaW1hdGlvbiA9IChmYWN0b3I6IG51bWJlcikgPT4gYFxuMCUge3RyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwke2ZhY3RvciAqIC0yMDB9JSwwKSBzY2FsZSguNik7IG9wYWNpdHk6LjU7fVxuMTAwJSB7dHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsMCkgc2NhbGUoMSk7IG9wYWNpdHk6MTt9XG5gO1xuXG5jb25zdCBleGl0QW5pbWF0aW9uID0gKGZhY3RvcjogbnVtYmVyKSA9PiBgXG4wJSB7dHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLDAsLTFweCkgc2NhbGUoMSk7IG9wYWNpdHk6MTt9XG4xMDAlIHt0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsJHtmYWN0b3IgKiAtMTUwfSUsLTFweCkgc2NhbGUoLjYpOyBvcGFjaXR5OjA7fVxuYDtcblxuY29uc3QgZmFkZUluQW5pbWF0aW9uID0gYDAle29wYWNpdHk6MDt9IDEwMCV7b3BhY2l0eToxO31gO1xuY29uc3QgZmFkZU91dEFuaW1hdGlvbiA9IGAwJXtvcGFjaXR5OjE7fSAxMDAle29wYWNpdHk6MDt9YDtcblxuY29uc3QgVG9hc3RCYXJCYXNlID0gc3R5bGVkKCdkaXYnKWBcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgY29sb3I6ICMzNjM2MzY7XG4gIGxpbmUtaGVpZ2h0OiAxLjM7XG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XG4gIGJveC1zaGFkb3c6IDAgM3B4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDNweCAzcHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcbiAgbWF4LXdpZHRoOiAzNTBweDtcbiAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gIHBhZGRpbmc6IDhweCAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG5gO1xuXG5jb25zdCBNZXNzYWdlID0gc3R5bGVkKCdkaXYnKWBcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIG1hcmdpbjogNHB4IDEwcHg7XG4gIGNvbG9yOiBpbmhlcml0O1xuICBmbGV4OiAxIDEgYXV0bztcbiAgd2hpdGUtc3BhY2U6IHByZS1saW5lO1xuYDtcblxuaW50ZXJmYWNlIFRvYXN0QmFyUHJvcHMge1xuICB0b2FzdDogVG9hc3Q7XG4gIHBvc2l0aW9uPzogVG9hc3RQb3NpdGlvbjtcbiAgc3R5bGU/OiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICBjaGlsZHJlbj86IChjb21wb25lbnRzOiB7XG4gICAgaWNvbjogUmVuZGVyYWJsZTtcbiAgICBtZXNzYWdlOiBSZW5kZXJhYmxlO1xuICB9KSA9PiBSZW5kZXJhYmxlO1xufVxuXG5jb25zdCBnZXRBbmltYXRpb25TdHlsZSA9IChcbiAgcG9zaXRpb246IFRvYXN0UG9zaXRpb24sXG4gIHZpc2libGU6IGJvb2xlYW5cbik6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPT4ge1xuICBjb25zdCB0b3AgPSBwb3NpdGlvbi5pbmNsdWRlcygndG9wJyk7XG4gIGNvbnN0IGZhY3RvciA9IHRvcCA/IDEgOiAtMTtcblxuICBjb25zdCBbZW50ZXIsIGV4aXRdID0gcHJlZmVyc1JlZHVjZWRNb3Rpb24oKVxuICAgID8gW2ZhZGVJbkFuaW1hdGlvbiwgZmFkZU91dEFuaW1hdGlvbl1cbiAgICA6IFtlbnRlckFuaW1hdGlvbihmYWN0b3IpLCBleGl0QW5pbWF0aW9uKGZhY3RvcildO1xuXG4gIHJldHVybiB7XG4gICAgYW5pbWF0aW9uOiB2aXNpYmxlXG4gICAgICA/IGAke2tleWZyYW1lcyhlbnRlcil9IDAuMzVzIGN1YmljLWJlemllciguMjEsMS4wMiwuNzMsMSkgZm9yd2FyZHNgXG4gICAgICA6IGAke2tleWZyYW1lcyhleGl0KX0gMC40cyBmb3J3YXJkcyBjdWJpYy1iZXppZXIoLjA2LC43MSwuNTUsMSlgLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IFRvYXN0QmFyOiBSZWFjdC5GQzxUb2FzdEJhclByb3BzPiA9IFJlYWN0Lm1lbW8oXG4gICh7IHRvYXN0LCBwb3NpdGlvbiwgc3R5bGUsIGNoaWxkcmVuIH0pID0+IHtcbiAgICBjb25zdCBhbmltYXRpb25TdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHRvYXN0LmhlaWdodFxuICAgICAgPyBnZXRBbmltYXRpb25TdHlsZShcbiAgICAgICAgICB0b2FzdC5wb3NpdGlvbiB8fCBwb3NpdGlvbiB8fCAndG9wLWNlbnRlcicsXG4gICAgICAgICAgdG9hc3QudmlzaWJsZVxuICAgICAgICApXG4gICAgICA6IHsgb3BhY2l0eTogMCB9O1xuXG4gICAgY29uc3QgaWNvbiA9IDxUb2FzdEljb24gdG9hc3Q9e3RvYXN0fSAvPjtcbiAgICBjb25zdCBtZXNzYWdlID0gKFxuICAgICAgPE1lc3NhZ2Ugey4uLnRvYXN0LmFyaWFQcm9wc30+XG4gICAgICAgIHtyZXNvbHZlVmFsdWUodG9hc3QubWVzc2FnZSwgdG9hc3QpfVxuICAgICAgPC9NZXNzYWdlPlxuICAgICk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFRvYXN0QmFyQmFzZVxuICAgICAgICBjbGFzc05hbWU9e3RvYXN0LmNsYXNzTmFtZX1cbiAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAuLi5hbmltYXRpb25TdHlsZSxcbiAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAuLi50b2FzdC5zdHlsZSxcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAge3R5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IChcbiAgICAgICAgICBjaGlsZHJlbih7XG4gICAgICAgICAgICBpY29uLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICB9KVxuICAgICAgICApIDogKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICB7aWNvbn1cbiAgICAgICAgICAgIHttZXNzYWdlfVxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9Ub2FzdEJhckJhc2U+XG4gICAgKTtcbiAgfVxuKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHN0eWxlZCwga2V5ZnJhbWVzIH0gZnJvbSAnZ29vYmVyJztcblxuaW1wb3J0IHsgVG9hc3QgfSBmcm9tICcuLi9jb3JlL3R5cGVzJztcbmltcG9ydCB7IEVycm9ySWNvbiwgRXJyb3JUaGVtZSB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgTG9hZGVySWNvbiwgTG9hZGVyVGhlbWUgfSBmcm9tICcuL2xvYWRlcic7XG5pbXBvcnQgeyBDaGVja21hcmtJY29uLCBDaGVja21hcmtUaGVtZSB9IGZyb20gJy4vY2hlY2ttYXJrJztcblxuY29uc3QgU3RhdHVzV3JhcHBlciA9IHN0eWxlZCgnZGl2JylgXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbmA7XG5cbmNvbnN0IEluZGljYXRvcldyYXBwZXIgPSBzdHlsZWQoJ2RpdicpYFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBtaW4td2lkdGg6IDIwcHg7XG4gIG1pbi1oZWlnaHQ6IDIwcHg7XG5gO1xuXG5jb25zdCBlbnRlciA9IGtleWZyYW1lc2BcbmZyb20ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDAuNik7XG4gIG9wYWNpdHk6IDAuNDtcbn1cbnRvIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgb3BhY2l0eTogMTtcbn1gO1xuXG5leHBvcnQgY29uc3QgQW5pbWF0ZWRJY29uV3JhcHBlciA9IHN0eWxlZCgnZGl2JylgXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjYpO1xuICBvcGFjaXR5OiAwLjQ7XG4gIG1pbi13aWR0aDogMjBweDtcbiAgYW5pbWF0aW9uOiAke2VudGVyfSAwLjNzIDAuMTJzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KVxuICAgIGZvcndhcmRzO1xuYDtcblxuZXhwb3J0IHR5cGUgSWNvblRoZW1lcyA9IFBhcnRpYWw8e1xuICBzdWNjZXNzOiBDaGVja21hcmtUaGVtZTtcbiAgZXJyb3I6IEVycm9yVGhlbWU7XG4gIGxvYWRpbmc6IExvYWRlclRoZW1lO1xufT47XG5cbmV4cG9ydCBjb25zdCBUb2FzdEljb246IFJlYWN0LkZDPHtcbiAgdG9hc3Q6IFRvYXN0O1xufT4gPSAoeyB0b2FzdCB9KSA9PiB7XG4gIGNvbnN0IHsgaWNvbiwgdHlwZSwgaWNvblRoZW1lIH0gPSB0b2FzdDtcbiAgaWYgKGljb24gIT09IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgaWNvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiA8QW5pbWF0ZWRJY29uV3JhcHBlcj57aWNvbn08L0FuaW1hdGVkSWNvbldyYXBwZXI+O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaWNvbjtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ2JsYW5rJykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8SW5kaWNhdG9yV3JhcHBlcj5cbiAgICAgIDxMb2FkZXJJY29uIHsuLi5pY29uVGhlbWV9IC8+XG4gICAgICB7dHlwZSAhPT0gJ2xvYWRpbmcnICYmIChcbiAgICAgICAgPFN0YXR1c1dyYXBwZXI+XG4gICAgICAgICAge3R5cGUgPT09ICdlcnJvcicgPyAoXG4gICAgICAgICAgICA8RXJyb3JJY29uIHsuLi5pY29uVGhlbWV9IC8+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxDaGVja21hcmtJY29uIHsuLi5pY29uVGhlbWV9IC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9TdGF0dXNXcmFwcGVyPlxuICAgICAgKX1cbiAgICA8L0luZGljYXRvcldyYXBwZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0IHsgc3R5bGVkLCBrZXlmcmFtZXMgfSBmcm9tICdnb29iZXInO1xuXG5jb25zdCBjaXJjbGVBbmltYXRpb24gPSBrZXlmcmFtZXNgXG5mcm9tIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKSByb3RhdGUoNDVkZWcpO1xuXHRvcGFjaXR5OiAwO1xufVxudG8ge1xuIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDQ1ZGVnKTtcbiAgb3BhY2l0eTogMTtcbn1gO1xuXG5jb25zdCBmaXJzdExpbmVBbmltYXRpb24gPSBrZXlmcmFtZXNgXG5mcm9tIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcbiAgb3BhY2l0eTogMDtcbn1cbnRvIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKTtcbiAgb3BhY2l0eTogMTtcbn1gO1xuXG5jb25zdCBzZWNvbmRMaW5lQW5pbWF0aW9uID0ga2V5ZnJhbWVzYFxuZnJvbSB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMCkgcm90YXRlKDkwZGVnKTtcblx0b3BhY2l0eTogMDtcbn1cbnRvIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxKSByb3RhdGUoOTBkZWcpO1xuXHRvcGFjaXR5OiAxO1xufWA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3JUaGVtZSB7XG4gIHByaW1hcnk/OiBzdHJpbmc7XG4gIHNlY29uZGFyeT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IEVycm9ySWNvbiA9IHN0eWxlZCgnZGl2Jyk8RXJyb3JUaGVtZT5gXG4gIHdpZHRoOiAyMHB4O1xuICBvcGFjaXR5OiAwO1xuICBoZWlnaHQ6IDIwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQ6ICR7KHApID0+IHAucHJpbWFyeSB8fCAnI2ZmNGI0Yid9O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcblxuICBhbmltYXRpb246ICR7Y2lyY2xlQW5pbWF0aW9ufSAwLjNzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KVxuICAgIGZvcndhcmRzO1xuICBhbmltYXRpb24tZGVsYXk6IDEwMG1zO1xuXG4gICY6YWZ0ZXIsXG4gICY6YmVmb3JlIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBhbmltYXRpb246ICR7Zmlyc3RMaW5lQW5pbWF0aW9ufSAwLjE1cyBlYXNlLW91dCBmb3J3YXJkcztcbiAgICBhbmltYXRpb24tZGVsYXk6IDE1MG1zO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgb3BhY2l0eTogMDtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiBwLnNlY29uZGFyeSB8fCAnI2ZmZid9O1xuICAgIGJvdHRvbTogOXB4O1xuICAgIGxlZnQ6IDRweDtcbiAgICBoZWlnaHQ6IDJweDtcbiAgICB3aWR0aDogMTJweDtcbiAgfVxuXG4gICY6YmVmb3JlIHtcbiAgICBhbmltYXRpb246ICR7c2Vjb25kTGluZUFuaW1hdGlvbn0gMC4xNXMgZWFzZS1vdXQgZm9yd2FyZHM7XG4gICAgYW5pbWF0aW9uLWRlbGF5OiAxODBtcztcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XG4gIH1cbmA7XG4iLCJpbXBvcnQgeyBzdHlsZWQsIGtleWZyYW1lcyB9IGZyb20gJ2dvb2Jlcic7XG5cbmNvbnN0IHJvdGF0ZSA9IGtleWZyYW1lc2BcbiAgZnJvbSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbiAgdG8ge1xuICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gIH1cbmA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9hZGVyVGhlbWUge1xuICBwcmltYXJ5Pzogc3RyaW5nO1xuICBzZWNvbmRhcnk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBMb2FkZXJJY29uID0gc3R5bGVkKCdkaXYnKTxMb2FkZXJUaGVtZT5gXG4gIHdpZHRoOiAxMnB4O1xuICBoZWlnaHQ6IDEycHg7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJvcmRlcjogMnB4IHNvbGlkO1xuICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICBib3JkZXItY29sb3I6ICR7KHApID0+IHAuc2Vjb25kYXJ5IHx8ICcjZTBlMGUwJ307XG4gIGJvcmRlci1yaWdodC1jb2xvcjogJHsocCkgPT4gcC5wcmltYXJ5IHx8ICcjNjE2MTYxJ307XG4gIGFuaW1hdGlvbjogJHtyb3RhdGV9IDFzIGxpbmVhciBpbmZpbml0ZTtcbmA7XG4iLCJpbXBvcnQgeyBzdHlsZWQsIGtleWZyYW1lcyB9IGZyb20gJ2dvb2Jlcic7XG5cbmNvbnN0IGNpcmNsZUFuaW1hdGlvbiA9IGtleWZyYW1lc2BcbmZyb20ge1xuICB0cmFuc2Zvcm06IHNjYWxlKDApIHJvdGF0ZSg0NWRlZyk7XG5cdG9wYWNpdHk6IDA7XG59XG50byB7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSkgcm90YXRlKDQ1ZGVnKTtcblx0b3BhY2l0eTogMTtcbn1gO1xuXG5jb25zdCBjaGVja21hcmtBbmltYXRpb24gPSBrZXlmcmFtZXNgXG4wJSB7XG5cdGhlaWdodDogMDtcblx0d2lkdGg6IDA7XG5cdG9wYWNpdHk6IDA7XG59XG40MCUge1xuICBoZWlnaHQ6IDA7XG5cdHdpZHRoOiA2cHg7XG5cdG9wYWNpdHk6IDE7XG59XG4xMDAlIHtcbiAgb3BhY2l0eTogMTtcbiAgaGVpZ2h0OiAxMHB4O1xufWA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2ttYXJrVGhlbWUge1xuICBwcmltYXJ5Pzogc3RyaW5nO1xuICBzZWNvbmRhcnk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBDaGVja21hcmtJY29uID0gc3R5bGVkKCdkaXYnKTxDaGVja21hcmtUaGVtZT5gXG4gIHdpZHRoOiAyMHB4O1xuICBvcGFjaXR5OiAwO1xuICBoZWlnaHQ6IDIwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQ6ICR7KHApID0+IHAucHJpbWFyeSB8fCAnIzYxZDM0NSd9O1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcblxuICBhbmltYXRpb246ICR7Y2lyY2xlQW5pbWF0aW9ufSAwLjNzIGN1YmljLWJlemllcigwLjE3NSwgMC44ODUsIDAuMzIsIDEuMjc1KVxuICAgIGZvcndhcmRzO1xuICBhbmltYXRpb24tZGVsYXk6IDEwMG1zO1xuICAmOmFmdGVyIHtcbiAgICBjb250ZW50OiAnJztcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGFuaW1hdGlvbjogJHtjaGVja21hcmtBbmltYXRpb259IDAuMnMgZWFzZS1vdXQgZm9yd2FyZHM7XG4gICAgb3BhY2l0eTogMDtcbiAgICBhbmltYXRpb24tZGVsYXk6IDIwMG1zO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZDtcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQ7XG4gICAgYm9yZGVyLWNvbG9yOiAkeyhwKSA9PiBwLnNlY29uZGFyeSB8fCAnI2ZmZid9O1xuICAgIGJvdHRvbTogNnB4O1xuICAgIGxlZnQ6IDZweDtcbiAgICBoZWlnaHQ6IDEwcHg7XG4gICAgd2lkdGg6IDZweDtcbiAgfVxuYDtcbiIsImltcG9ydCB7IGNzcywgc2V0dXAgfSBmcm9tICdnb29iZXInO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgcmVzb2x2ZVZhbHVlLFxuICBUb2FzdGVyUHJvcHMsXG4gIFRvYXN0UG9zaXRpb24sXG4gIFRvYXN0V3JhcHBlclByb3BzLFxufSBmcm9tICcuLi9jb3JlL3R5cGVzJztcbmltcG9ydCB7IHVzZVRvYXN0ZXIgfSBmcm9tICcuLi9jb3JlL3VzZS10b2FzdGVyJztcbmltcG9ydCB7IHByZWZlcnNSZWR1Y2VkTW90aW9uIH0gZnJvbSAnLi4vY29yZS91dGlscyc7XG5pbXBvcnQgeyBUb2FzdEJhciB9IGZyb20gJy4vdG9hc3QtYmFyJztcblxuc2V0dXAoUmVhY3QuY3JlYXRlRWxlbWVudCk7XG5cbmNvbnN0IFRvYXN0V3JhcHBlciA9ICh7XG4gIGlkLFxuICBjbGFzc05hbWUsXG4gIHN0eWxlLFxuICBvbkhlaWdodFVwZGF0ZSxcbiAgY2hpbGRyZW4sXG59OiBUb2FzdFdyYXBwZXJQcm9wcykgPT4ge1xuICBjb25zdCByZWYgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAoZWw6IEhUTUxFbGVtZW50IHwgbnVsbCkgPT4ge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZUhlaWdodCA9ICgpID0+IHtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICAgICAgb25IZWlnaHRVcGRhdGUoaWQsIGhlaWdodCk7XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZUhlaWdodCgpO1xuICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcih1cGRhdGVIZWlnaHQpLm9ic2VydmUoZWwsIHtcbiAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtpZCwgb25IZWlnaHRVcGRhdGVdXG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IHJlZj17cmVmfSBjbGFzc05hbWU9e2NsYXNzTmFtZX0gc3R5bGU9e3N0eWxlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IGdldFBvc2l0aW9uU3R5bGUgPSAoXG4gIHBvc2l0aW9uOiBUb2FzdFBvc2l0aW9uLFxuICBvZmZzZXQ6IG51bWJlclxuKTogUmVhY3QuQ1NTUHJvcGVydGllcyA9PiB7XG4gIGNvbnN0IHRvcCA9IHBvc2l0aW9uLmluY2x1ZGVzKCd0b3AnKTtcbiAgY29uc3QgdmVydGljYWxTdHlsZTogUmVhY3QuQ1NTUHJvcGVydGllcyA9IHRvcCA/IHsgdG9wOiAwIH0gOiB7IGJvdHRvbTogMCB9O1xuICBjb25zdCBob3Jpem9udGFsU3R5bGU6IFJlYWN0LkNTU1Byb3BlcnRpZXMgPSBwb3NpdGlvbi5pbmNsdWRlcygnY2VudGVyJylcbiAgICA/IHtcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgfVxuICAgIDogcG9zaXRpb24uaW5jbHVkZXMoJ3JpZ2h0JylcbiAgICA/IHtcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LWVuZCcsXG4gICAgICB9XG4gICAgOiB7fTtcbiAgcmV0dXJuIHtcbiAgICBsZWZ0OiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICB0cmFuc2l0aW9uOiBwcmVmZXJzUmVkdWNlZE1vdGlvbigpXG4gICAgICA/IHVuZGVmaW5lZFxuICAgICAgOiBgYWxsIDIzMG1zIGN1YmljLWJlemllciguMjEsMS4wMiwuNzMsMSlgLFxuICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtvZmZzZXQgKiAodG9wID8gMSA6IC0xKX1weClgLFxuICAgIC4uLnZlcnRpY2FsU3R5bGUsXG4gICAgLi4uaG9yaXpvbnRhbFN0eWxlLFxuICB9O1xufTtcblxuY29uc3QgYWN0aXZlQ2xhc3MgPSBjc3NgXG4gIHotaW5kZXg6IDk5OTk7XG4gID4gKiB7XG4gICAgcG9pbnRlci1ldmVudHM6IGF1dG87XG4gIH1cbmA7XG5cbmNvbnN0IERFRkFVTFRfT0ZGU0VUID0gMTY7XG5cbmV4cG9ydCBjb25zdCBUb2FzdGVyOiBSZWFjdC5GQzxUb2FzdGVyUHJvcHM+ID0gKHtcbiAgcmV2ZXJzZU9yZGVyLFxuICBwb3NpdGlvbiA9ICd0b3AtY2VudGVyJyxcbiAgdG9hc3RPcHRpb25zLFxuICBndXR0ZXIsXG4gIGNoaWxkcmVuLFxuICB0b2FzdGVySWQsXG4gIGNvbnRhaW5lclN0eWxlLFxuICBjb250YWluZXJDbGFzc05hbWUsXG59KSA9PiB7XG4gIGNvbnN0IHsgdG9hc3RzLCBoYW5kbGVycyB9ID0gdXNlVG9hc3Rlcih0b2FzdE9wdGlvbnMsIHRvYXN0ZXJJZCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBkYXRhLXJodC10b2FzdGVyPXt0b2FzdGVySWQgfHwgJyd9XG4gICAgICBzdHlsZT17e1xuICAgICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICB0b3A6IERFRkFVTFRfT0ZGU0VULFxuICAgICAgICBsZWZ0OiBERUZBVUxUX09GRlNFVCxcbiAgICAgICAgcmlnaHQ6IERFRkFVTFRfT0ZGU0VULFxuICAgICAgICBib3R0b206IERFRkFVTFRfT0ZGU0VULFxuICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZScsXG4gICAgICAgIC4uLmNvbnRhaW5lclN0eWxlLFxuICAgICAgfX1cbiAgICAgIGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3NOYW1lfVxuICAgICAgb25Nb3VzZUVudGVyPXtoYW5kbGVycy5zdGFydFBhdXNlfVxuICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVycy5lbmRQYXVzZX1cbiAgICA+XG4gICAgICB7dG9hc3RzLm1hcCgodCkgPT4ge1xuICAgICAgICBjb25zdCB0b2FzdFBvc2l0aW9uID0gdC5wb3NpdGlvbiB8fCBwb3NpdGlvbjtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaGFuZGxlcnMuY2FsY3VsYXRlT2Zmc2V0KHQsIHtcbiAgICAgICAgICByZXZlcnNlT3JkZXIsXG4gICAgICAgICAgZ3V0dGVyLFxuICAgICAgICAgIGRlZmF1bHRQb3NpdGlvbjogcG9zaXRpb24sXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwb3NpdGlvblN0eWxlID0gZ2V0UG9zaXRpb25TdHlsZSh0b2FzdFBvc2l0aW9uLCBvZmZzZXQpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRvYXN0V3JhcHBlclxuICAgICAgICAgICAgaWQ9e3QuaWR9XG4gICAgICAgICAgICBrZXk9e3QuaWR9XG4gICAgICAgICAgICBvbkhlaWdodFVwZGF0ZT17aGFuZGxlcnMudXBkYXRlSGVpZ2h0fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXt0LnZpc2libGUgPyBhY3RpdmVDbGFzcyA6ICcnfVxuICAgICAgICAgICAgc3R5bGU9e3Bvc2l0aW9uU3R5bGV9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3QudHlwZSA9PT0gJ2N1c3RvbScgPyAoXG4gICAgICAgICAgICAgIHJlc29sdmVWYWx1ZSh0Lm1lc3NhZ2UsIHQpXG4gICAgICAgICAgICApIDogY2hpbGRyZW4gPyAoXG4gICAgICAgICAgICAgIGNoaWxkcmVuKHQpXG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8VG9hc3RCYXIgdG9hc3Q9e3R9IHBvc2l0aW9uPXt0b2FzdFBvc2l0aW9ufSAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L1RvYXN0V3JhcHBlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pfVxuICAgIDwvZGl2PlxuICApO1xufTtcbiIsImltcG9ydCB7IHRvYXN0IH0gZnJvbSAnLi9jb3JlL3RvYXN0JztcblxuZXhwb3J0ICogZnJvbSAnLi9oZWFkbGVzcyc7XG5cbmV4cG9ydCB7IFRvYXN0QmFyIH0gZnJvbSAnLi9jb21wb25lbnRzL3RvYXN0LWJhcic7XG5leHBvcnQgeyBUb2FzdEljb24gfSBmcm9tICcuL2NvbXBvbmVudHMvdG9hc3QtaWNvbic7XG5leHBvcnQgeyBUb2FzdGVyIH0gZnJvbSAnLi9jb21wb25lbnRzL3RvYXN0ZXInO1xuZXhwb3J0IHsgQ2hlY2ttYXJrSWNvbiB9IGZyb20gJy4vY29tcG9uZW50cy9jaGVja21hcmsnO1xuZXhwb3J0IHsgRXJyb3JJY29uIH0gZnJvbSAnLi9jb21wb25lbnRzL2Vycm9yJztcbmV4cG9ydCB7IExvYWRlckljb24gfSBmcm9tICcuL2NvbXBvbmVudHMvbG9hZGVyJztcblxuZXhwb3J0IHsgdG9hc3QgfTtcbmV4cG9ydCBkZWZhdWx0IHRvYXN0O1xuIl0sIm5hbWVzIjpbImlzRnVuY3Rpb24iLCJ2YWxPckZ1bmN0aW9uIiwicmVzb2x2ZVZhbHVlIiwiYXJnIiwiZ2VuSWQiLCJjb3VudCIsInByZWZlcnNSZWR1Y2VkTW90aW9uIiwic2hvdWxkUmVkdWNlTW90aW9uIiwibWVkaWFRdWVyeSIsInVzZUVmZmVjdCIsInVzZVN0YXRlIiwidXNlUmVmIiwiVE9BU1RfTElNSVQiLCJERUZBVUxUX1RPQVNURVJfSUQiLCJyZWR1Y2VyIiwic3RhdGUiLCJhY3Rpb24iLCJ0b2FzdExpbWl0IiwidCIsInRvYXN0IiwidG9hc3RJZCIsImRpZmYiLCJsaXN0ZW5lcnMiLCJkZWZhdWx0VG9hc3RlclN0YXRlIiwibWVtb3J5U3RhdGUiLCJkaXNwYXRjaCIsInRvYXN0ZXJJZCIsImlkIiwibGlzdGVuZXIiLCJkaXNwYXRjaEFsbCIsImdldFRvYXN0ZXJJZEZyb21Ub2FzdElkIiwiY3JlYXRlRGlzcGF0Y2giLCJkZWZhdWx0VGltZW91dHMiLCJ1c2VTdG9yZSIsInRvYXN0T3B0aW9ucyIsInNldFN0YXRlIiwiaW5pdGlhbCIsImluZGV4IiwibWVyZ2VkVG9hc3RzIiwiX2EiLCJfYiIsIl9jIiwiY3JlYXRlVG9hc3QiLCJtZXNzYWdlIiwidHlwZSIsIm9wdHMiLCJjcmVhdGVIYW5kbGVyIiwib3B0aW9ucyIsInByb21pc2UiLCJtc2dzIiwicCIsInN1Y2Nlc3NNZXNzYWdlIiwiZSIsImVycm9yTWVzc2FnZSIsInVzZUNhbGxiYWNrIiwiUkVNT1ZFX0RFTEFZIiwidXNlVG9hc3RlciIsInRvYXN0cyIsInBhdXNlZEF0IiwidG9hc3RUaW1lb3V0cyIsImFkZFRvUmVtb3ZlUXVldWUiLCJyZW1vdmVEZWxheSIsInRpbWVvdXQiLCJub3ciLCJ0aW1lb3V0cyIsImR1cmF0aW9uTGVmdCIsInN0YXJ0UGF1c2UiLCJ1cGRhdGVIZWlnaHQiLCJoZWlnaHQiLCJlbmRQYXVzZSIsImNhbGN1bGF0ZU9mZnNldCIsInJldmVyc2VPcmRlciIsImd1dHRlciIsImRlZmF1bHRQb3NpdGlvbiIsInJlbGV2YW50VG9hc3RzIiwidG9hc3RJbmRleCIsInRvYXN0c0JlZm9yZSIsImkiLCJhY2MiLCJSZWFjdCIsInN0eWxlZCIsImtleWZyYW1lcyIsImNpcmNsZUFuaW1hdGlvbiIsImZpcnN0TGluZUFuaW1hdGlvbiIsInNlY29uZExpbmVBbmltYXRpb24iLCJFcnJvckljb24iLCJyb3RhdGUiLCJMb2FkZXJJY29uIiwiY2hlY2ttYXJrQW5pbWF0aW9uIiwiQ2hlY2ttYXJrSWNvbiIsIlN0YXR1c1dyYXBwZXIiLCJJbmRpY2F0b3JXcmFwcGVyIiwiZW50ZXIiLCJBbmltYXRlZEljb25XcmFwcGVyIiwiVG9hc3RJY29uIiwiaWNvbiIsImljb25UaGVtZSIsImVudGVyQW5pbWF0aW9uIiwiZmFjdG9yIiwiZXhpdEFuaW1hdGlvbiIsImZhZGVJbkFuaW1hdGlvbiIsImZhZGVPdXRBbmltYXRpb24iLCJUb2FzdEJhckJhc2UiLCJNZXNzYWdlIiwiZ2V0QW5pbWF0aW9uU3R5bGUiLCJwb3NpdGlvbiIsInZpc2libGUiLCJleGl0IiwiVG9hc3RCYXIiLCJzdHlsZSIsImNoaWxkcmVuIiwiYW5pbWF0aW9uU3R5bGUiLCJjc3MiLCJzZXR1cCIsIlRvYXN0V3JhcHBlciIsImNsYXNzTmFtZSIsIm9uSGVpZ2h0VXBkYXRlIiwicmVmIiwiZWwiLCJnZXRQb3NpdGlvblN0eWxlIiwib2Zmc2V0IiwidG9wIiwidmVydGljYWxTdHlsZSIsImhvcml6b250YWxTdHlsZSIsImFjdGl2ZUNsYXNzIiwiREVGQVVMVF9PRkZTRVQiLCJUb2FzdGVyIiwiY29udGFpbmVyU3R5bGUiLCJjb250YWluZXJDbGFzc05hbWUiLCJoYW5kbGVycyIsInRvYXN0UG9zaXRpb24iLCJwb3NpdGlvblN0eWxlIiwic3JjX2RlZmF1bHQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\n"));

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["main-app"], () => (__webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CAchievementTriggerManager.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Ccomponents%5C%5CThemeController.tsx%22%2C%22ids%22%3A%5B%22default%22%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Capp%5C%5Cglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22C%3A%5C%5CMommy%20Lucy%5C%5CProjects%5C%5CLucid%20Dream%5C%5Cnode_modules%5C%5Creact-hot-toast%5C%5Cdist%5C%5Cindex.mjs%22%2C%22ids%22%3A%5B%22Toaster%22%5D%7D&server=false!")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);